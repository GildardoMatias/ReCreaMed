(this.webpackJsonprecreamed=this.webpackJsonprecreamed||[]).push([[0],{553:function(e,t,a){},554:function(e,t,a){},572:function(e,t,a){},581:function(e,t,a){},582:function(e,t,a){},583:function(e,t,a){},584:function(e,t,a){},585:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(62),c=a.n(r),i=a(42),o=a(78),l=(a(482),a(483),a(459)),d=a(212),j=a(127),u=a(611),b=a(602),m=a(606),h=a(234),O=a(74),x=a(615),p=a(616),f=a(40),g=a.n(f),y=a(70),v="https://api.recreamed.com/api/",C="https://api.recreamed.com/session/",I=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),localStorage.removeItem("userData"),window.location.href="/"},S=JSON.parse(localStorage.getItem("userData"));function F(e){return k.apply(this,arguments)}function k(){return(k=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+t).then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+t,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.info(e.message)})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(y.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=Object(y.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=a.p+"static/media/Logo.bcbe104c.png",q=a(2);function _(){return Object(q.jsx)(d.a,{children:Object(q.jsxs)(j.a,{span:8,offset:8,children:[Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsxs)(u.a,{hoverable:!0,children:[Object(q.jsx)("br",{}),Object(q.jsxs)(d.a,{justify:"center",children:[" ",Object(q.jsx)("img",{src:E,alt:"Logo",width:160})]}),Object(q.jsx)("br",{}),Object(q.jsx)(d.a,{justify:"center",children:Object(q.jsx)("h3",{children:"Inicio de Sesion"})}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){delete e.remember,console.log("Received values of form: ",e),fetch(C+"login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return console.log("data",e),e.json()})).then((function(e){console.log("resp",e),"Bienvenido"===e.message?(localStorage.setItem("userType",e.user.rol),localStorage.setItem("sessionToken",e.data.token),localStorage.setItem("userData",JSON.stringify(e.user)),window.location.href="/"):l.b.info(e.error||e.message)})).catch((function(e){return window.alert("Error: ",e)}))},children:[Object(q.jsx)(b.a.Item,{name:"email",rules:[{required:!0,message:"Por favor ingresa el correo de tu cuenta!"}],children:Object(q.jsx)(m.a,{prefix:Object(q.jsx)(x.a,{className:"site-form-item-icon"}),placeholder:"Usuario"})}),Object(q.jsx)(b.a.Item,{name:"password",rules:[{required:!0,message:"Por favor ingresa tu contrase\xf1a!"}],children:Object(q.jsx)(m.a,{prefix:Object(q.jsx)(p.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Contrase\xf1a"})}),Object(q.jsxs)(b.a.Item,{children:[Object(q.jsx)(b.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(q.jsx)(h.a,{children:"Mantener la sesion"})}),Object(q.jsx)("a",{className:"login-form-forgot",href:"",children:"Recuperar contrase\xf1a"})]}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{block:!0,type:"primary",htmlType:"submit",className:"login-form-button",children:"Iniciar Sesion"})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsxs)(d.a,{justify:"center",children:[" O ",Object(q.jsx)("a",{href:"register",children:"Registrarse"})]})})]})]})]})})}var R=a(16),A=a(65),D=a(12),M=a(162),L=a(613),H=a(605),z=a(617),Z=a(463),B=(a(553),["key","name"]),J=M.a.Option,G=["Michoacan","Morelos","Guerrero"],U={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},V={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function X(){var e=b.a.useForm(),t=Object(D.a)(e,1)[0],a=Object(n.useState)([]),s=Object(D.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)(!0),o=Object(D.a)(i,2),x=o[0],p=o[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(v+"sucursales").then((function(e){return e.json()})).then((function(e){console.log(e),c(e),p(!1)}))},g=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(J,{value:"+52",children:"+52"})})}),y=Object(q.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(q.jsxs)(M.a,{style:{width:70},children:[Object(q.jsx)(J,{value:"USD",children:"$"}),Object(q.jsx)(J,{value:"CNY",children:"\xa5"})]})});return Object(q.jsx)(d.a,{children:Object(q.jsxs)(j.a,{span:12,offset:6,children:[Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsxs)(u.a,{hoverable:!0,children:[Object(q.jsxs)(d.a,{justify:"center",children:[" ",Object(q.jsx)("img",{src:E,alt:"Logo",width:160})]}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(d.a,{justify:"center",children:Object(q.jsx)("h3",{children:"Registro de Usuario"})}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,Object(R.a)(Object(R.a)({},U),{},{form:t,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),e.message?l.b.success(e.message):l.b.error(e.error),e.message&&"Usuario creado correctamente"===e.message&&(window.location.href="/")})).catch((function(e){return console.error("Error:",e)}))},initialValues:{horarios:[{sucursal:"",horario:""}],prefix:"+52"},scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"rol",label:"Rol",rules:[{required:!0,message:"Elije el rol"}],children:Object(q.jsxs)(M.a,{placeholder:"Elije el tipo de rol",children:[Object(q.jsx)(J,{value:"Administrador",children:"Administrador de Hospital"}),Object(q.jsx)(J,{value:"Recepcion",children:"Recepcion"}),Object(q.jsx)(J,{value:"Medico",children:"Medico"}),Object(q.jsx)(J,{value:"Paciente",disabled:!0,children:"Paciente"})]})}),Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:g,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(q.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,t){var a=t.add,n=t.remove;return Object(q.jsxs)(q.Fragment,{children:[e.map((function(e){var t=e.key,a=e.name,s=Object(A.a)(e,B);return Object(q.jsxs)(L.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},s),{},{name:[a,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(q.jsx)(M.a,{placeholder:"Elije Sucursal",style:{width:"180px"},children:x?"Cargando":r.map((function(e){return Object(q.jsx)(J,{value:e._id,children:e.nombre})}))})})),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},s),{},{name:[a,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(q.jsx)(m.a,{placeholder:"Horario"})})),Object(q.jsx)(z.a,{onClick:function(){return n(a)}})]},t)})),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(q.jsx)(Z.a,{}),children:"Agregar Horario"})})]})}})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:G.map((function(e){return Object(q.jsx)(J,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{addonAfter:y,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject(new Error("Should accept agreement"))}}]},V),{},{children:Object(q.jsxs)(h.a,{children:["He le\xeddo y acepto los ",Object(q.jsx)("a",{href:"https://recreamed.com",children:"terminos y condiciones"})]})})),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},V),{},{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Register"})}))]}))]})]})})}a(554);var Y=a(600),K=a(596),$=a(601),W=a(45),Q=a(46),ee=a(47),te=a(48),ae=a(591),ne=a(180),se=a(618),re=a(619),ce=a(620),ie=M.a.Option,oe=["Michoacan","Morelos","Guerrero"];function le(){var e=b.a.useForm(),t=Object(D.a)(e,1)[0],a=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(ie,{value:"+52",children:"+52"})})}),n=Object(q.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(q.jsxs)(M.a,{style:{width:70},children:[Object(q.jsx)(ie,{value:"USD",children:"$"}),Object(q.jsx)(ie,{value:"CNY",children:"\xa5"})]})});return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Registrar Paciente"}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Paciente",e.password=e.telefono,e.universidad="",e.certificacion="",e.cedula="",e.horarios=[],e.medicos_asignados=[S._id],delete e.prefix,console.log(e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:a,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:oe.map((function(e){return Object(q.jsx)(ie,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{addonAfter:n,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}var de=a(598),je=a(435);function ue(){return Object(q.jsx)("div",{style:{margin:"20px 0",marginBottom:"20px",padding:"30px 50px",textAlign:"center",background:"rgba(0, 0, 0, 0.05)",borderRadius:"4px"},children:Object(q.jsx)(je.a,{})})}function be(){var e=Object(n.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!0),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)("tabla"),d=Object(D.a)(l,2);d[0],d[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){fetch(v+"mispacientes/".concat(S._id)).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).finally((function(){return o(!1)}))},u=[{title:"Nombre",dataIndex:"name",key:"name",render:function(e){return Object(q.jsx)("a",{href:"detalles",children:e})}},{title:"Medico",dataIndex:"id_medicoasignado",key:"id_medicoasignado"},{title:"Municipio",dataIndex:"municipio",key:"municipio"},{title:"Calle",dataIndex:"calle",key:"calle"},{title:"N Exterior",dataIndex:"numexterior",key:"numexterior"},{title:"Telefono",dataIndex:"telefono",key:"telefono"}];return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Pacientes"}),i?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:a,columns:u})]})}var me=M.a.Option;function he(){var e=Object(n.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(D.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){d(),j()}),[]);var d=function(){fetch(v+"mispacientes/".concat(S._id)).then((function(e){return e.json()})).then((function(e){console.log("Pacientes: ",e),s(e)}))},j=function(){fetch(v+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))};function u(e){console.log("selected ".concat(e))}function m(e){console.log("search:",e)}return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:" Asignar pacientes a otro m\xe9dico "}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){var t=a.find((function(t){return t._id===e.id_usuario})).medicos_asignados;t.push(e.medico);var n={medicos_asignados:t};fetch(v+"users/updateMedicos/".concat(e.id_usuario),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Selecciona Usuario"}],children:Object(q.jsx)(M.a,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:u,onSearch:m,children:a.map((function(e){return Object(q.jsx)(me,{value:e._id,children:e.name})}))})}),Object(q.jsx)(b.a.Item,{label:"Medico",name:"medico",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(M.a,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:u,onSearch:m,children:i.map((function(e){return Object(q.jsx)(me,{value:e._id,children:e.name})}))})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})]})}function Oe(){return Object(q.jsx)("div",{children:"DetallesPaciente"})}var xe=ae.a.Header,pe=ae.a.Content,fe=ae.a.Footer,ge=ae.a.Sider,ye=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(ge,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(x.a,{}),children:[Object(q.jsx)("span",{children:"Pacientes"}),Object(q.jsx)(i.b,{to:"/pacientes"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(se.a,{}),children:[Object(q.jsx)("span",{children:"Registrar Paciente"}),Object(q.jsx)(i.b,{to:"/registrar"})]},"2"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(re.a,{}),children:[Object(q.jsx)("span",{children:"Re-asignar Paciente"}),Object(q.jsx)(i.b,{to:"/mover"})]},"3"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(re.a,{}),children:[Object(q.jsx)("span",{children:"Detalles"}),Object(q.jsx)(i.b,{to:"/detalles"})]},"4")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(xe,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(pe,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar",component:le}),Object(q.jsx)(o.a,{path:"/pacientes",component:be}),Object(q.jsx)(o.a,{path:"/detalles",component:Oe}),Object(q.jsx)(o.a,{path:"/mover",component:he})]}),Object(q.jsx)(fe,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),a}(n.Component),ve=ye,Ce=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)("div",{children:Object(q.jsx)(ve,{})})})}}]),a}(n.Component),Ie=Ce,Se=a(607),Fe=a(604),ke=a(609),we=a(612),Te=a(614);function Ne(e){var t=window.gapi,a=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];return Object(q.jsx)(O.a,{onClick:function(){t.load("client:auth2",(function(){console.log("loaded client"),t.client.init({apiKey:"AIzaSyA8fRG8GwQ3Gi-4bTk8EO2__sCQUXTKZd4",clientId:"304555086627-ej94bugbu0cjugpungprg2j0k4je3p9q.apps.googleusercontent.com",discoveryDocs:a,scope:"https://www.googleapis.com/auth/calendar.events"}),t.client.load("calendar","v3",(function(){return console.log("bam!")})),t.auth2.getAuthInstance().signIn().then((function(){t.client.calendar.events.insert({calendarId:"primary",resource:{summary:"Cita 5 con el medico",location:"Morelia Mich",description:"Cita 5 con meet incluido",start:{dateTime:"2022-08-04T09:00:00-07:00",timeZone:"America/Los_Angeles"},end:{dateTime:"2022-08-04T17:00:00-07:00",timeZone:"America/Los_Angeles"},recurrence:["RRULE:FREQ=DAILY;COUNT=2"],attendees:[{email:"lpage@example.com"},{email:"sbrin@example.com"}],reminders:{useDefault:!1,overrides:[{method:"email",minutes:1440},{method:"popup",minutes:10}]},conferenceData:{createRequest:{requestId:"cita123",conferenceSolutionKey:{type:"hangoutsMeet"}}}}},{conferenceDataVersion:1}).execute((function(e){console.log(e),window.open(e.htmlLink)})),t.client.calendar.events.list({calendarId:"primary",timeMin:(new Date).toISOString(),showDeleted:!1,singleEvents:!0,maxResults:10,orderBy:"startTime"}).then((function(e){var t=e.result.items;console.log("EVENTS: ",t)}))}))}))},size:"small",type:"primary",children:"Generar Cita"})}var Pe=M.a.Option;function Ee(){var e,t,a=Object(n.useState)(!1),s=Object(D.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(D.a)(i,2),u=o[0],h=o[1],x=Object(n.useState)(!0),p=Object(D.a)(x,2),f=(p[0],p[1]),g=Object(n.useState)({}),y=Object(D.a)(g,2),C=y[0],I=y[1],k=Object(n.useState)(!1),w=Object(D.a)(k,2),T=w[0],N=w[1],P=Object(n.useState)([]),E=Object(D.a)(P,2),_=E[0],R=E[1],A=Object(n.useState)(!1),L=Object(D.a)(A,2),H=L[0],z=L[1];Object(n.useEffect)((function(){console.log("Yo : ",S),F("mispacientes/".concat(S._id)).then((function(e){R(e)})),Z()}),[]);var Z=function(){F("citas/medico/".concat(S._id)).then((function(e){h(e),f(!1)}))};return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(d.a,{children:[Object(q.jsx)("h4",{style:{marginRight:20},children:"CALENDARIO DE CITAS"}),Object(q.jsx)(O.a,{type:"primary",onClick:function(){c(!0)},children:"Nueva Cita"})]}),Object(q.jsx)(we.a,{dateCellRender:function(e){var t=e.format();return t=t.substring(0,10),Object(q.jsx)("ul",{className:"events",children:u.map((function(e){return e.fecha_hora=e.fecha_hora.substring(0,10),e.fecha_hora===t?Object(q.jsx)("li",{style:{listStyleType:"none"},children:Object(q.jsx)(ke.a,{status:"success",text:e.usuario.name,onClick:function(){I(e),N(!0)}})},e._id):Object(q.jsx)(q.Fragment,{})}))})},monthCellRender:function(e){var t=function(e){if(8===e.month())return 1394}(e);return t?Object(q.jsxs)("div",{className:"notes-month",children:[Object(q.jsx)("section",{children:t}),Object(q.jsx)("span",{children:"Backlog number"})]}):null}}),Object(q.jsx)(Ne,{}),Object(q.jsx)(Se.a,{title:"Nuevo expediente",visible:r,onOk:function(){c(!1)},onCancel:function(){c(!1)},children:Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){e.medico=S._id,e.sucursal=S.horarios[0].sucursal,console.log("Valores:",e),fetch(v+"citas/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){Z(),c(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",initialValues:{id_reunion:"https://www.google.com/calendar/event?eid=dXN2dG01NG9oY3E0bzhvczJzZXI5cjhxZDhfMjAyMjA4MDNUMTYwMDAwWiBhbWF0aWFzQHJlYWxpZGFkY3JlYXRpdmEuY29t"},children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(M.a,{onChange:function(e){},children:_.map((function(e){return Object(q.jsx)(Pe,{value:e._id,children:e.name})}))})}),Object(q.jsx)(b.a.Item,{label:"Fecha y Hora",name:"fecha_hora",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(q.jsx)(Fe.a,{showTime:!0,onChange:function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora"})}),Object(q.jsxs)(j.a,{style:{marginLeft:64,marginBottom:12},children:["Cita en Linea: ",Object(q.jsx)(Te.a,{style:{marginLeft:8},defaultChecked:!1,onChange:function(e){console.log("switch to ".concat(e)),z(e)}})]}),H?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(j.a,{style:{marginLeft:64,marginBottom:12},children:Object(q.jsx)(Ne,{})}),Object(q.jsx)(b.a.Item,{label:"Enlace a la reunion",name:"id_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Contrase\xf1a",name:"password_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{placeholder:"Opcional"})})]}):Object(q.jsx)(q.Fragment,{}),Object(q.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})}),Object(q.jsx)(Se.a,{title:"Detalles de la cita",visible:T,onOk:function(){N(!1)},onCancel:function(){N(!1)},children:C?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("p",{children:["Paciente: ",null===(e=C.usuario)||void 0===e?void 0:e.name]}),Object(q.jsxs)("p",{children:["fecha y hora: ",C.fecha_hora]}),Object(q.jsxs)("p",{children:["Sucursal: ",null===(t=C.sucursal)||void 0===t?void 0:t.nombre]}),Object(q.jsxs)("p",{children:["Comentarios: ",C.comentarios]}),Object(q.jsxs)("p",{children:[" ",Object(q.jsx)("a",{href:C.id_reunion,target:"_blank",rel:"noreferrer",children:"ir a la cita "})," "]})]}):Object(q.jsx)("p",{children:"Sin cita seleccionada"})})]})}var qe=M.a.Option;function _e(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!0),i=Object(D.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)([]),u=Object(D.a)(j,2),h=u[0],x=u[1],p=Object(n.useState)(!0),f=Object(D.a)(p,2),g=f[0],y=f[1],C=Object(n.useState)([]),I=Object(D.a)(C,2),S=I[0],k=I[1],w=Object(n.useState)(!0),T=Object(D.a)(w,2),N=T[0],P=T[1];Object(n.useEffect)((function(){F("historias").then((function(e){r(e),d(!1)})),F("notas").then((function(e){x(e),y(!1)})),F("recetas").then((function(e){k(e),P(!1)}))}),[]);return Object(q.jsx)(Se.a,{title:"Nuevo expediente",visible:e.isModalVisible,onCancel:function(){e.setIsModalVisible(!1)},children:Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:6},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(v+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(M.a,{defaultValue:e.pacientesData[0]&&e.pacientesData[0]._id,placeholder:"Selecciona un paciente",style:{width:200},children:e.pacientesData.map((function(e){return Object(q.jsx)(qe,{value:e._id,children:e.name})}))})}),Object(q.jsx)(b.a.Item,{label:"Historia Clinica",name:"historia",rules:[{required:!0,message:"Ingresa RFC"}],children:o?Object(q.jsx)(m.a,{}):Object(q.jsx)(M.a,{placeholder:"Selecciona una Historia",style:{width:200},children:s.map((function(e){return Object(q.jsx)(qe,{value:e._id,children:e.historial},e._id)}))})}),Object(q.jsx)(b.a.Item,{label:"Notas Medicas",name:"nota",rules:[{required:!0,message:"Ingresa RFC"}],children:g?Object(q.jsx)(m.a,{}):Object(q.jsx)(M.a,{placeholder:"Selecciona una Nota",style:{width:200},children:h.map((function(e){return Object(q.jsx)(qe,{value:e._id,children:e.createdAt},e._id)}))})}),Object(q.jsx)(b.a.Item,{label:"Receta",name:"receta",rules:[{required:!0,message:"Ingresa RFC"}],children:N?Object(q.jsx)(m.a,{}):Object(q.jsx)(M.a,{placeholder:"Selecciona una Receta",style:{width:200},children:S.map((function(e){return Object(q.jsx)(qe,{value:e._id,children:e.prescripcion},e._id)}))})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})})}var Re=a(348),Ae=a(608),De=a(623),Me=a(464),Le=a(415),He=a(599),ze=a(621),Ze={"Trastornos mentales org\xe1nicos, incluyendo los sintom\xe1ticos":{F00:"Demencia en la enfermedad de Alzheimer",F01:"Demencia vascular",F02:"Demencia en enfermedades clasificadas en otro lugar",F03:"Demencia sin especificaci\xf3n",F04:"S\xedndrome amn\xe9sico org\xe1nico no inducido por alcohol u otras sustancias psic\xf3tropas",F05:"Delirium no inducido por alcohol u otras sustancias psic\xf3tropas",F06:"Otros trastornos mentales debidos a lesi\xf3n o disfunci\xf3n cerebral o enfermedad som\xe1tica",F07:"Trastornos de la personalidad y del comportamiento debidos a enfermedad, lesi\xf3n o disfunci\xf3n cerebral",F09:"Trastorno mental org\xe1nico o sintom\xe1tico sin especificaci\xf3n"},"Trastornos mentales y del comportamiento debidos al consumo de sustancias psic\xf3tropas":{F10:"Trastornos mentales y del comportamiento debidos al consumo de alcohol",F11:"Trastornos mentales y del comportamiento debidos al consumo de opioides ",F12:"Trastornos mentales y del comportamiento debidos al consumo de cannabinoides ",F13:"Trastornos mentales y del comportamiento debidos al consumo de sedantes o hipn\xf3ticos",F14:"Trastornos mentales y del comportamiento debidos al consumo de coca\xedna",F15:"Trastornos mentales y del comportamiento debidos al consumo de otros estimulantes (incluida cafe\xedna)",F16:"Trastornos mentales y del comportamiento debidos al consumo de alucin\xf3genos",F17:"Trastornos mentales y del comportamiento debidos al consumo de tabaco",F18:"Trastornos mentales y del comportamiento debidos al consumo de disolventes vol\xe1tiles",F19:"Trastornos mentales y del comportamiento debidos al consumo de m\xfaltiples drogas o de otras sustancias psicotr\xf3picas"},"Esquizofrenia, trastorno esquizot\xedpico y trastorno de ideas delirantes":{F20:"Esquizofrenia",F21:"Trastorno esquizot\xedpico",F22:"Trastorno de ideas delirantes persistentes",F23:"Trastornos psic\xf3ticos agudos y transitorios",F24:"Trastorno de ideas delirantes inducidas",F25:"Trastornos esquizoafectivos",F28:"Otros trastornos psic\xf3ticos no org\xe1nicos ",F29:"Psicosis no org\xe1nica sin especificaci\xf3n"},"F40-F48 Trastornos neur\xf3ticos, secundarios a situaciones estresantes y somatomorfos":{F40:"Trastorno de ansiedad f\xf3bica","F40.0":"Agorafobia","F40.1":"Fobias sociales","F40.2":"Fobias espec\xedficas",F41:"Otros trastornos de ansiedad","F41.0":"Trastorno de p\xe1nico","F41.1":"Trastorno de ansiedad generalizada","F41.2":"Trastorno mixto ansioso-depresivo",F42:"Trastorno obsesivo-compulsivo",F43:"Reacci\xf3n a estr\xe9s agudo","F43.1":"Trastornos estr\xe9s postraum\xe1tico","F43.2":"Trastornos de adaptaci\xf3n","F43.8":"Otras reacciones a estr\xe9s grave","F43.9":"Reacci\xf3n a estr\xe9s grave sin especificaci\xf3n",F44:"Trastornos disociativos (de conversi\xf3n",F45:"Trastornos somatomorfos",F48:"Otros trastornos neur\xf3ticos"},"F50-F59 Trastornos del comportamiento asociados a disfunciones fisiol\xf3gicas y a factores som\xe1ticos":{F50:"Trastornos de la conducta alimentaria ","F50.0":"Anorexia nerviosa","F50.1":"Anorexia nerviosa at\xedpica","F50.2":"Bulimia nerviosa","F50.3":"Bulimia nerviosa at\xedpica",F51:"Trastornos no org\xe1nicos del sue\xf1o","F51.0":"Insomnio no org\xe1nico","F51.1":"Hipersomnia no org\xe1nica","F51.2":"Trastorno no org\xe1nico del ciclo sue\xf1o-vigilia","F51.3":"Sonambulismo","F51.4":"Terrores nocturnos","F51.5":"Pesadillas ",F52:"Disfunci\xf3n sexual no org\xe1nica",F53:"Trastornos mentales y del comportamiento en el puerperio no clasificadas en otro lugar",F54:" Factores psicol\xf3gicos y del comportamiento en trastornos o enfermedades clasificadas en otro lugar",F55:"Abuso de sustancias que no producen dependencia",F59:"Trastornos del comportamiento asociados a disfunciones fisiol\xf3gicas y a factores som\xe1ticos sin especificaci\xf3n"},"F60-F69 Trastornos de la personalidad y del comportamiento del adulto":{F60:"Trastornos espec\xedficos de la personalidad","F60.0":"Trastorno paranoide de la personalidad","F60.1":"Trastorno esquizoide de la personalidad","F60.2":"Trastorno disocial de la personalidad","F60.3":"Trastorno de inestabilidad emocional de la personalidad","F60.4":"Trastorno histri\xf3nico de la personalidad","F60.5":"Trastorno ananc\xe1stico de la personalidad","F60.6":"Trastorno ansioso de la personalidad","F60.7":"Trastorno dependiente de la personalidad","F60.8":"Otros trastornos espec\xedficos de la personalidad","F60.9":"Trastornos de la personalidad sin especificaci\xf3n "},"F61 Trastornos mixtos y otros trastornos de la personalidad":{"F61.0":"Trastornos mixtos de la personalidad"},"F62 Transformaci\xf3n persistente de la personalidad no atribuible a lesi\xf3n o enfermedad cerebral ":{"F62.0":"Transformaci\xf3n persistente de la personalidad no atribuible a lesi\xf3n o enfermedad cerebral "},"F63 Trastorno de los h\xe1bitos y del control de los impulsos":{"F63.0":"Trastorno de los h\xe1bitos y del control de los impulsos"},"F64 Trastorno de identidad sexual":{"F64.0":"Trastorno de identidad sexual"},"F65 Trastornos de inclinaci\xf3n sexual":{"F65.0":"Trastornos de inclinaci\xf3n sexual"},"F66 Trastornos psicol\xf3gicos y del comportamiento del desarrollo y orientaci\xf3n sexuales":{"F66.0":"Trastornos psicol\xf3gicos y del comportamiento del desarrollo y orientaci\xf3n sexuales"},"F68 Otros trastornos de la personalidad y del comportamiento del adulto ":{"F68.0":"Otros trastornos de la personalidad y del comportamiento del adulto "},"F69 Trastorno de la personalidad y del comportamiento del adulto sin especificaci\xf3n":{"F69.0":"Trastorno de la personalidad y del comportamiento del adulto sin especificaci\xf3n"},"F70-F79 Retraso mental":{F70:"Retraso mental leve",F71:"Retraso mental moderado ",F72:"Retraso mental grave ",F73:"Retraso mental profundo ",F78:"Otro retraso mental ",F79:"Retraso mental sin especificaci\xf3n "},"F80-F89 trastornos del desarrollo psicol\xf3gico":{F80:"Trastornos espec\xedficos del desarrollo del habla y de lenguaje",F81:"Trastornos espec\xedficos del desarrollo del aprendizaje escolar",F82:"Trastorno espec\xedfico del desarrollo psicomotor",F83:"Trastorno espec\xedfico del desarrollo mixto",F84:"Trastornos generalizados del desarrollo",F88:"Otros trastornos del desarrollo psicol\xf3gico",F89:"Trastorno del desarrollo psicol\xf3gico sin especificaci\xf3n"},"F90-F98 Trastornos del comportamiento y de las emociones de comienzo habitual en la infancia y adolescencia ":{F90:"Trastornos hipercin\xe9ticos ",F91:"Trastornos disociales ",F92:"Trastornos disociales y de las emociones mixtos ",F93:"Trastornos de las emociones de comienzo habitual en la infancia ",F94:"Trastornos del comportamiento social de comienzo habitual en la infancia y adolescencia ",F95:" Trastornos de tics",F98:"Otros trastornos de las emociones y del comportamiento de comienzo habitual en la infancia y adolescencia ",F99:"Trastorno mental sin especificaci\xf3n"},"X60-X84 Autolesiones intencionales":{X60:"Envenenamiento intencionalmente autoinfligido por analg\xe9sicos no opi\xe1ceos, antipir\xe9ticos o antirreum\xe1ticos ",X61:"Envenenamiento intencionalmente autoinfligido por f\xe1rmacos antiepil\xe9pticos, sedantes, hipn\xf3ticos, antiparkinsonianos y psicotr\xf3picos no clasificados en otro lugar",X62:"Envenenamiento Intencional autoinfligido por narc\xf3ticosy psicodisl\xe9ptlcos (alucin\xf3genos) no clasificados en otro lugar",X63:"\tEnvenenamiento Intencionalmente autoinfligido por otrosf\xe1rmacos que act\xfaan sobre el sistema nervioso aut\xf3nomo",X64:"Envenenamiento Intencionalmente autoinfligido por otras drogas, f\xe1rmacos o productos biol\xf3gicos",X65:"Envenenamiento Intencionalmente autoinfligido por alcohol",X66:"Envenenamiento Intencionalmente autoinfligido por solventes org\xe1nicos, hidrocarburos halogenados o a sus vapores",X67:"Envenenamiento Intencionalmente autoinfligido por exposici\xf3n a otros gases y vapores",X68:"Envenenamiento Intencionalmente autoinfligido por pesticidas",X69:"\tEnvenenamiento Intencionalmente autoinfligido por otras sustancias qu\xedmicas o nocivas no especificadas",X70:"Da\xf1o intencionalmente autoinfligido por ahorcamiento, estrangulaci\xf3n o sofocaci\xf3n",X71:"Da\xf1o intencionalmente autoinfligido por ahogamiento e inmersi\xf3n",X72:"Da\xf1o intencionalmente autoinfligido por disparo de arma corta",X73:"Da\xf1o intencionalmente autoinfligido por disparo de rifles, escopetas o arma larga",X74:"Da\xf1o intencionalmente autoinfligido por otras armas de fuego",X75:"Da\xf1o intencionalmente autoinfligido por material explosivo",X76:"Da\xf1o intencionalmente autoinfligido por fuego y llamas",X77:"Da\xf1o intencionalmente autoinfligido por vapor de agua, vapores u objetos calientes",X78:"Da\xf1o intencionalmente autoinfligido por un objeto cortante",X79:"Da\xf1o intencionalmente autoinfligido por objetos romos",X80:"Da\xf1o intencionalmente autoinfligido porsalto desde un lugar elevado",X81:"Da\xf1o intencionalmente autoinfligido por arrojarse o tenderse ante un objeto en movimiento",X82:"Da\xf1o intencionalmente autoinfligido por choque con veh\xedculo de motor  ",X83:"Da\xf1o intencionalmente autoinfligido por otros medios espec\xedficos",X84:"Da\xf1o intencionalmente autoinfligido por medios inespec\xedficos"},"Y06 Negligencia y abandono":{"Y06.0":"Negligencia y abandono"},"Y07 Otros s\xedndromes de malos tratos":{"Y07.0":"Otros s\xedndromes de malos tratos"},"Y40-Y59 Drogas, medicamentos y sustancias biol\xf3gicas que causan efectos adversos en uso terap\xe9utico":{Y46:"Antiepil\xe9pticos y antiparkinsonianos",Y47:"Sedantes, hipn\xf3ticos y ansiol\xedticos",Y49:"Psic\xf3tropos no clasificados en otro lugar ",Y50:"Estimulantes del sistema nervioso central no clasificados en otro lugar",Y51:"F\xe1rmacos que afectan primariamente al sistema nervioso aut\xf3nomo ",Y57:"Otros f\xe1rmacos y drogas sin especificar"},"Z00-Z99 Factores que influyen en el estado de salud y en el contacto con los servicios de salud":{Z55:"Problemas relacionados con la educaci\xf3n y la alfabetizaci\xf3n",Z56:"Problemas relacionados con el empleo y desempleo",Z59:"Problemas relacionados con la vivienda y las condiciones econ\xf3micas",Z60:"\tProblemas relacionados con el ambiente social","Z60.0":"Problemas de ajuste a las transiciones de los ciclos vitales","Z60.1":"Situaciones familiares at\xedpicas","Z60.2":"Vivir solo","Z60.3":"Dificultades en la adaptaci\xf3n cultural","Z60.4":"Exclusi\xf3n y rechazo social","Z60.5":"Ser blanco de discriminaci\xf3n adversa y persecuci\xf3n ","Z61.0":"P\xe9rdida de relaciones afectivas en la infancia","Z61.1":"Cambio de domicilio en la ni\xf1ez","Z61.2":"Patrones de relaciones familiares alterados en la infancia","Z61.3":"Hechos contundentes a la p\xe9rdida de la autoestima en la ni\xf1ez","Z61.4":"Problemas relacionados con presunto abuso sexual del ni\xf1o por una persona dentro del grupo de apoyo primario","Z61.5":"Problemas relacionados con presunto abuso sexual del ni\xf1o por una persona no perteneciente al grupo de apoyo primario","Z61.6":" Problemas relacionados con presunto abuso f\xedsico del ni\xf1o","Z61.7":"Experiencias personales atemorizantes en la ni\xf1ez","Z62.0":"\tSupervisi\xf3n y control inadecuados por parte de los padres","Z62.1":"Sobreprotecci\xf3n parental","Z62.2":"Crianza en una instituci\xf3n","Z62.3":"Hostigamiento y acusaci\xf3n de culpabilidad al ni\xf1o","Z62.4":"Abandono emocional del ni\xf1o","Z62.5":"\tOtros problemas relacionados con la negligencia en la crianza del ni\xf1o","Z62.6":"Presiones inapropiadas de los padres y otras anormalidades en la crianza","Z63.0":"Problemas en la relaci\xf3n entre esposos o pareja","Z63.1":"Problemas en la relaci\xf3n con los padres y los familiares pol\xedticos","Z63.2":"Problemas relacionados con el apoyo familiar inadecuado","Z63.3":"Problemas relacionados con la ausencia de un miembro de la familia","Z63.4":"Problemas relacionados con la desaparici\xf3n o muerte de un miembro de la familia","Z63.5":"Problemas relacionados con la ruptura familiar por separaci\xf3n o divorcio","Z63.6":"Problemas relacionados con familiar dependiente, necesitado de cuidado en la casa","Z63.7":"Problemas relacionados con otros hechos estresantes que afectan a la familia y al hogar","Z64.0":"Problemas relacionados con embarazo no deseado","Z64.1":"Problemas relacionados con la multiparidad","Z64.2":"Problemas relacionados con la solicitud o aceptaci\xf3n de intervenciones f\xedsicas, nutricionales y qu\xedmicas, conociendo su riesgo y peligro","Z64.3":"Problemas relacionados con la solicitud o aceptaci\xf3n de intervenciones psicol\xf3gicas o de la conducta, conociendo su riesgo y peligro","Z64.4":"Problemas relacionados con el desacuerdo con consejeros","Z65.0":"Problemas relacionados con culpabilidad en procedimientos civiles o criminales sin prisi\xf3n","Z65.1":"Problemas relacionados con prisi\xf3n y otro encarcelamiento","Z65.2":"Problemas relacionados con la liberaci\xf3n de la prisi\xf3n","Z65.3":"Problemas relacionados con otras circunstancias legales","Z65.4":"Problemas relacionados con v\xedctima de crimen o terrorismo","Z65.5":"Problemas relacionados con la exposici\xf3n a desastre, guerra u otras hostilidades","Z86.4":"Historia personal de abuso de sustancias psicoactivas","Z86.5":"Historia personal de otros trastornos mentales o del comportamiento","Z91.1":"Historia personal de incumplimiento del r\xe9gimen o tratamiento m\xe9dico","Z91.3":"Historia personal de ciclo sue\xf1o-vigilia no saludable","Z91.4":"Historia personal de trauma psicol\xf3gico, no clasificado en otra parte","Z91.5":"HISTORIA PERSONAL DE LESI\xd3N AUTOINFLIGIDA INTENCIONALMENTE"}},Be=M.a.Option,Je=M.a.OptGroup,Ge=He.a.Dragger,Ue=m.a.TextArea,Ve=function(e){console.log("selected ".concat(e))},Xe=function(e){console.log("Failed:",e)};function Ye(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],r=a[1],c=function(){var t=Object(y.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.id_medico=S._id,a.id_usuario=e.paciente,a.recetas=[],a.estudios=s,console.log("ready To send: ",a),t.next=7,fetch(v+"notas/add",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return l.b.success(e.message||e.error),e})).catch((function(e){return console.error("Error:",e)}));case 7:n=t.sent,e.prevExpNotas.push(n.id_nota),fetch(v+"expedientes/updateNotas/"+e.id_expediente,{method:"PUT",body:JSON.stringify({notas:e.prevExpNotas}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Exp:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i={name:"file",multiple:!0,action:v+"notas/estudios/upload",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),r([].concat(Object(Le.a)(s),[e.file.response.file]))):"error"===t&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{style:{marginLeft:20},children:"Detalles de la nota"}),Object(q.jsx)("br",{}),Object(q.jsxs)(Ge,Object(R.a)(Object(R.a)({},i),{},{children:[Object(q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(q.jsx)(ze.a,{})}),Object(q.jsx)("p",{className:"ant-upload-text",children:"Arrastra los archivos de estudio aqu\xed, o da click para buscar"}),Object(q.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en pdf o imagen que sean menores a 2 MB para poder subirlos"})]})),Object(q.jsxs)(b.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:14},initialValues:{remember:!0,estudios:[]},onFinish:c,onFinishFailed:Xe,autoComplete:"off",style:{marginTop:12},children:[Object(q.jsx)(b.a.Item,{label:"Edad",name:"edad",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Talla",name:"talla",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Peso",name:"peso",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"IMC",name:"imc",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Temperatura",name:"temperatura",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Presion Arterial",name:"presion_arterial",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Frecuencia Cariaca",name:"frecuencia_cardiaca",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Frecuencia respiratoria",name:"frecuencia_respiratoria",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Observaciones",name:"Observaciones",rules:[{required:!0,message:"Ingresa Observaciones"}],children:Object(q.jsx)(Ue,{rows:4})}),Object(q.jsx)(b.a.Item,{label:"Diagnostico",name:"diagnostico",rules:[{required:!0,message:"Selecciona Diagnostico"}],children:Object(q.jsx)(M.a,{showSearch:!0,style:{width:400},onChange:Ve,children:Object.keys(Ze).map((function(e){return Object(q.jsx)(Je,{label:e,children:Object.keys(Ze[e]).map((function(t){return Object(q.jsx)(Be,{value:t,children:Ze[e][t]})}))})}))})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]})}var Ke=a(622),$e=m.a.TextArea;function We(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!0),i=Object(D.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)(!1),m=Object(D.a)(j,2),h=(m[0],m[1]),x=Object(n.useState)(!1),p=Object(D.a)(x,2),f=p[0],C=p[1];Object(n.useEffect)((function(){e.recetas?fetch(v+"recetas/getMany",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e.recetas})}).then((function(e){return e.json()})).then((function(e){r(e),d(!1)})).catch((function(e){return console.error("Error:",e)})):I()}),[e.recetas]);var I=function(){r([]),d(!1)},S=function(){var t=Object(y.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.id_nota=e.id_nota,console.log("new Receta:",a),console.log("new Recetas:",a),t.next=5,fetch(v+"recetas/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",e),l.b.info(e.message||e.error),"Receta creada correctamente"===e.message?C(!1):console.log(e.error),e})).catch((function(e){return console.error("Error:",e)}));case 5:n=t.sent,e.recetas.push(n.id_receta),console.log("New Recetas: ",e.recetas),fetch(v+"notas/updateRecetas/"+e.id_nota,{method:"PUT",body:JSON.stringify({recetas:e.recetas}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Exp:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F={width:"100%",height:"32",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};return Object(q.jsxs)("div",{children:[Object(q.jsx)(u.a,{bordered:!1,title:Object(q.jsxs)(q.Fragment,{children:["Recetas ",Object(q.jsx)(O.a,{onClick:function(){return C(!0)},size:"small",type:"primary",shape:"circle",icon:Object(q.jsx)(Z.a,{})})]}),children:o?Object(q.jsx)("h5",{children:"Cargando Receta..."}):s.length>0?s.map((function(e){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(u.a.Grid,{style:F,children:[" Prescripcion : ",e.prescripcion," ",Object(q.jsx)(O.a,{style:{marginLeft:8},onClick:function(){return h(!0)},size:"small",type:"primary",shape:"circle",icon:Object(q.jsx)(Ke.a,{})})]},e._id)})})):Object(q.jsx)("h6",{children:"No hay una receta asignada"})}),Object(q.jsx)(Se.a,{title:"Nueva Receta",visible:f,onOk:function(){C(!1)},onCancel:function(){C(!1)},children:Object(q.jsxs)(b.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:S,onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Prescripcion",name:"prescripcion",rules:[{required:!0,message:"Ingresa la prescripcion"}],children:Object(q.jsx)($e,{rows:4})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})})]})}var Qe=Re.a.TabPane,et=Ae.a.Panel;function tt(e){var t=Object(n.useState)(""),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!0),i=Object(D.a)(c,2),o=i[0],l=i[1],b=Object(n.useState)("detalles"),m=Object(D.a)(b,2),h=(m[0],m[1],Object(n.useState)("")),x=Object(D.a)(h,2),p=(x[0],x[1]),f=Object(n.useState)(!1),g=Object(D.a)(f,2),y=g[0],C=g[1];Object(n.useEffect)((function(){e.paciente?F("notas/".concat(e.paciente)).then((function(e){console.log("NotasData: ",e),r(e),l(!1)})):I()}),[e.paciente]);var I=function(){r([]),l(!1)},S={width:"25%",textAlign:"center",border:"1px solid rgba(255, 255, 255, 255)"},k={width:"50%",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};return Object(q.jsxs)("div",{children:[Object(q.jsxs)(L.b,{children:[Object(q.jsx)("h5",{children:"Notas "}),Object(q.jsx)(O.a,{onClick:function(){C(!0)},size:"small",type:"primary",shape:"circle",icon:Object(q.jsx)(Z.a,{})})]}),Object(q.jsx)(Re.a,{tabPosition:"top",onTabClick:function(e,t){console.log("OnTABClickNota",e),p(e)},children:o?Object(q.jsx)("h5",{children:"Cargando Nota..."}):s.map((function(e,t){var a=t+1;return Object(q.jsx)(Qe,{tab:"Nota ".concat(a),style:{width:"100%"},children:Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(j.a,{span:12,children:[Object(q.jsx)(Ae.a,{bordered:!1,children:Object(q.jsx)(et,{header:"Detalles de la nota",children:Object(q.jsxs)(u.a,{children:[Object(q.jsxs)(u.a.Grid,{style:S,children:["Edad: ",e.edad]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["Talla: ",e.talla]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["Peso: ",e.peso]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["IMC: ",e.imc]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["Temperatura: ",e.temperatura]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["Presion Arterial : ",e.presion_arterial]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["Frecuencia Cardiaca : ",e.frecuencia_cardiaca]}),Object(q.jsxs)(u.a.Grid,{style:S,children:["Frecuencia Respiratoria : ",e.frecuencia_respiratoria]})]})},"1")}),Object(q.jsx)(u.a,{title:"Observaciones",children:e.Observaciones}),Object(q.jsx)(u.a,{title:"Diagnostico",children:e.diagnostico}),Object(q.jsx)(u.a,{title:"Estudios",children:e.estudios.map((function(e){return Object(q.jsx)(u.a.Grid,{style:k,children:Object(q.jsxs)("a",{href:"".concat(v,"notas/estudios/download/").concat(e),children:[Object(q.jsx)(De.a,{}),e,Object(q.jsx)(Me.a,{})," "]})})}))})]}),Object(q.jsx)(j.a,{span:12,children:Object(q.jsx)(We,{recetas:e.recetas,id_nota:e._id})})]})},e._id)}))}),Object(q.jsx)(Se.a,{title:"Nueva Nota",visible:y,onOk:function(){C(!1)},onCancel:function(){C(!1)},width:680,children:Object(q.jsx)(Ye,{id_expediente:e.id_expediente,paciente:e.paciente,prevExpNotas:e.prevExpNotas})})]})}function at(e){var t=Object(n.useState)(""),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!0),i=Object(D.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)(!1),h=Object(D.a)(j,2),x=h[0],p=h[1];Object(n.useEffect)((function(){console.log("Props IDHistoria: ",e.historia),e.historia?g():f()}),[e.historia]);var f=function(){r([]),d(!1)},g=function(){F("historia/".concat(e.historia)).then((function(e){r(e),d(!1)}))},y={width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",marginTop:15},C=function(e){p(!1),fetch(v+"historias/update/"+s[0]._id,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).finally((function(){g(),p(!1)})),console.log("New Historia",e)},I=function(){return Object(q.jsx)(u.a.Grid,{style:y,children:x?Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(b.a,{name:"historiaForm",initialValues:{historial:s[0].historial},onFinish:C,children:[Object(q.jsx)(b.a.Item,{name:"historial",children:Object(q.jsx)(m.a,{})}),Object(q.jsxs)(L.b,{children:[Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{onClick:function(){return p(!1)},children:"Cancelar"})})]})]})}):s[0].historial})};return Object(q.jsx)("div",{children:Object(q.jsxs)(u.a,{bordered:!1,children:[Object(q.jsxs)(L.b,{children:[Object(q.jsx)("h5",{children:"Historia "}),Object(q.jsx)(O.a,{onClick:function(){return p(!0)},size:"small",disabled:!e.historia,type:"primary",shape:"circle",icon:Object(q.jsx)(Ke.a,{})})]}),o?Object(q.jsx)("h5",{children:"Cargando Historia..."}):s.length>0?Object(q.jsx)(I,{}):Object(q.jsx)("h6",{children:"No hay una historia asignada"})]})})}var nt=a(339),st=a.n(nt),rt=a(440);M.a.Option;function ct(e){var t=Object(n.useState)(!1),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),i=Object(D.a)(c,2),o=(i[0],i[1],Object(n.useState)([])),l=Object(D.a)(o,2),j=l[0],u=l[1],b=Object(n.useState)(!0),m=Object(D.a)(b,2),h=(m[0],m[1]),x=Object(n.useState)(""),p=Object(D.a)(x,2),f=p[0],g=p[1],y=Object(n.useState)(""),C=Object(D.a)(y,2),I=C[0],S=C[1];Object(n.useEffect)((function(){F(e.paciente)}),[e.paciente]);var F=function(e){fetch(v+"expedientes/".concat(e)).then((function(e){return e.json()})).then((function(e){u(e),"undefined"!=typeof e?(S(e.notas),g(e.historia)):(S(null),g(null))})).finally((function(){return h(!1)}))};return Object(q.jsxs)("div",{id:"expedient-export",children:[Object(q.jsx)(d.a,{children:Object(q.jsx)("h4",{children:"Expediente "})}),Object(q.jsx)(at,{historia:f}),Object(q.jsx)(tt,{notas:I,id_expediente:j._id,prevExpNotas:j.notas,paciente:e.paciente}),Object(q.jsx)(_e,{isModalVisible:s,setIsModalVisible:r,pacientesData:[]}),Object(q.jsx)(O.a,{onClick:function(){var e=document.getElementById("expedient-export");st()(e).then((function(e){var t=e.toDataURL("image/png"),a=new rt.a;a.addImage(t,"JPEG",0,0),a.save("expediente.pdf")}))},children:"Exportar a pdf"})]})}function it(){var e=Object(n.useState)(!1),t=Object(D.a)(e,2),a=t[0],s=t[1],r=function(){s(!0)},c=[{title:"ID Receta",dataIndex:"key",key:"_id",render:function(e){return Object(q.jsx)("a",{children:e})}},{title:"ID Nota",dataIndex:"id_nota",key:"id_nota"},{title:"Prescripcion",dataIndex:"prescripcion",key:"prescripcion"},{title:"Detalles",key:"action",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{onClick:r,children:"Detalles"})})}}];return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsx)("h4",{children:"Recetas"}),Object(q.jsx)("br",{}),Object(q.jsx)("br",{}),Object(q.jsx)(O.a,{children:"Nueva Receta"}),Object(q.jsx)(de.a,{columns:c,dataSource:[{key:"62570ab89a6437369f835be7",id_nota:"62570a9a9a6437369f835be5",prescripcion:"Paracetamol cada 8 horas",createdAt:"2022-04-13T17:39:04.541Z",updatedAt:"2022-04-13T17:39:04.541Z",__v:0},{key:"62570ab89a6437369f835be8",id_nota:"62570a9a9a6437369f835be5",prescripcion:"Paracetamol cada 8 horas",createdAt:"2022-04-13T17:39:04.541Z",updatedAt:"2022-04-13T17:39:04.541Z",__v:0}]}),Object(q.jsxs)(Se.a,{title:"Basic Modal",visible:a,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:[Object(q.jsx)("p",{children:' _id": "62570ab89a6437369f835be7",'}),Object(q.jsx)("p",{children:' id_nota": "62570a9a9a6437369f835be5",'}),Object(q.jsx)("p",{children:' prescripcion": "Paracetamol cada 8 horas",'}),Object(q.jsx)("p",{children:' createdAt": "2022-04-13T17:39:04.541Z",'}),Object(q.jsx)("p",{children:' updatedAt": "2022-04-13T17:39:04.541Z",'}),Object(q.jsx)("p",{children:' __v": 0'})]})]})}var ot=a(592),lt=a(610),dt=["key","name"],jt=M.a.Option,ut=["Michoacan","Morelos","Guerrero"],bt={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},mt={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function ht(e){var t=b.a.useForm(),a=Object(D.a)(t,1)[0],s=Object(n.useState)([]),r=Object(D.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),j=Object(D.a)(o,2),u=j[0],x=j[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){fetch(v+"sucursales").then((function(e){return e.json()})).then((function(e){console.log(e),i(e),x(!1)}))},f=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(jt,{value:"+52",children:"+52"})})}),g=Object(q.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(q.jsxs)(M.a,{style:{width:70},children:[Object(q.jsx)(jt,{value:"USD",children:"$"}),Object(q.jsx)(jt,{value:"CNY",children:"\xa5"})]})});return Object(q.jsxs)("div",{children:[Object(q.jsx)(d.a,{justify:"center",children:Object(q.jsx)("h4",{children:"Editar Perfil"})}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,Object(R.a)(Object(R.a)({},bt),{},{form:a,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),e.message?l.b.success(e.message):l.b.error(e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.perfil,scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"rol",label:"Rol",rules:[{required:!0,message:"Elije el rol"}],children:Object(q.jsxs)(M.a,{placeholder:"Elije el tipo de rol",children:[Object(q.jsx)(jt,{value:"Administrador",children:"Administrador de Hospital"}),Object(q.jsx)(jt,{value:"Recepcion",children:"Recepcion"}),Object(q.jsx)(jt,{value:"Medico",children:"Medico"}),Object(q.jsx)(jt,{value:"Paciente",children:"Paciente"})]})}),Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:f,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(q.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,t){var a=t.add,n=t.remove;return Object(q.jsxs)(q.Fragment,{children:[e.map((function(e){var t=e.key,a=e.name,s=Object(A.a)(e,dt);return Object(q.jsxs)(L.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},s),{},{name:[a,"id_sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(q.jsx)(M.a,{placeholder:"Elije Sucursal",style:{width:"180px"},children:u?"Cargando":c.map((function(e){return Object(q.jsx)(jt,{value:e._id,children:e.nombre})}))})})),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},s),{},{name:[a,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(q.jsx)(m.a,{placeholder:"Horario"})})),Object(q.jsx)(z.a,{onClick:function(){return n(a)}})]},t)})),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(q.jsx)(Z.a,{}),children:"Agregar Horario"})})]})}})}),Object(q.jsx)(b.a.Item,{name:"id_medicoasignado",label:"Id Medico Asignado",rules:[{required:!0,message:"Ingresa el ID del medico "}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:ut.map((function(e){return Object(q.jsx)(jt,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{addonAfter:g,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({name:"agreement",valuePropName:"checked",rules:[{validator:function(e,t){return t?Promise.resolve():Promise.reject(new Error("Should accept agreement"))}}]},mt),{},{children:Object(q.jsxs)(h.a,{children:["He le\xeddo y acepto los ",Object(q.jsx)("a",{href:"https://recreamed.com",children:"terminos y condiciones"})]})})),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},mt),{},{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Register"})}))]}))]})}function Ot(){var e=Object(n.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!0),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(!1),b=Object(D.a)(l,2),m=b[0],h=b[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){fetch(v+"userByMail/"+S.email).then((function(e){return e.json()})).then((function(e){console.log(e),s(e[0]),o(!1)}))},f=function(){return Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(j.a,{span:8,children:[Object(q.jsx)(lt.a,{size:128,icon:Object(q.jsx)(x.a,{})}),Object(q.jsx)(ot.a,{}),Object(q.jsxs)("p",{children:["Nombre: ",a.name," "]}),Object(q.jsxs)("p",{children:["Correo: ",a.email," "]}),Object(q.jsxs)("p",{children:["Telefono: ",a.telefono," "]})]}),Object(q.jsxs)(j.a,{span:8,children:[Object(q.jsxs)("p",{children:["Estado: ",a.estado]}),Object(q.jsxs)("p",{children:["Municipio: ",a.municipio]}),Object(q.jsxs)("p",{children:["Colonia: ",a.colonia]}),Object(q.jsxs)("p",{children:["Calle: ",a.calle]}),Object(q.jsxs)("p",{children:["Codigo Postal:",a.codigopostal," "]})]}),Object(q.jsxs)(j.a,{span:8,children:[Object(q.jsx)("p",{children:"Horarios"}),a.horarios.map((function(e){return Object(q.jsxs)("div",{style:{paddingLeft:12},children:[Object(q.jsxs)("p",{children:["Sucursal: ",e.sucursal.nombre]}),Object(q.jsxs)("p",{children:["Horario: ",e.horario]})]})})),Object(q.jsxs)("p",{children:["Universidad: ",a.universidad," "]}),Object(q.jsxs)("p",{children:["Certificacion: ",a.certificacion," "]}),Object(q.jsxs)("p",{children:["Cedula: ",a.cedula," "]})]})]})};return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(L.b,{children:[Object(q.jsx)("h3",{children:"PERFIL"}),Object(q.jsx)(O.a,{onClick:function(){return h(!0)},type:"primary",shape:"circle",icon:Object(q.jsx)(Ke.a,{})})]}),i?Object(q.jsx)(ue,{}):Object(q.jsx)(u.a,{children:m?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("p",{children:"Editando"}),Object(q.jsx)(ht,{perfil:a}),Object(q.jsx)(O.a,{onClick:function(){return h(!1)},type:"primary",shape:"circle",icon:Object(q.jsx)(Ke.a,{}),title:"Cancelar"})]}):Object(q.jsx)(f,{})})]})}function xt(){var e=Object(n.useState)({}),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)([]),b=Object(D.a)(l,2),m=b[0],h=b[1],x=Object(n.useState)(!0),p=Object(D.a)(x,2),f=p[0],g=p[1],y=Object(n.useState)(!1),C=Object(D.a)(y,2),I=C[0],S=C[1];Object(n.useEffect)((function(){F()}),[]);var F=function(){fetch(v+"notas").then((function(e){return e.json()})).then((function(e){console.log(e),h(e),g(!1)})).finally((function(){return g(!1)}))},k=[{title:"Paciente",dataIndex:"id_usuario",key:"Paciente",render:function(e){return Object(q.jsx)("a",{children:e})}},{title:"Edad",dataIndex:"edad",key:"Edad"},{title:"Talla",dataIndex:"talla",key:"Talla"},{title:"IMC",dataIndex:"imc",key:"imc"},{title:"Observaciones",key:"Observaciones",dataIndex:"observaciones"},{title:"Detalles",key:"action",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{onClick:function(){S(!0),s(t)},children:"Detalles"})})}}],w={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function T(){return Object(q.jsx)("div",{children:Object(q.jsx)(u.a,{bordered:!1,children:Object.keys(a).map((function(e){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(u.a.Grid,{style:w,children:e}),Object(q.jsx)(u.a.Grid,{style:w,size:"small",children:a[e]})]})}))})})}return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:Object(q.jsx)("h4",{children:"Notas de los pacientes del medico"})}),Object(q.jsx)(j.a,{children:Object(q.jsx)(O.a,{type:"primary",onClick:function(){o(!0)},children:"Nueva Nota"})})]}),f?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{columns:k,dataSource:m}),Object(q.jsx)(Se.a,{width:800,title:Object(q.jsx)("h4",{children:"Crear Nota"}),visible:i,onOk:function(){o(!1),F()},onCancel:function(){o(!1)}}),Object(q.jsx)(Se.a,{width:800,title:Object(q.jsx)("h4",{children:"Detalles de la nota "}),visible:I,onOk:function(){S(!1)},onCancel:function(){S(!1)},children:Object(q.jsx)(T,{})})]})}var pt=a(603),ft=a(593),gt=a(595),yt=(a(572),function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).dataPie=[{type:"F01",value:9},{type:"F05",value:4},{type:"F09",value:7},{type:"F13",value:2},{type:"F16",value:12},{type:"F22",value:3}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:24},{mes:"Julio",consultas:17},{mes:"Agosto",consultas:22},{mes:"Septiembre",consultas:15},{mes:"Octubre",consultas:18}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"contenedor",children:[Object(q.jsxs)(d.a,{gutter:30,children:[Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE",borderRadius:12},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A",borderRadius:12},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2",borderRadius:12},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC",borderRadius:12},className:"cardsContenido"})})})]}),Object(q.jsxs)(d.a,{gutter:20,children:[Object(q.jsx)(j.a,{xs:24,md:12,style:{textAlign:"center"},children:Object(q.jsx)("h5",{style:{color:"#1F263C"},children:"Diagnosticos"})}),Object(q.jsx)(j.a,{xs:24,md:12,style:{textAlign:"center"},children:Object(q.jsx)("h5",{children:"Citas"})})]}),Object(q.jsxs)(d.a,{gutter:20,children:[Object(q.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(q.jsx)(ft.a,Object(R.a)(Object(R.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C",borderRadius:12}}))}),Object(q.jsx)(j.a,{xs:24,md:12,children:Object(q.jsx)(gt.a,Object(R.a)(Object(R.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px",borderRadius:12}}))})]})]})]})}}]),a}(n.Component)),vt=yt,Ct=a.p+"static/media/Icon.e05b6872.png",It=m.a.TextArea,St=function(e){console.log("Success:",e)},Ft=function(e){console.log("Failed:",e)};function kt(){return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsx)("h4",{children:"Historial de los pacientes del medico"}),Object(q.jsx)("h4",{children:"Historial Clinico"}),Object(q.jsxs)(b.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:12},initialValues:{remember:!0},onFinish:St,onFinishFailed:Ft,autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"comentarios",name:"id_paciente",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(It,{rows:4})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]})}var wt=M.a.Option,Tt=["Michoacan","Morelos","Guerrero"];function Nt(e){var t=b.a.useForm(),a=Object(D.a)(t,1)[0];function n(){return s.apply(this,arguments)}function s(){return(s=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"historias/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({historial:"Historia clinica al "+new Date})}).then((function(e){return e.json()})).then((function(e){return console.log("Story Created: ",e),e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var r=function(){var t=Object(y.a)(g.a.mark((function t(a){var s,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n();case 2:return s=t.sent,console.log("historia on Register: ",s),r={usuario:a,historia:s.id_historia,notas:[],recetas:[]},console.log("postBodyForExpedient: ",r),t.next=8,fetch(v+"expedientes/add",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Success:",t),l.b.success(t.message||t.error),t.message&&"Expediente creado correctamente"===t.message&&e.setAdding(!1)})).catch((function(e){return console.error("Error:",e)}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(y.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.avatar="https://",a.estatus="1",a.rol="Paciente",a.password=""+a.telefono,a.universidad="",a.certificacion="",a.cedula="",a.horarios=[],a.medicos_asignados=e.paciente?e.paciente.medicos_asignados:[S._id],a.responsable=e.paciente?e.paciente.responsable:{nombre:a.res_name,telefono:a.res_phone},delete a.prefix,delete a.res_name,delete a.res_phone,n=e.paciente?v+"users/updateUser/"+e.paciente._id:C+"register",console.log(a),console.log("url: ",n),t.next=18,fetch(n,{method:e.paciente?"PUT":"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Create User Response:",t),l.b.success(t.message||t.error),e.paciente?console.log("Editing, not creating patient"):r(t.user_id)})).catch((function(e){return console.error("Error:",e)}));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(wt,{value:"+52",children:"+52"})})});b.a.Item,M.a;return Object(q.jsxs)("div",{style:{width:"100%"},children:[e.paciente?Object(q.jsx)("h4",{children:"Editar paciente"}):Object(q.jsx)("h4",{children:"Registrar Paciente"}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:a,name:"register",onFinish:c,initialValues:e.paciente,scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un correo electronico vaido!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:i,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(ot.a,{children:"Responsable (opcional) "}),Object(q.jsx)(b.a.Item,{name:"res_name",label:"Nombre Responsable",rules:[{message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"res_phone",label:"Telefono Responsable",rules:[{message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(ot.a,{}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:Tt.map((function(e){return Object(q.jsx)(wt,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{label:"*",children:Object(q.jsxs)(L.b,{children:[Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"}),Object(q.jsx)(O.a,{onClick:function(){return e.setAdding(!1)},children:"Cancelar"})]})})]})]})}function Pt(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!0),i=Object(D.a)(c,2),o=i[0],l=i[1],b=Object(n.useState)(!1),m=Object(D.a)(b,2),h=m[0],p=m[1];Object(n.useEffect)((function(){F("getuser/".concat(e.paciente)).then((function(e){console.log("DetallePac: ",e),r(e),l(!1)}))}),[e.paciente]);var f=function(){return h?Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(Nt,{setAdding:p,paciente:s})}):Object(q.jsxs)(u.a,{style:{width:"98%",borderRadius:12},children:[Object(q.jsxs)(L.b,{children:[Object(q.jsx)("h5",{children:"Datos del Paciente"}),Object(q.jsx)(O.a,{onClick:function(){return p(!0)},size:"small",disabled:!e.paciente,type:"primary",shape:"circle",icon:Object(q.jsx)(Ke.a,{})})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(j.a,{span:10,children:[Object(q.jsx)(d.a,{justify:"center",children:Object(q.jsx)(j.a,{span:12,children:Object(q.jsx)(lt.a,{size:128,icon:Object(q.jsx)(x.a,{})})})}),Object(q.jsx)("br",{}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Nombre:"}),Object(q.jsx)(j.a,{span:10,children:s.name})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Correo:"}),Object(q.jsx)(j.a,{span:10,children:s.email})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Telefono:"}),Object(q.jsx)(j.a,{span:10,children:s.telefono})]})]}),Object(q.jsxs)(j.a,{span:10,children:[Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Telefono:"}),Object(q.jsx)(j.a,{span:10,children:s.telefono})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Estado:"}),Object(q.jsxs)(j.a,{span:10,children:[" ",s.estado]})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Municipio:"}),Object(q.jsxs)(j.a,{span:10,children:[" ",s.municipio]})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Colonia:"}),Object(q.jsxs)(j.a,{span:10,children:[" ",s.colonia]})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Calle:"}),Object(q.jsxs)(j.a,{span:10,children:[" ",s.calle]})]}),Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:"Codigo Postal:"}),Object(q.jsx)(j.a,{span:10,children:s.codigopostal})," "]})]})]})]})};return Object(q.jsx)("div",{children:o?Object(q.jsx)(ue,{}):Object(q.jsx)(d.a,{children:Object(q.jsx)(f,{})})})}var Et=a(624),qt=Re.a.TabPane,_t=M.a.Option;function Rt(){var e,t=Object(n.useState)([]),a=Object(D.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!0),i=Object(D.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(null),j=Object(D.a)(d,2),u=j[0],b=j[1],m=Object(n.useState)(!1),h=Object(D.a)(m,2),p=h[0],f=h[1],g=Object(n.useState)(null===(e=s[0])||void 0===e?void 0:e._id),y=Object(D.a)(g,2),C=y[0],I=y[1];Object(n.useEffect)((function(){F()}),[]);var F=function(){fetch(v+"mispacientes/".concat(S._id)).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){e.value=e.name})),console.log(e),r(e)})).finally((function(){return l(!1)}))};return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(L.b,{size:"middle",children:[Object(q.jsx)("h4",{style:{marginTop:8},children:"Pacientes "}),Object(q.jsx)(O.a,{onClick:function(){return f(!p)},size:"small",type:"primary",shape:"circle",icon:Object(q.jsx)(Z.a,{})}),Object(q.jsx)("div",{className:"my-select-container",children:Object(q.jsx)(M.a,{style:{borderRadius:8},dropdownStyle:{borderRadius:8},showSearch:!0,placeholder:"Buscar paciente",optionFilterProp:"children",onChange:function(e){console.log("onchangeSearchInput",e),I(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,t){return t.children.toLowerCase().includes(e.toLowerCase())},children:s.map((function(e){return Object(q.jsx)(_t,{value:e._id,children:e.name})}))})})]}),o?Object(q.jsx)(ue,{}):p?Object(q.jsx)(Nt,{setAdding:f}):Object(q.jsx)(Re.a,{activeKey:C,tabPosition:"left",onTabClick:function(e,t){console.log("OnTABClick",e),b(e)},style:{marginTop:6},children:s.map((function(e){return Object(q.jsx)(qt,{tab:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(x.a,{}),e.name," ",Object(q.jsx)(Et.a,{}),e.telefono]}),onClick:function(){b(e._id)},children:Object(q.jsx)(Pt,{paciente:e._id})},e._id)}))}),Object(q.jsx)(ct,{paciente:u})]})}function At(){return console.log("DoctorApp",S.name),Object(q.jsx)(Y.a,{bg:"light",expand:"lg",children:Object(q.jsxs)(K.a,{children:[Object(q.jsxs)(Y.a.Brand,{href:"#home",style:{fontFamily:"Helvetica",color:"#515a6e"},children:[Object(q.jsx)("img",{src:Ct,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo",style:{marginRight:6}}),"Bienvenido ",S.name]}),Object(q.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(q.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(q.jsxs)($.a,{className:"me-auto",children:[Object(q.jsx)($.a.Link,{href:"/",children:"Inicio"}),Object(q.jsx)($.a.Link,{href:"/pacientes",children:"Pacientes"}),Object(q.jsx)($.a.Link,{href:"/citas",children:"Citas"}),Object(q.jsx)($.a.Link,{href:"/perfil",children:"Mi Perfil"})]})}),Object(q.jsx)(Y.a.Collapse,{className:"justify-content-end",children:Object(q.jsx)(O.a,{onClick:I,children:"Cerrar Sesion"})})]})})}function Dt(){return Object(q.jsxs)(i.a,{children:[Object(q.jsx)(At,{}),Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{path:"/pacientesdash",children:Object(q.jsx)(Ie,{})}),Object(q.jsx)(o.a,{path:"/pacientes",children:Object(q.jsx)(Rt,{})}),Object(q.jsx)(o.a,{path:"/citas",children:Object(q.jsx)(Ee,{})}),Object(q.jsx)(o.a,{path:"/expedientes",children:Object(q.jsx)(ct,{})}),Object(q.jsx)(o.a,{path:"/Recetas",children:Object(q.jsx)(it,{})}),Object(q.jsx)(o.a,{path:"/perfil",children:Object(q.jsx)(Ot,{})}),Object(q.jsx)(o.a,{path:"/notas",children:Object(q.jsx)(xt,{})}),Object(q.jsx)(o.a,{path:"/historial",children:Object(q.jsx)(kt,{})}),Object(q.jsx)(o.a,{path:"/",children:Object(q.jsx)(vt,{})})]})]})}var Mt=M.a.Option,Lt=["Michoacan","Morelos","Guerrero"];function Ht(){var e=b.a.useForm(),t=Object(D.a)(e,1)[0],a=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(Mt,{value:"+52",children:"+52"})})}),n=Object(q.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(q.jsxs)(M.a,{style:{width:70},children:[Object(q.jsx)(Mt,{value:"USD",children:"$"}),Object(q.jsx)(Mt,{value:"CNY",children:"\xa5"})]})});return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Registrar Usuario"}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Paciente",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:a,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"id_sucursal",label:"Id Sucursal",rules:[{required:!0,message:"Ingresa el ID de la sucursal"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"id_medicoasignado",label:"Id Medico Asignado",rules:[{required:!0,message:"Ingresa el ID del medico "}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!0,message:"Ingresa cedula"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:Lt.map((function(e){return Object(q.jsx)(Mt,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{addonAfter:n,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!0,message:"Ingresa tu certificacion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!0,message:"Ingresa tu universidad"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}function zt(){var e=Object(n.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!0),c=Object(D.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){fetch(v+"users_by_rol/Paciente").then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).finally((function(){return o(!1)}))},d=[{title:"Nombre",dataIndex:"name",key:"name"},{title:"Medico",dataIndex:"id_medicoasignado",key:"id_medicoasignado"},{title:"Municipio",dataIndex:"municipio",key:"municipio"},{title:"Calle",dataIndex:"calle",key:"calle"},{title:"N Exterior",dataIndex:"numexterior",key:"numexterior"},{title:"Telefono",dataIndex:"telefono",key:"telefono"},{title:"Action",key:"action",render:function(e,t){return Object(q.jsxs)(L.b,{size:"middle",children:[Object(q.jsx)("a",{href:"#",children:"Modificar"}),Object(q.jsx)("a",{href:"#",children:"Borrar"})]})}}];return Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Pacientes"}),i?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:a,columns:d})]})}var Zt=ae.a.Header,Bt=ae.a.Content,Jt=ae.a.Footer,Gt=ae.a.Sider,Ut=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(Gt,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(x.a,{}),children:[Object(q.jsx)("span",{children:"Pacientes"}),Object(q.jsx)(i.b,{to:"/pacientes"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(se.a,{}),children:[Object(q.jsx)("span",{children:"Registrar Paciente"}),Object(q.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(Zt,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(Bt,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar",component:Ht}),Object(q.jsx)(o.a,{path:"/pacientes",component:zt})]}),Object(q.jsx)(Jt,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),a}(n.Component),Vt=Ut,Xt=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)("div",{children:Object(q.jsx)(Vt,{})})})}}]),a}(n.Component),Yt=Xt;function Kt(){var e=Object(n.useState)(!1),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(D.a)(r,2),i=c[0],o=c[1],d=Object(n.useState)(!0),j=Object(D.a)(d,2),u=j[0],h=j[1];Object(n.useEffect)((function(){x()}),[]);var x=function(){fetch(v+"citas").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)})).finally((function(){return h(!1)}))},p=[{title:"Fecha y Hora",dataIndex:"fecha_hora",key:"fecha_hora",render:function(e){return Object(q.jsx)("a",{children:e})}},{title:"Paciente",dataIndex:"id_usuario",key:"id_usuario"},{title:"Sucursal",dataIndex:"id_sucursal",key:"v"},{title:"Comentarios",dataIndex:"comentarios",key:"comentarios"},{title:"Detalles",key:"detalles",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{children:"Enlace"})})}}];return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsx)("h4",{children:"Citas de los pacientes"}),Object(q.jsx)("h4",{children:"ID Medico: 0012M"}),u?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{columns:p,dataSource:i}),Object(q.jsx)(Se.a,{title:"Nuevo expediente",visible:a,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:6},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(v+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){x(),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Historia Clinica",name:"id_historia",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Notas Medicas",name:"id_nota",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Receta",name:"id_receta",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})})]})}a(581);var $t=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"contenedor",children:[Object(q.jsxs)(d.a,{gutter:30,children:[Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(q.jsx)("br",{}),Object(q.jsxs)(d.a,{gutter:20,children:[Object(q.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(q.jsx)(ft.a,Object(R.a)(Object(R.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(q.jsx)(j.a,{xs:24,md:12,children:Object(q.jsx)(gt.a,Object(R.a)(Object(R.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),a}(n.Component),Wt=$t,Qt=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function ea(){return Object(q.jsx)(Y.a,{bg:"light",expand:"lg",children:Object(q.jsxs)(K.a,{children:[Object(q.jsxs)(Y.a.Brand,{href:"#home",children:[Object(q.jsx)("img",{src:Ct,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido Recepcionista"]}),Object(q.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(q.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(q.jsxs)($.a,{className:"me-auto",children:[Object(q.jsx)($.a.Link,{href:"/",children:"Inicio"}),Object(q.jsx)($.a.Link,{href:"/",children:"Farmacia"}),Object(q.jsx)($.a.Link,{href:"/pacientes",children:"Pacientes"}),Object(q.jsx)($.a.Link,{href:"/citas",children:"Citas"})]})}),Object(q.jsx)(Y.a.Collapse,{className:"justify-content-end",children:Object(q.jsx)(O.a,{onClick:Qt,children:"Cerrar Sesion"})})]})})}function ta(){return Object(q.jsxs)(i.a,{children:[Object(q.jsx)(ea,{}),Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{path:"/pacientes",children:Object(q.jsx)(Yt,{})}),Object(q.jsx)(o.a,{path:"/citas",children:Object(q.jsx)(Kt,{})}),Object(q.jsx)(o.a,{path:"/citas",children:Object(q.jsx)(Kt,{})}),Object(q.jsx)(o.a,{path:"/",children:Object(q.jsx)(Wt,{})})]})]})}function aa(){var e,t,a=Object(n.useState)(!1),s=Object(D.a)(a,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(D.a)(i,2),u=o[0],h=o[1],x=Object(n.useState)(!0),p=Object(D.a)(x,2),f=(p[0],p[1]),g=Object(n.useState)({}),y=Object(D.a)(g,2),C=y[0],I=y[1],F=Object(n.useState)(!1),k=Object(D.a)(F,2),w=k[0],T=k[1];Object(n.useEffect)((function(){N()}),[]);var N=function(){fetch(v+"citas/".concat(S._id)).then((function(e){return e.json()})).then((function(e){console.log(e),h(e)})).finally((function(){return f(!1)}))};return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:Object(q.jsx)("h4",{children:"CALENDARIO DE CITAS"})}),Object(q.jsx)(j.a,{children:Object(q.jsx)(O.a,{type:"primary",onClick:function(){c(!0)},children:"Nueva Cita"})})]}),Object(q.jsx)(we.a,{dateCellRender:function(e){var t=e.format();return t=t.substring(0,10),Object(q.jsx)("ul",{className:"events",children:u.map((function(e){return e.fecha_hora=e.fecha_hora.substring(0,10),e.fecha_hora===t?Object(q.jsx)("li",{style:{listStyleType:"none"},children:Object(q.jsx)(ke.a,{status:"success",text:e.medico.name,onClick:function(){I(e),T(!0)}})},e._id):Object(q.jsx)(q.Fragment,{})}))})},monthCellRender:function(e){var t=function(e){if(8===e.month())return 1394}(e);return t?Object(q.jsxs)("div",{className:"notes-month",children:[Object(q.jsx)("section",{children:t}),Object(q.jsx)("span",{children:"Backlog number"})]}):null}}),Object(q.jsx)(Se.a,{title:"Nuevo expediente",visible:r,onOk:function(){c(!1)},onCancel:function(){c(!1)},children:Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){e.medico=S._id,console.log("Valores:",e),fetch(v+"citas/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){N(),c(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Sucursal",name:"sucursal",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Fecha y Hora",name:"fecha_hora",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(q.jsx)(Fe.a,{showTime:!0,onChange:function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora"})}),Object(q.jsx)(b.a.Item,{label:"Enlace a la reunion",name:"id_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Contrase\xf1a",name:"password_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{placeholder:"Opcional"})}),Object(q.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})}),Object(q.jsx)(Se.a,{title:"Detalles de la cita",visible:w,onOk:function(){T(!1)},onCancel:function(){T(!1)},children:C?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("p",{children:["Paciente: ",null===(e=C.usuario)||void 0===e?void 0:e.name]}),Object(q.jsxs)("p",{children:["fecha y hora: ",C.fecha_hora]}),Object(q.jsxs)("p",{children:["Sucursal: ",null===(t=C.sucursal)||void 0===t?void 0:t.nombre]}),Object(q.jsxs)("p",{children:["Comentarios: ",C.comentarios]}),Object(q.jsxs)("p",{children:[" ",Object(q.jsx)("a",{href:C.id_reunion,target:"_blank",rel:"noreferrer",children:"ir a la cita "})," "]})]}):Object(q.jsx)("p",{children:"Sin cita seleccionada"})})]})}function na(){var e=Object(n.useState)(!1),t=Object(D.a)(e,2),a=t[0],s=t[1],r=function(){s(!0)},c=[{title:"ID Receta",dataIndex:"key",key:"_id",render:function(e){return Object(q.jsx)("a",{children:e})}},{title:"ID Nota",dataIndex:"id_nota",key:"id_nota"},{title:"Prescripcion",dataIndex:"prescripcion",key:"prescripcion"},{title:"Detalles",key:"action",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{onClick:r,children:"Detalles"})})}}];return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsx)("h4",{children:"Mis Recetas"}),Object(q.jsx)(de.a,{columns:c,dataSource:[{key:"62570ab89a6437369f835be7",id_nota:"62570a9a9a6437369f835be5",prescripcion:"Paracetamol cada 8 horas",createdAt:"2022-04-13T17:39:04.541Z",updatedAt:"2022-04-13T17:39:04.541Z",__v:0},{key:"62570ab89a6437369f835be8",id_nota:"62570a9a9a6437369f835be5",prescripcion:"Ibuprofeno",createdAt:"2022-04-13T17:39:04.541Z",updatedAt:"2022-04-13T17:39:04.541Z",__v:0}]}),Object(q.jsxs)(Se.a,{title:"Basic Modal",visible:a,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:[Object(q.jsx)("p",{children:' _id": "62570ab89a6437369f835be7",'}),Object(q.jsx)("p",{children:' id_nota": "62570a9a9a6437369f835be5",'}),Object(q.jsx)("p",{children:' prescripcion": "Paracetamol cada 8 horas",'}),Object(q.jsx)("p",{children:' createdAt": "2022-04-13T17:39:04.541Z",'}),Object(q.jsx)("p",{children:' updatedAt": "2022-04-13T17:39:04.541Z",'}),Object(q.jsx)("p",{children:' __v": 0'})]})]})}function sa(){var e=Object(n.useState)([]),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!0),c=Object(D.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){fetch(v+"userByMail/"+S.email).then((function(e){return e.json()})).then((function(e){console.log(e),s(e[0]),o(!1)}))};return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(L.b,{children:[Object(q.jsx)("h3",{children:"PERFIL"}),Object(q.jsx)(O.a,{type:"primary",shape:"circle",icon:Object(q.jsx)(Ke.a,{})})]}),i?Object(q.jsx)(ue,{}):Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:Object(q.jsxs)(u.a,{children:[Object(q.jsx)(lt.a,{size:128,icon:Object(q.jsx)(x.a,{})}),Object(q.jsx)("br",{}),Object(q.jsxs)(L.b,{children:[Object(q.jsx)("div",{children:"Nombre:"}),Object(q.jsx)("div",{children:a.name})]}),Object(q.jsxs)("p",{children:["Nombre: ",a.name," "]}),Object(q.jsxs)("p",{children:["Correo: ",a.email," "]}),Object(q.jsxs)("p",{children:["Telefono: ",a.telefono," "]})]})}),Object(q.jsx)(j.a,{span:8,children:Object(q.jsxs)(u.a,{children:[Object(q.jsxs)("p",{children:["Universidad: ",a.universidad," "]}),Object(q.jsxs)("p",{children:["Certificacion: ",a.certificacion," "]}),Object(q.jsxs)("p",{children:["Cedula: ",a.cedula," "]})]})}),Object(q.jsx)(j.a,{span:8,children:Object(q.jsxs)(u.a,{children:[Object(q.jsxs)("p",{children:["Estado: ",a.estado]}),Object(q.jsxs)("p",{children:["Municipio: ",a.municipio]}),Object(q.jsxs)("p",{children:["Colonia: ",a.colonia]}),Object(q.jsxs)("p",{children:["Calle: ",a.calle]}),Object(q.jsxs)("p",{children:["Codigo Postal:",a.codigopostal," "]})]})})]})]})}a(582);var ra=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"contenedor",children:[Object(q.jsxs)(d.a,{gutter:30,children:[Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(q.jsx)("br",{}),Object(q.jsxs)(d.a,{gutter:20,children:[Object(q.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(q.jsx)(ft.a,Object(R.a)(Object(R.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(q.jsx)(j.a,{xs:24,md:12,children:Object(q.jsx)(gt.a,Object(R.a)(Object(R.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),a}(n.Component),ca=ra,ia=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function oa(){return Object(q.jsx)(Y.a,{bg:"light",expand:"lg",children:Object(q.jsxs)(K.a,{children:[Object(q.jsxs)(Y.a.Brand,{href:"#home",children:[Object(q.jsx)("img",{src:Ct,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido ",S.name]}),Object(q.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(q.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(q.jsxs)($.a,{className:"me-auto",children:[Object(q.jsx)($.a.Link,{href:"/citas",children:"Mis Citas"}),Object(q.jsx)($.a.Link,{href:"/recetas",children:"Mis Recetas"}),Object(q.jsx)($.a.Link,{href:"/perfil",children:"Mi Perfil"})]})}),Object(q.jsx)(Y.a.Collapse,{className:"justify-content-end",children:Object(q.jsx)(O.a,{onClick:ia,children:"Cerrar Sesion"})})]})})}function la(){return Object(q.jsxs)(i.a,{children:[Object(q.jsx)(oa,{}),Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{path:"/citas",children:Object(q.jsx)(aa,{})}),Object(q.jsx)(o.a,{path:"/recetas",children:Object(q.jsx)(na,{})}),Object(q.jsx)(o.a,{path:"/perfil",children:Object(q.jsx)(sa,{})}),Object(q.jsx)(o.a,{path:"/",children:Object(q.jsx)(ca,{})})]})]})}function da(){var e=Object(n.useState)(!1),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(D.a)(r,2),i=c[0],o=c[1],u=Object(n.useState)(!0),h=Object(D.a)(u,2),x=h[0],p=h[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(v+"citas").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)})).finally((function(){return p(!1)}))},g=[{title:"Fecha y Hora",dataIndex:"fecha_hora",key:"fecha_hora",render:function(e){return Object(q.jsx)("a",{children:e})}},{title:"Paciente",dataIndex:"id_usuario",key:"id_usuario"},{title:"Sucursal",dataIndex:"id_sucursal",key:"v"},{title:"Comentarios",dataIndex:"comentarios",key:"comentarios"},{title:"Detalles",key:"detalles",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{children:"Enlace"})})}}];return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:8,children:Object(q.jsx)("h4",{children:"Citas de todos los pacientes"})}),Object(q.jsx)(j.a,{children:Object(q.jsx)(O.a,{type:"primary",onClick:function(){s(!0)},children:"Nueva Cita"})})]}),x?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{columns:g,dataSource:i}),Object(q.jsx)(Se.a,{title:"Nuevo expediente",visible:a,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(v+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){f(),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Sucursal",name:"id_sucursal",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Fecha y Hora",name:"id_nota",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(q.jsx)(Fe.a,{showTime:!0,onChange:function(e,t){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",t)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora"})}),Object(q.jsx)(b.a.Item,{label:"Enlace a la reunion",name:"id_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Contrase\xf1a",name:"password_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{placeholder:"Opcional"})}),Object(q.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})})]})}var ja=M.a.Option,ua=["Michoacan","Morelos","Guerrero"];function ba(){var e=b.a.useForm(),t=Object(D.a)(e,1)[0],a=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(ja,{value:"+52",children:"+52"})})}),n=Object(q.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(q.jsxs)(M.a,{style:{width:70},children:[Object(q.jsx)(ja,{value:"USD",children:"$"}),Object(q.jsx)(ja,{value:"CNY",children:"\xa5"})]})});return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Registrar Usuario"}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Paciente",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:a,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"id_sucursal",label:"Id Sucursal",rules:[{required:!0,message:"Ingresa el ID de la sucursal"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"id_medicoasignado",label:"Id Medico Asignado",rules:[{required:!0,message:"Ingresa el ID del medico "}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!0,message:"Ingresa cedula"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:ua.map((function(e){return Object(q.jsx)(ja,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{addonAfter:n,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!0,message:"Ingresa tu certificacion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!0,message:"Ingresa tu universidad"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}function ma(){var e=Object(n.useState)({}),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(!0),d=Object(D.a)(l,2),j=d[0],b=d[1],m=Object(n.useState)([]),h=Object(D.a)(m,2),x=h[0],p=h[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(v+"users_by_rol/Paciente").then((function(e){return e.json()})).then((function(e){console.log(e),p(e)})).finally((function(){return b(!1)}))},g=[{title:"Nombre",dataIndex:"name",key:"name"},{title:"Rol",dataIndex:"rol",key:"rol"},{title:"Sucursal",dataIndex:"id_sucursal",key:"address"},{title:"Telefono",dataIndex:"telefono",key:"tel"},{title:"Detalles",key:"detalles",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{onClick:function(){s(t),o(!0)},children:"Detalles"})})}}],y={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function C(){return Object(q.jsx)("div",{children:Object(q.jsx)(u.a,{bordered:!1,children:Object.keys(a).map((function(e){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(u.a.Grid,{style:y,children:e}),Object(q.jsx)(u.a.Grid,{style:y,size:"small",children:a[e]})]})}))})})}return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Usuarios"}),j?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:x,columns:g}),Object(q.jsx)(Se.a,{width:800,title:Object(q.jsx)("h4",{children:"Detalles de la nota "}),visible:i,onOk:function(){o(!1)},onCancel:function(){o(!1)},children:Object(q.jsx)(C,{})})]})}var ha=ae.a.Header,Oa=ae.a.Content,xa=ae.a.Footer,pa=ae.a.Sider,fa=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(pa,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(x.a,{}),children:[Object(q.jsx)("span",{children:"Usuarios"}),Object(q.jsx)(i.b,{to:"/usuarios"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(se.a,{}),children:[Object(q.jsx)("span",{children:"Registrar Usuario"}),Object(q.jsx)(i.b,{to:"/registrar_usuario"})]},"2")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(ha,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(Oa,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar_usuario",component:ba}),Object(q.jsx)(o.a,{path:"/usuarios",component:ma})]}),Object(q.jsx)(xa,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),a}(n.Component),ga=fa,ya=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)("div",{children:Object(q.jsx)(ga,{})})})}}]),a}(n.Component),va=ya,Ca=a(625),Ia=M.a.Option,Sa=["Michoacan","Morelos","Guerrero"];function Fa(){var e=b.a.useForm(),t=Object(D.a)(e,1)[0],a=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(Ia,{value:"+52",children:"+52"})})}),n=Object(q.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(q.jsxs)(M.a,{style:{width:70},children:[Object(q.jsx)(Ia,{value:"USD",children:"$"}),Object(q.jsx)(Ia,{value:"CNY",children:"\xa5"})]})});return Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Registrar doctor"}),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Medico",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:a,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"id_sucursal",label:"Id Sucursal",rules:[{required:!0,message:"Ingresa el ID de la sucursal"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"id_medicoasignado",label:"Id Medico Asignado",rules:[{required:!0,message:"Ingresa el ID del medico "}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!0,message:"Ingresa cedula"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:Sa.map((function(e){return Object(q.jsx)(Ia,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{addonAfter:n,style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!0,message:"Ingresa tu certificacion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!0,message:"Ingresa tu universidad"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}function ka(){var e=Object(n.useState)(!0),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(D.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){fetch(v+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)})).finally((function(){return s(!1)}))};return Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Doctores"}),a?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:i,columns:[{title:"Rol",dataIndex:"rol",key:"rol",onFilter:function(e,t){return"Medico"===t.rol}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Correo",dataIndex:"email",key:"email"},{title:"Telefono",dataIndex:"telefono",key:"telefono"}]})]})}var wa=ae.a.Header,Ta=ae.a.Content,Na=ae.a.Footer,Pa=ae.a.Sider,Ea=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(Pa,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(Ca.a,{}),children:[Object(q.jsx)("span",{children:"M\xe9dicos"}),Object(q.jsx)(i.b,{to:"/doctores"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(se.a,{}),children:[Object(q.jsx)("span",{children:"Registrar M\xe9dico"}),Object(q.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(wa,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(Ta,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar",component:Fa}),Object(q.jsx)(o.a,{path:"/doctores",component:ka})]}),Object(q.jsx)(Na,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),a}(n.Component),qa=Ea,_a=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)("div",{children:Object(q.jsx)(qa,{})})})}}]),a}(n.Component),Ra=_a;function Aa(){return Object(q.jsx)("div",{children:"Perfil de la sucursal"})}function Da(){return Object(q.jsx)("div",{children:"Perfil del Administrador"})}a(583);var Ma=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"contenedor",children:[Object(q.jsxs)(d.a,{gutter:30,children:[Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(q.jsx)("br",{}),Object(q.jsxs)(d.a,{gutter:20,children:[Object(q.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(q.jsx)(ft.a,Object(R.a)(Object(R.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(q.jsx)(j.a,{xs:24,md:12,children:Object(q.jsx)(gt.a,Object(R.a)(Object(R.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),a}(n.Component),La=Ma,Ha=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function za(){return Object(q.jsx)(Y.a,{bg:"light",expand:"lg",children:Object(q.jsxs)(K.a,{children:[Object(q.jsxs)(Y.a.Brand,{href:"#home",children:[Object(q.jsx)("img",{src:Ct,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido Administrador"]}),Object(q.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(q.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(q.jsxs)($.a,{className:"me-auto",children:[Object(q.jsx)($.a.Link,{href:"/",children:"Inicio"}),Object(q.jsx)($.a.Link,{href:"farmacia",children:"Farmacia"}),Object(q.jsx)($.a.Link,{href:"#",children:"|"}),Object(q.jsx)($.a.Link,{href:"doctores",children:"Medicos"}),Object(q.jsx)($.a.Link,{href:"administrador",children:"perfil del administrador"}),Object(q.jsx)($.a.Link,{href:"pacientes",children:"Pacientes"}),Object(q.jsx)($.a.Link,{href:"citas",children:"Citas"}),Object(q.jsx)($.a.Link,{href:"sucursal",children:"Sucursal"}),Object(q.jsx)($.a.Link,{href:"#",children:"|"})]})}),Object(q.jsx)(Y.a.Collapse,{className:"justify-content-end",children:Object(q.jsx)(O.a,{onClick:Ha,children:"Cerrar Sesion"})})]})})}function Za(){return Object(q.jsxs)(i.a,{children:[Object(q.jsx)(za,{}),Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{path:"/sucursal",children:Object(q.jsx)(Aa,{})}),Object(q.jsx)(o.a,{path:"/doctores",children:Object(q.jsx)(Ra,{})}),Object(q.jsx)(o.a,{path:"/administrador",children:Object(q.jsx)(Da,{})}),Object(q.jsx)(o.a,{path:"/citas",children:Object(q.jsx)(da,{})}),Object(q.jsx)(o.a,{path:"/pacientes",children:Object(q.jsx)(va,{})}),Object(q.jsx)(o.a,{path:"/",children:Object(q.jsx)(La,{})})]})]})}var Ba=M.a.Option,Ja=He.a.Dragger,Ga=["Michoacan","Morelos","Guerrero"],Ua={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},Va={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};function Xa(e){var t=b.a.useForm(),a=Object(D.a)(t,1)[0],s=Object(n.useState)(null),r=Object(D.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(D.a)(o,2),h=u[0],x=u[1],p=Object(n.useState)(e.paciente?e.paciente.avatar:"https://"),f=Object(D.a)(p,2),I=f[0],S=f[1];Object(n.useEffect)((function(){F("/users_by_rol/Medico").then((function(e){i(e),x(!1)}))}),[]);var k={name:"file",multiple:!1,action:v+"imagenes/upload",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),S(e.file.response.file)):"error"===t&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};function w(){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v+"historias/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({historial:"Historia clinica al "+new Date})}).then((function(e){return e.json()})).then((function(e){return console.log("Story Created: ",e),e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=Object(y.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:return a=e.sent,console.log("historia on Register: ",a),n={usuario:t,historia:a.id_historia,notas:[],recetas:[]},console.log("postBodyForExpedient: ",n),e.next=8,fetch(v+"expedientes/add",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Exp on register pat:",e),l.b.success(e.message||e.error),e.message&&"Expediente creado correctamente"===e.message&&(window.location.href="/pacientes",console.log("Ready to navigate"))})).catch((function(e){return console.error("Error:",e)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var t=Object(y.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.avatar=I,a.estatus="1",a.rol="Paciente",a.password=""+a.telefono,a.universidad="",a.certificacion="",a.cedula="",a.horarios=[],a.responsable=e.paciente?e.paciente.responsable:{nombre:a.res_name,telefono:a.res_phone},delete a.prefix,delete a.res_name,delete a.res_phone,n=e.paciente?v+"users/updateUser/"+e.paciente._id:C+"register",console.log(a),console.log("url: ",n),t.next=17,fetch(n,{method:e.paciente?"PUT":"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log("Create User Response:",t),l.b.success(t.message||t.error),e.paciente?console.log("Editing, not creating patient"):N(t.user_id)})).catch((function(e){return console.error("Error:",e)}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(Ba,{value:"+52",children:"+52"})})});b.a.Item,M.a;return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Registrar Usuario"}),Object(q.jsx)("br",{}),Object(q.jsxs)(Ja,Object(R.a)(Object(R.a)({},k),{},{children:[Object(q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(q.jsx)(ze.a,{})}),Object(q.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(q.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(q.jsx)("br",{}),Object(q.jsx)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:a,name:"register",onFinish:P,initialValues:e.paciente,scrollToFirstError:!0,children:Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(j.a,{span:10,children:[Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.List,{name:"medicos_asignados",rules:[{validator:function(){var e=Object(y.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&!(a.length<1)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Ingrese al menos un medico")));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}],children:function(e,t,a){var s=t.add,r=t.remove,i=a.errors;return Object(q.jsxs)(q.Fragment,{children:[e.map((function(t,a){return Object(n.createElement)(b.a.Item,Object(R.a)(Object(R.a)({},0===a?Ua:Va),{},{label:0===a?"Medico":"",required:!1,key:t.key}),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},t),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingrese nombre del medico o borre este campo."}],noStyle:!0,children:Object(q.jsx)(M.a,{style:{marginLeft:36,width:"80%"},children:h?Object(q.jsx)(Ba,{value:"loading",children:"Cargando..."}):c.map((function(e){return Object(q.jsx)(Ba,{value:e._id,children:e.name})}))})})),e.length>1?Object(q.jsx)(z.a,{style:{marginLeft:2},className:"dynamic-delete-button",onClick:function(){return r(t.name)}}):null)})),Object(q.jsxs)(b.a.Item,{children:[Object(q.jsx)(O.a,{type:"dashed",onClick:function(){return s()},style:{width:"100%",marginLeft:108},icon:Object(q.jsx)(Z.a,{}),children:"Asignar Medico"}),Object(q.jsx)(b.a.ErrorList,{errors:i})]})]})}}),Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un correo electronico vaido!"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(q.jsx)(m.a,{addonBefore:E,style:{width:"100%"}})}),Object(q.jsx)(ot.a,{children:"Responsable (opcional)"}),Object(q.jsx)(b.a.Item,{name:"res_name",label:"Nombre",rules:[{message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"res_phone",label:"Telefono",rules:[{message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})})]}),Object(q.jsxs)(j.a,{span:10,children:[Object(q.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!1,message:"Ingresa calle",whitespace:!0}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!1,message:"Ingresa numero exterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!1,message:"Ingresa numinterior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!1,message:"Please input your colobnia!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(q.jsx)(M.a,{placeholder:"Elije tu estado",children:Ga.map((function(e){return Object(q.jsx)(Ba,{value:e,children:e})}))})}),Object(q.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!1,message:"Ingresa codigopostal"}],children:Object(q.jsx)(H.a,{style:{width:"100%"}})}),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})})]})}var Ya=a(597);function Ka(){var e=Object(n.useState)({}),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(!1),d=Object(D.a)(l,2),j=d[0],b=d[1],m=Object(n.useState)(!0),h=Object(D.a)(m,2),x=h[0],p=h[1],f=Object(n.useState)([]),C=Object(D.a)(f,2),I=C[0],S=C[1],F=Object(n.useState)(null),k=Object(D.a)(F,2),T=k[0],N=k[1];Object(n.useEffect)((function(){P()}),[]);var P=function(){fetch(v+"users_by_rol/Paciente").then((function(e){return e.json()})).then((function(e){console.log(e),S(e)})).finally((function(){return p(!1)}))},E=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:b(!0),console.log("Editar paciente: ",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=[{title:"Foto",dataIndex:"avatar",key:"avatar",render:function(e,t){return Object(q.jsx)("img",{src:"https://api.recreamed.com/images/"+t.avatar,alt:"Logo",width:64})}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Correo",dataIndex:"email",key:"email"},{title:"Telefono",dataIndex:"telefono",key:"tel"},{title:"Detalles",key:"detalles",render:function(e,t){return Object(q.jsx)(L.b,{size:"middle",children:Object(q.jsx)(O.a,{onClick:function(){s(t),o(!0)},children:"Detalles"})})}},{title:"Opciones",key:"action",render:function(e,t){return Object(q.jsxs)(L.b,{size:"middle",children:[Object(q.jsx)(O.a,{size:"small",onClick:function(){E(t)},children:"Editar"}),Object(q.jsx)(Ya.a,{title:"Seguro que quiere borrar este doctor?",onConfirm:function(){var e;w("/users/remove/"+(e=t)._id).then((function(){console.log("removed: ",e._id),P()}))},okText:"Si",cancelText:"No",children:Object(q.jsx)(O.a,{danger:!0,size:"small",children:"Borrar"})})]})}}],R={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function A(){return Object(q.jsx)("div",{children:Object(q.jsx)(u.a,{bordered:!1,children:Object.keys(a).map((function(e){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(u.a.Grid,{style:R,children:e}),Object(q.jsx)(u.a.Grid,{style:R,size:"small",children:a[e]})]})}))})})}return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Pacientes"}),x?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:I,columns:_}),Object(q.jsx)(Se.a,{width:800,title:Object(q.jsx)("h4",{children:"Datos del paciente "}),visible:i,onOk:function(){o(!1)},onCancel:function(){o(!1)},destroyOnClose:!0,children:Object(q.jsx)(A,{})}),Object(q.jsx)(Se.a,{width:800,title:Object(q.jsx)("h4",{children:"Editar Paciente"}),visible:j,onOk:function(){b(!1)},onCancel:function(){b(!1)},destroyOnClose:!0,children:Object(q.jsx)(Xa,{paciente:T})})]})}var $a=ae.a.Header,Wa=ae.a.Content,Qa=ae.a.Footer,en=ae.a.Sider,tn=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(en,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(x.a,{}),children:[Object(q.jsx)("span",{children:"Pacientes"}),Object(q.jsx)(i.b,{to:"/pacientes"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(se.a,{}),children:[Object(q.jsx)("span",{children:"Registrar Paciente"}),Object(q.jsx)(i.b,{to:"/registrar_paciente"})]},"2")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)($a,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(Wa,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar_paciente",component:Xa}),Object(q.jsx)(o.a,{path:"/pacientes",component:Ka})]}),Object(q.jsx)(Qa,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),a}(n.Component),an=tn,nn=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)("div",{children:Object(q.jsx)(an,{})})})}}]),a}(n.Component),sn=nn,rn=["key","name"],cn=M.a.Option,on=He.a.Dragger,ln={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},dn={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function jn(e){var t=b.a.useForm(),a=Object(D.a)(t,1)[0],s=Object(n.useState)([]),r=Object(D.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(D.a)(o,2),h=u[0],x=u[1],p=Object(n.useState)("https://"),f=Object(D.a)(p,2),g=f[0],y=f[1],I={name:"file",multiple:!1,action:v+"imagenes/upload",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),y(e.file.response.file)):"error"===t&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};Object(n.useEffect)((function(){console.log("received Medic: ",e.medico),F("sucursales").then((function(e){i(e),x(!1)}))}),[]);var S=Object(q.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(q.jsx)(M.a,{style:{width:70},children:Object(q.jsx)(cn,{value:"+52",children:"+52"})})});b.a.Item,M.a;return Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Registrar doctor"}),Object(q.jsx)("br",{}),Object(q.jsxs)(on,Object(R.a)(Object(R.a)({},I),{},{children:[Object(q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(q.jsx)(ze.a,{})}),Object(q.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(q.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(q.jsx)("br",{}),Object(q.jsx)(b.a,Object(R.a)(Object(R.a)({},ln),{},{form:a,name:"register",onFinish:e.medico?function(t){console.log("ready to send",t),fetch(C+"users/updateUser/"+e.medico._id,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){return console.error("Error:",e)}))}:function(e){e.avatar=g,e.estatus="1",e.rol="Medico",delete e.confirm,delete e.prefix,console.log("ready to send",e),fetch(C+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),e.message&&"Usuario creado correctamente"===e.message?window.location.href="doctores":l.b.error(e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.medico,scrollToFirstError:!0,children:Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(j.a,{span:11,children:[Object(q.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un corrreo electronico valido"},{required:!0,message:"Please input your E-mail!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(q.jsx)(m.a.Password,{})}),Object(q.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa el numero de telefono correcto",min:10,max:10}],children:Object(q.jsx)(m.a,{addonBefore:S,style:{width:"100%"}})})]}),Object(q.jsxs)(j.a,{span:12,children:[Object(q.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(q.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,t){var a=t.add,n=t.remove;return Object(q.jsxs)(q.Fragment,{children:[e.map((function(e){var t=e.key,a=e.name,s=Object(A.a)(e,rn);return Object(q.jsxs)(L.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},s),{},{name:[a,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(q.jsx)(M.a,{placeholder:"Elije Sucursal",style:{width:"120px"},children:h?"Cargando":c.map((function(e){return Object(q.jsx)(cn,{value:e._id,children:e.nombre})}))})})),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},s),{},{name:[a,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(q.jsx)(m.a,{placeholder:"Horario"})})),Object(q.jsx)(z.a,{onClick:function(){return n(a)}})]},t)})),Object(q.jsx)(b.a.Item,{children:Object(q.jsx)(O.a,{type:"dashed",onClick:function(){return a()},block:!0,icon:Object(q.jsx)(Z.a,{}),children:"Agregar Horario"})})]})}})}),Object(q.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,Object(R.a)(Object(R.a)({},dn),{},{children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Register"})}))]})]})}))]})}var un=a(626),bn=a(326);function mn(){var e=Object(n.useState)(!0),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(null),d=Object(D.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(D.a)(b,2),h=m[0],x=m[1];Object(n.useEffect)((function(){p()}),[]);var p=function(){fetch(v+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)})).finally((function(){return s(!1)}))},f=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.horarios.forEach((function(e){e.sucursal=e.sucursal._id})),console.log("Horarios before edit: ",t.horarios),e.next=4,u(t);case 4:x(!0),console.log("Editar medico: ",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=[{title:"Foto",key:"avatar",render:function(e,t){return Object(q.jsx)("img",{src:"https://api.recreamed.com/images/"+t.avatar,alt:"Logo",width:64})}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Correo",dataIndex:"email",key:"email"},{title:"Telefono",dataIndex:"telefono",key:"telefono"},{title:"Horarios",dataIndex:"horarios",key:"horarios",render:function(e,t){return Object(q.jsx)("p",{children:t.horarios.map((function(e){return Object(q.jsxs)(L.b,{size:"small",children:[Object(q.jsxs)("p",{children:[Object(q.jsx)(un.a,{style:{marginTop:-6}}),e.sucursal.nombre]}),Object(q.jsxs)("p",{children:[Object(q.jsx)(bn.a,{}),e.horario]})]})}))})}},{title:"Opciones",key:"action",render:function(e,t){return Object(q.jsxs)(L.b,{size:"middle",children:[Object(q.jsx)(O.a,{size:"small",onClick:function(){f(t)},children:"Editar"}),Object(q.jsx)(Ya.a,{title:"Seguro que quiere borrar este doctor?",onConfirm:function(){var e;w("/users/remove/"+(e=t)._id).then((function(){console.log("removed: ",e._id),p()}))},okText:"Si",cancelText:"No",children:Object(q.jsx)(O.a,{danger:!0,size:"small",children:"Borrar"})})]})}}];return Object(q.jsxs)("div",{children:[Object(q.jsx)("h4",{children:"Doctores"}),a?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:i,columns:C}),Object(q.jsx)(Se.a,{width:"200",title:"Editar Hospital 400",visible:h,onOk:function(){x(!1)},onCancel:function(){x(!1)},destroyOnClose:!0,children:Object(q.jsx)(jn,{medico:j})})]})}var hn=ae.a.Header,On=ae.a.Content,xn=ae.a.Footer,pn=ae.a.Sider,fn=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(pn,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(Ca.a,{}),children:[Object(q.jsx)("span",{children:"M\xe9dicos"}),Object(q.jsx)(i.b,{to:"/doctores"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(se.a,{}),children:[Object(q.jsx)("span",{children:"Registrar M\xe9dico"}),Object(q.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(hn,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(On,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar",component:jn}),Object(q.jsx)(o.a,{path:"/doctores",component:mn})]}),Object(q.jsx)(xn,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),a}(n.Component),gn=fn,yn=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)("div",{children:Object(q.jsx)(gn,{})})})}}]),a}(n.Component),vn=yn;function Cn(){var e=Object(n.useState)(!1),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!0),c=Object(D.a)(r,2),i=c[0],o=c[1],u=Object(n.useState)([]),h=Object(D.a)(u,2),x=h[0],p=h[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(v+"expedientes").then((function(e){return e.json()})).then((function(e){console.log(e),p(e)})).finally((function(){return o(!1)}))},g=[{title:"Paciente",dataIndex:"id_usuario",key:"Paciente"},{title:"Historia Clinica",dataIndex:"id_historia",key:"historiaClinica",render:function(e){return Object(q.jsx)("a",{href:"/historial_clinico",children:e})}},{title:"Notas Medicas",dataIndex:"id_nota",key:"notasMedicas",render:function(e){return Object(q.jsx)("a",{href:"/notas",children:e})}},{title:"Receta",dataIndex:"id_receta",key:"receta"}];return Object(q.jsxs)("div",{className:"mainContainer",children:[Object(q.jsxs)(d.a,{children:[Object(q.jsx)(j.a,{span:16,children:Object(q.jsx)("h4",{children:"Expedientes"})}),Object(q.jsx)(j.a,{children:Object(q.jsx)(O.a,{type:"primary",onClick:function(){s(!0)},children:"Nuevo expediente"})})]}),Object(q.jsx)("br",{}),i?Object(q.jsx)(ue,{}):Object(q.jsx)(de.a,{dataSource:x,columns:g}),Object(q.jsx)(Se.a,{title:"Nuevo expediente",visible:a,onOk:function(){},onCancel:function(){s(!1)},children:Object(q.jsxs)(b.a,{name:"expediente",labelCol:{span:6},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(v+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){f(),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Historia Clinica",name:"id_historia",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Notas Medicas",name:"id_nota",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Receta",name:"id_receta",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})})]})}var In=a(627),Sn=a(628),Fn=He.a.Dragger;function kn(e){var t=Object(n.useState)("https://"),a=Object(D.a)(t,2),s=a[0],r=a[1],c={name:"file",multiple:!1,action:v+"imagenes/upload",onChange:function(e){var t=e.file.status;"uploading"!==t&&console.log(e.file,e.fileList),"done"===t?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),r(e.file.response.file)):"error"===t&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return Object(q.jsxs)("div",{children:[e.hospital?Object(q.jsx)(q.Fragment,{}):Object(q.jsx)("h4",{children:"Registrar Nuevo Hospital"}),Object(q.jsxs)(Fn,Object(R.a)(Object(R.a)({},c),{},{children:[Object(q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(q.jsx)(ze.a,{})}),Object(q.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen con el logotipo o click ara buscar"}),Object(q.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(q.jsx)("br",{}),Object(q.jsxs)(b.a,{name:"basic",labelCol:{span:12},wrapperCol:{span:12},initialValues:e.hospital,onFinish:e.hospital?function(t){t.logo=s,console.log("Ready to send editing:",t),function(e,t){return N.apply(this,arguments)}("sucursales/update/"+e.hospital._id,t).then((function(){e.setModalVisible(!1)}))}:function(e){e.logo=s,e.estatus="1",e.delete="0",console.log("Ready to send:",e),function(e,t){return P.apply(this,arguments)}("sucursales/add",e).then((function(t){console.log("resp: ",t),t.message&&"Sucursal creada correctamente"===t.message&&(window.location.href="/hospitales"),console.log("tosend: ",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(q.jsxs)(d.a,{children:[Object(q.jsxs)(j.a,{children:[Object(q.jsx)(b.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Please input your username!"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"RFC",name:"rfc",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Calle",name:"calle",rules:[{required:!0,message:"Ingresa nombre de la calle"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Numero exterior",name:"num_exterior",rules:[{required:!0,message:"Ingresa numero exterion"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Numero Interior",name:"num_interior",rules:[{required:!0,message:"Ingresa numero interior"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Ingresa nombre de colonia"}],children:Object(q.jsx)(m.a,{})})]}),Object(q.jsxs)(j.a,{children:[Object(q.jsx)(b.a.Item,{label:"Codigo Postal",name:"codigo_postal",rules:[{required:!0,message:"Ingresa codigo postal"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Ciudad Municipio",name:"ciudad_municipio",rules:[{required:!0,message:"Ingresa ciudad/municipio"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Estado",name:"estado",rules:[{required:!0,message:"Ingresa estado"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Telefono",name:"telefono",rules:[{required:!0,message:"Ingresa numero de telefono"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Correo Electronico",name:"email",rules:[{required:!0,message:"Correo@Hopspital.com"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Sitio Web",name:"sitio_web",rules:[{required:!0,message:"www.hospital.com"}],children:Object(q.jsx)(m.a,{})}),Object(q.jsx)(b.a.Item,{label:"Numero de Expediente",name:"no_expediente",rules:[{required:!0,message:"Ingresa numero de expediente"}],children:Object(q.jsx)(m.a,{})})]})]}),Object(q.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(q.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]})}function wn(){var e=Object(n.useState)(!0),t=Object(D.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(D.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(null),d=Object(D.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(D.a)(b,2),h=m[0],x=m[1];Object(n.useEffect)((function(){p()}),[]),Object(n.useEffect)((function(){p()}),[h]);var p=function(){fetch(v+"sucursales").then((function(e){return e.json()})).then((function(e){console.log(e),o(e),s(!1)}))},f=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t);case 2:x(!0),console.log("Editar hospital: ",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e){console.log(e)},I=[{title:"Logo",key:"logo",render:function(e,t){return Object(q.jsx)("img",{src:"https://api.recreamed.com/images/"+t.logo,alt:"Logo",width:64})}},{title:"Sucursal",dataIndex:"nombre"},{title:"Ciudad_municipio",dataIndex:"ciudad_municipio",defaultSortOrder:"descend"},{title:"Colonia",dataIndex:"colonia"},{title:"calle",dataIndex:"calle"},{title:"Telefono",dataIndex:"telefono",defaultSortOrder:"descend"},{title:"Opciones",key:"action",render:function(e,t){return Object(q.jsxs)(L.b,{size:"middle",children:[Object(q.jsx)(O.a,{size:"small",onClick:function(){f(t)},children:"Editar"}),Object(q.jsx)(Ya.a,{title:"Seguro que quiere borrar esta sucursal?",onConfirm:function(){return e=t,console.log("toDel: ",e),void w("sucursales/remove/"+e._id).then((function(){return p()}));var e},onCancel:C,okText:"Si",cancelText:"No",children:Object(q.jsx)(O.a,{danger:!0,size:"small",children:"Borrar"})})]})}}];return a?Object(q.jsx)(ue,{}):Object(q.jsxs)("div",{children:[Object(q.jsx)("h1",{children:"Hospitales"}),Object(q.jsx)(de.a,{columns:I,dataSource:i,onChange:function(e,t,a,n){console.log("params",e,t,a,n)}}),Object(q.jsx)(Se.a,{width:"400",title:"Editar Hospital 400",visible:h,onOk:function(){x(!1)},onCancel:function(){x(!1)},destroyOnClose:!0,children:Object(q.jsx)(kn,{hospital:j,setModalVisible:x})})]})}var Tn=ae.a.Header,Nn=ae.a.Content,Pn=ae.a.Footer,En=ae.a.Sider,qn=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(t){e.setState({collapsed:t})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)(i.a,{children:Object(q.jsxs)(ae.a,{style:{minHeight:"100vh"},children:[Object(q.jsxs)(En,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(q.jsx)("div",{className:"logo"}),Object(q.jsxs)(ne.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(In.a,{}),children:[Object(q.jsx)("span",{children:"Hospitales"}),Object(q.jsx)(i.b,{to:"/hospitales"})]},"1"),Object(q.jsxs)(ne.a.Item,{icon:Object(q.jsx)(Sn.a,{}),children:[Object(q.jsx)("span",{children:"Registrar Hospital"}),Object(q.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(q.jsxs)(ae.a,{children:[Object(q.jsx)(Tn,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(q.jsx)(ce.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(q.jsxs)(Nn,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(q.jsx)(o.a,{exact:!0,path:"/registrar",component:kn}),Object(q.jsx)(o.a,{path:"/hospitales",component:wn})]}),Object(q.jsx)(Pn,{style:{textAlign:"center"},children:"Ant Design \xa92016 Created by Ant UED"})]})]})})}}]),a}(n.Component),_n=qn,Rn=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){return Object(W.a)(this,a),t.apply(this,arguments)}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsx)("div",{children:Object(q.jsx)(_n,{})})}}]),a}(n.Component),An=(a(584),function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(W.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(Q.a)(a,[{key:"render",value:function(){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("br",{}),Object(q.jsxs)("div",{className:"contenedor",children:[Object(q.jsxs)(d.a,{gutter:30,children:[Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(q.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(q.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(q.jsx)(pt.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(q.jsx)("br",{}),Object(q.jsxs)(d.a,{gutter:20,children:[Object(q.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(q.jsx)(ft.a,Object(R.a)(Object(R.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(q.jsx)(j.a,{xs:24,md:12,children:Object(q.jsx)(gt.a,Object(R.a)(Object(R.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),a}(n.Component)),Dn=An,Mn=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function Ln(){return Object(q.jsx)(Y.a,{bg:"light",expand:"lg",children:Object(q.jsxs)(K.a,{children:[Object(q.jsxs)(Y.a.Brand,{href:"#home",children:[Object(q.jsx)("img",{src:Ct,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido Administrador"]}),Object(q.jsx)(Y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(q.jsx)(Y.a.Collapse,{id:"basic-navbar-nav",children:Object(q.jsxs)($.a,{className:"me-auto",children:[Object(q.jsx)($.a.Link,{href:"/",children:"Inicio"}),Object(q.jsx)($.a.Link,{href:"/",children:"Farmacia"}),Object(q.jsx)($.a.Link,{href:"#",children:"|"}),Object(q.jsx)($.a.Link,{href:"/hospitales",children:"Hospitales"}),Object(q.jsx)($.a.Link,{href:"/doctores",children:"Medicos"}),Object(q.jsx)($.a.Link,{href:"pacientes",children:"Pacientes"})]})}),Object(q.jsx)(Y.a.Collapse,{className:"justify-content-end",children:Object(q.jsx)(O.a,{onClick:Mn,children:"Cerrar Sesion"})})]})})}function Hn(){return Object(q.jsxs)(i.a,{children:[Object(q.jsx)(Ln,{}),Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{path:"/hospitales",children:Object(q.jsx)(Rn,{})}),Object(q.jsx)(o.a,{path:"/doctores",children:Object(q.jsx)(vn,{})}),Object(q.jsx)(o.a,{path:"/expedientes",children:Object(q.jsx)(Cn,{})}),Object(q.jsx)(o.a,{path:"/pacientes",children:Object(q.jsx)(sn,{})}),Object(q.jsx)(o.a,{path:"/",children:Object(q.jsx)(Dn,{})})]})]})}var zn=localStorage.getItem("userType");function Zn(){if(!localStorage.getItem("sessionToken"))return console.log("tok:",localStorage.getItem("sessionToken")),Object(q.jsx)(i.a,{children:Object(q.jsxs)(o.c,{children:[Object(q.jsx)(o.a,{path:"/register",children:Object(q.jsx)(X,{})}),Object(q.jsx)(i.a,{path:"/",children:Object(q.jsx)(_,{})})]})});switch(zn){case"SuperAdministrador":return Object(q.jsx)(Hn,{});case"Administrador":return Object(q.jsx)(Za,{});case"Recepcion":return Object(q.jsx)(ta,{});case"Paciente":return Object(q.jsx)(la,{});case"Medico":return Object(q.jsx)(Dt,{});default:return"foo"}}c.a.render(Object(q.jsx)(s.a.StrictMode,{children:Object(q.jsx)(Zn,{})}),document.getElementById("root"))}},[[585,1,2]]]);
//# sourceMappingURL=main.e02059ab.chunk.js.map