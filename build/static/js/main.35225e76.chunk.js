(this.webpackJsonprecreamed=this.webpackJsonprecreamed||[]).push([[0],{634:function(e,a,t){},635:function(e,a,t){},656:function(e,a){},658:function(e,a){},693:function(e,a){},694:function(e,a){},753:function(e,a){},792:function(e,a,t){},810:function(e,a,t){},811:function(e,a,t){},812:function(e,a,t){},813:function(e,a,t){},814:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(62),c=t.n(r),i=t(41),o=t(81),l=(t(563),t(564),t(537)),d=t(222),j=t(132),u=t(843),b=t(831),m=t(836),h=t(252),O=t(77),p=t(847),x=t(848),f=t(15),g=t.n(f),y=t(24),v=t(1),C="https://api.recreamed.com/api/",I="https://api.recreamed.com/session/",S="https://api.recreamed.com/images/",k=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),localStorage.removeItem("userData"),window.location.href="/"},F=JSON.parse(localStorage.getItem("userData"));function w(e){return _.apply(this,arguments)}function _(){return(_=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+a,{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+a,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.info(e.message)})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,a){return q.apply(this,arguments)}function q(){return(q=Object(y.a)(g.a.mark((function e(a,t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,a){return D.apply(this,arguments)}function D(){return(D=Object(y.a)(g.a.mark((function e(a,t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){return Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:88,backgroundColor:"#3c75ef"},children:Object(v.jsxs)("p",{style:{color:"white"},children:["Desarrollado por ",Object(v.jsxs)("strong",{children:[" ",Object(v.jsx)("a",{href:"https://www.realidadcreativa.com",style:{marginLeft:6,color:"white"},children:"realidadcreativa.com"})]})," | \xa9 Realidad Creativa - 2022"]})})},R=t.p+"static/media/Logo.bcbe104c.png";function M(){return Object(v.jsx)(d.a,{children:Object(v.jsxs)(j.a,{span:8,offset:8,children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(u.a,{hoverable:!0,children:[Object(v.jsx)("br",{}),Object(v.jsxs)(d.a,{justify:"center",children:[" ",Object(v.jsx)("img",{src:R,alt:"Logo",width:160})]}),Object(v.jsx)("br",{}),Object(v.jsx)(d.a,{justify:"center",children:Object(v.jsx)("h3",{children:"Inicio de Sesion"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){delete e.remember,console.log("Received values of form: ",e),fetch(I+"login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return console.log("data",e),e.json()})).then((function(e){console.log("resp",e),"Bienvenido"===e.message?(localStorage.setItem("userType",e.user.rol),localStorage.setItem("sessionToken",e.data.token),localStorage.setItem("userData",JSON.stringify(e.user)),window.location.href="/"):l.b.info(e.error||e.message)})).catch((function(e){return window.alert("Error: ",e)}))},children:[Object(v.jsx)(b.a.Item,{name:"email",rules:[{required:!0,message:"Por favor ingresa el correo de tu cuenta!"}],children:Object(v.jsx)(m.a,{prefix:Object(v.jsx)(p.a,{className:"site-form-item-icon"}),placeholder:"Usuario"})}),Object(v.jsx)(b.a.Item,{name:"password",rules:[{required:!0,message:"Por favor ingresa tu contrase\xf1a!"}],children:Object(v.jsx)(m.a,{prefix:Object(v.jsx)(x.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Contrase\xf1a"})}),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(b.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(v.jsx)(h.a,{children:"Mantener la sesion"})}),Object(v.jsx)("a",{className:"login-form-forgot",href:"",children:"Recuperar contrase\xf1a"})]}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{block:!0,type:"primary",htmlType:"submit",className:"login-form-button",children:"Iniciar Sesion"})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsxs)(d.a,{justify:"center",children:[" O ",Object(v.jsx)("a",{href:"register",style:{marginLeft:4},children:"Registrarse"})]})})]})]})]})})}var L=t(14),z=t(52),H=t(11),B=t(166),G=t(845),U=t(849),V=t(541),J=(t(634),["key","name"]),Z=B.a.Option,X={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},Y={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function K(){var e=b.a.useForm(),a=Object(H.a)(e,1)[0],t=Object(n.useState)([]),s=Object(H.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)(!0),o=Object(H.a)(i,2),p=o[0],x=o[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(C+"sucursales").then((function(e){return e.json()})).then((function(e){console.log(e),c(e),x(!1)}))},g=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(Z,{value:"+52",children:"+52"})})});return Object(v.jsx)(d.a,{children:Object(v.jsxs)(j.a,{span:12,offset:6,children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(u.a,{hoverable:!0,children:[Object(v.jsxs)(d.a,{justify:"center",children:[" ",Object(v.jsx)("img",{src:R,alt:"Logo",width:160})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)(d.a,{justify:"center",children:Object(v.jsx)("h3",{children:"Registro de Medico"})}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,Object(L.a)(Object(L.a)({},X),{},{form:a,name:"register",onFinish:function(e){e.rol="Medico",e.avatar="https://",e.estatus="1",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(I+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),e.message?l.b.success(e.message):l.b.error(e.error),e.message&&"Usuario creado correctamente"===e.message&&(window.location.href="/")})).catch((function(e){return console.error("Error:",e)}))},initialValues:{horarios:[{sucursal:"",horario:""}],prefix:"+52"},scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(v.jsx)(m.a,{addonBefore:g,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{label:"horarios",rules:[{required:!1,message:"Ingresa al menos un horario"}],children:Object(v.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,a){var t=a.add,n=a.remove;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){var a=e.key,t=e.name,s=Object(z.a)(e,J);return Object(v.jsxs)(G.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(v.jsx)(B.a,{placeholder:"Elije Sucursal",style:{width:"180px"},children:p?"Cargando":r.map((function(e){return Object(v.jsx)(Z,{value:e._id,children:e.nombre})}))})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"horario"],rules:[{required:!1,message:"Missing last name"}],children:Object(v.jsx)(m.a,{placeholder:"Horario"})})),Object(v.jsx)(U.a,{onClick:function(){return n(t)}})]},a)})),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(v.jsx)(V.a,{}),children:"Agregar Horario"})})]})}})}),Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({name:"agreement",valuePropName:"checked",rules:[{validator:function(e,a){return a?Promise.resolve():Promise.reject(new Error("Tienes que aceptar los terminos y condiciones para registrarte"))}}]},Y),{},{children:Object(v.jsxs)(h.a,{children:["He le\xeddo y acepto los ",Object(v.jsx)("a",{href:"https://recreamed.com",children:"terminos y condiciones"})]})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},Y),{},{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})}))]}))]})]})})}t(635);var Q=t(828),$=t(826),W=t(829),ee=t(48),ae=t(49),te=t(50),ne=t(51),se=t(821),re=t(186),ce=t(850),ie=t(851),oe=t(852),le=t(834),de=B.a.Option,je=["Michoacan","Morelos","Guerrero"];function ue(){var e=b.a.useForm(),a=Object(H.a)(e,1)[0],t=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(de,{value:"+52",children:"+52"})})}),n=Object(v.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(v.jsxs)(B.a,{style:{width:70},children:[Object(v.jsx)(de,{value:"USD",children:"$"}),Object(v.jsx)(de,{value:"CNY",children:"\xa5"})]})});return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Registrar Paciente"}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:a,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Paciente",e.password=e.telefono,e.universidad="",e.certificacion="",e.cedula="",e.horarios=[],e.medicos_asignados=[F._id],delete e.prefix,console.log(e),fetch(I+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(v.jsx)(m.a,{addonBefore:t,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:je.map((function(e){return Object(v.jsx)(de,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{addonAfter:n,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}var be=t(827),me=t(496);function he(){return Object(v.jsx)("div",{style:{margin:"20px 0",marginBottom:"20px",padding:"30px 50px",textAlign:"center",background:"rgba(0, 0, 0, 0.05)",borderRadius:"4px"},children:Object(v.jsx)(me.a,{})})}function Oe(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!0),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)("tabla"),d=Object(H.a)(l,2);d[0],d[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){fetch(C+"mispacientes/".concat(F._id)).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).finally((function(){return o(!1)}))},u=[{title:"Nombre",dataIndex:"name",key:"name",render:function(e){return Object(v.jsx)("a",{href:"detalles",children:e})}},{title:"Medico",dataIndex:"id_medicoasignado",key:"id_medicoasignado"},{title:"Municipio",dataIndex:"municipio",key:"municipio"},{title:"Calle",dataIndex:"calle",key:"calle"},{title:"N Exterior",dataIndex:"numexterior",key:"numexterior"},{title:"Telefono",dataIndex:"telefono",key:"telefono"}];return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Pacientes"}),i?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:t,columns:u})]})}var pe=B.a.Option;function xe(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){d(),j()}),[]);var d=function(){fetch(C+"mispacientes/".concat(F._id)).then((function(e){return e.json()})).then((function(e){console.log("Pacientes: ",e),s(e)}))},j=function(){fetch(C+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))};function u(e){console.log("selected ".concat(e))}function m(e){console.log("search:",e)}return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:" Asignar pacientes a otro m\xe9dico "}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){var a=t.find((function(a){return a._id===e.id_usuario})).medicos_asignados;a.push(e.medico);var n={medicos_asignados:a};fetch(C+"users/updateMedicos/".concat(e.id_usuario),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Selecciona Usuario"}],children:Object(v.jsx)(B.a,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:u,onSearch:m,children:t.map((function(e){return Object(v.jsx)(pe,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Medico",name:"medico",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(B.a,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:u,onSearch:m,children:i.map((function(e){return Object(v.jsx)(pe,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})]})}function fe(){return Object(v.jsx)("div",{children:"DetallesPaciente"})}var ge=se.a.Header,ye=se.a.Content,ve=se.a.Footer,Ce=se.a.Sider,Ie=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(Ce,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(p.a,{}),children:[Object(v.jsx)("span",{children:"Pacientes"}),Object(v.jsx)(i.b,{to:"/pacientes"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ce.a,{}),children:[Object(v.jsx)("span",{children:"Registrar Paciente"}),Object(v.jsx)(i.b,{to:"/registrar"})]},"2"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ie.a,{}),children:[Object(v.jsx)("span",{children:"Re-asignar Paciente"}),Object(v.jsx)(i.b,{to:"/mover"})]},"3"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ie.a,{}),children:[Object(v.jsx)("span",{children:"Detalles"}),Object(v.jsx)(i.b,{to:"/detalles"})]},"4")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(ge,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(ye,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar",component:ue}),Object(v.jsx)(o.a,{path:"/pacientes",component:Oe}),Object(v.jsx)(o.a,{path:"/detalles",component:fe}),Object(v.jsx)(o.a,{path:"/mover",component:xe})]}),Object(v.jsx)(ve,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),t}(n.Component),Se=Ie,ke=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(Se,{})})})}}]),t}(n.Component),Fe=ke,we=t(837),_e=t(838),Te=t(822),Ee=t(840),Ne=t(844),qe=t(846),Pe=t(349),De=t(348),Ae=t(853),Re=t(854),Me=t(855),Le=t(120),ze=t.n(Le),He=B.a.Option;function Be(){var e,a,t=Object(n.useState)(!1),s=Object(H.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(H.a)(i,2),j=o[0],u=o[1],h=Object(n.useState)(!0),x=Object(H.a)(h,2),f=(x[0],x[1]),g=Object(n.useState)({}),y=Object(H.a)(g,2),C=y[0],I=y[1],S=Object(n.useState)(!1),k=Object(H.a)(S,2),_=k[0],E=k[1],N=Object(n.useState)([]),q=Object(H.a)(N,2),D=q[0],A=q[1],R=Object(n.useState)(!1),M=Object(H.a)(R,2),L=(M[0],M[1]);Object(n.useEffect)((function(){console.log("Yo : ",F),w("mispacientes/".concat(F._id)).then((function(e){A(e)})),z()}),[]);var z=function(){w("citas/medico/".concat(F._id)).then((function(e){console.log("GetCitas: ",e),u(e),f(!1)}))},U=function(){c(!1)},V=function(){E(!1)};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)("h4",{style:{marginRight:20},children:"CALENDARIO DE CITAS"}),Object(v.jsx)(O.a,{type:"primary",onClick:function(){c(!0)},children:"Nueva Cita"})]}),Object(v.jsx)(Ne.a,{dateCellRender:function(e){var a=e.format();return a=a.substring(0,10),Object(v.jsx)("ul",{className:"events",children:j.map((function(e){return e.fecha_cita=e.fecha_hora.substring(0,10),e.hora_cita=e.fecha_hora.substring(11,16),e.fecha_cita===a?Object(v.jsx)("li",{style:{listStyleType:"none"},children:Object(v.jsx)(Ee.a,{status:"success",text:e.usuario.name,onClick:function(){I(e),E(!0)}})},e._id):Object(v.jsx)(v.Fragment,{})}))})},monthCellRender:function(e){var a=function(e){if(8===e.month())return 1394}(e);return a?Object(v.jsxs)("div",{className:"notes-month",children:[Object(v.jsx)("section",{children:a}),Object(v.jsx)("span",{children:"Backlog number"})]}):null}}),Object(v.jsx)(we.a,{title:"Nueva Cita",visible:r,onOk:function(){c(!1)},onCancel:U,destroyOnClose:!0,footer:[Object(v.jsx)(O.a,{onClick:U,children:"Cancelar"}),Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"nueva_cita_medic",children:"Guardar"})],children:Object(v.jsxs)(b.a,{name:"nueva_cita_medic",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){e.medico=F._id,e.sucursal=F.horarios[0].sucursal,console.log("ready to send: ",e),P("citas/add",e).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error),z(),c(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",initialValues:{isOnline:!1},children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Selecciona Usuario"}],children:Object(v.jsx)(B.a,{onChange:function(e){},children:D.map((function(e){return Object(v.jsx)(He,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Fecha y Hora",name:"fecha_hora",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(v.jsx)(_e.a,{onChange:function(e,a){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",a)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora",format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:ze()("00:00:00","HH:mm:ss"),format:"HH:mm"}})}),Object(v.jsx)(b.a.Item,{label:"VideoLlada",name:"isOnline",children:Object(v.jsx)(qe.a,{onChange:function(e){console.log("switch to ".concat(e)),L(e)}})}),Object(v.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})})]})}),Object(v.jsx)(we.a,{title:"Detalles de la cita",visible:_,onOk:V,onCancel:function(){E(!1)},destroyOnClose:!0,footer:[Object(v.jsx)(Te.a,{title:"Esta seguro de que quiere borrar esta cita?",onConfirm:function(e){T("citas/remove/"+C._id).then((function(e){E(!1),z()}))},onCancel:function(e){console.log(e)},okText:"Si",cancelText:"No",children:Object(v.jsx)(O.a,{danger:!0,children:"Borrar Cita"})}),Object(v.jsx)(O.a,{type:"primary",onClick:V,children:"Aceptar"})],children:C?Object(v.jsxs)(G.b,{direction:"vertical",children:[Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(p.a,{})," ",null===(e=C.usuario)||void 0===e?void 0:e.name]}),Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Pe.a,{})," ",C.fecha_cita," ",Object(v.jsx)(De.a,{style:{marginBottom:6}})," ",C.hora_cita]}),Object(v.jsxs)(G.b,{align:"baseline",children:[" ",Object(v.jsx)(Ae.a,{})," ",null===(a=C.sucursal)||void 0===a?void 0:a.nombre]}),Object(v.jsxs)(G.b,{align:"baseline",children:[" ",Object(v.jsx)(Re.a,{})," ",C.comentarios]}),C.id_reunion&&Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Me.a,{style:{marginBottom:6}})," ID reunion: ",C.id_reunion.substring(26,37)," "]}),C.id_reunion&&Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Me.a,{style:{marginBottom:6}})," Contrase\xf1a : ",C.password_reunion," "]}),C.id_reunion&&Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Me.a,{style:{marginBottom:6,color:"#1890ff"}})," ",Object(v.jsx)("a",{href:C.id_reunion,target:"_blank",rel:"noreferrer",children:" Ir a la cita "})," "]})]}):Object(v.jsx)("p",{children:"Sin cita seleccionada"})})]})}var Ge=B.a.Option;function Ue(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)([]),u=Object(H.a)(j,2),h=u[0],p=u[1],x=Object(n.useState)(!0),f=Object(H.a)(x,2),g=f[0],y=f[1],I=Object(n.useState)([]),S=Object(H.a)(I,2),k=S[0],F=S[1],_=Object(n.useState)(!0),T=Object(H.a)(_,2),E=T[0],N=T[1];Object(n.useEffect)((function(){w("historias").then((function(e){r(e),d(!1)})),w("notas").then((function(e){p(e),y(!1)})),w("recetas").then((function(e){F(e),N(!1)}))}),[]);return Object(v.jsx)(we.a,{title:"Nuevo expediente",visible:e.isModalVisible,onCancel:function(){e.setIsModalVisible(!1)},footer:[],children:Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:6},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(B.a,{defaultValue:e.pacientesData[0]&&e.pacientesData[0]._id,placeholder:"Selecciona un paciente",style:{width:200},children:e.pacientesData.map((function(e){return Object(v.jsx)(Ge,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Historia Clinica",name:"historia",rules:[{required:!0,message:"Ingresa RFC"}],children:o?Object(v.jsx)(m.a,{}):Object(v.jsx)(B.a,{placeholder:"Selecciona una Historia",style:{width:200},children:s.map((function(e){return Object(v.jsx)(Ge,{value:e._id,children:e.historial},e._id)}))})}),Object(v.jsx)(b.a.Item,{label:"Notas Medicas",name:"nota",rules:[{required:!0,message:"Ingresa RFC"}],children:g?Object(v.jsx)(m.a,{}):Object(v.jsx)(B.a,{placeholder:"Selecciona una Nota",style:{width:200},children:h.map((function(e){return Object(v.jsx)(Ge,{value:e._id,children:e.createdAt},e._id)}))})}),Object(v.jsx)(b.a.Item,{label:"Receta",name:"receta",rules:[{required:!0,message:"Ingresa RFC"}],children:E?Object(v.jsx)(m.a,{}):Object(v.jsx)(B.a,{placeholder:"Selecciona una Receta",style:{width:200},children:k.map((function(e){return Object(v.jsx)(Ge,{value:e._id,children:e.prescripcion},e._id)}))})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Cancelar"})})]})})}var Ve=t(393),Je=t(839),Ze=t(859),Xe=t(545),Ye=t(860),Ke=t(289),Qe=t(830),$e=t(856),We={"Trastornos mentales org\xe1nicos, incluyendo los sintom\xe1ticos":{F00:"Demencia en la enfermedad de Alzheimer",F01:"Demencia vascular",F02:"Demencia en enfermedades clasificadas en otro lugar",F03:"Demencia sin especificaci\xf3n",F04:"S\xedndrome amn\xe9sico org\xe1nico no inducido por alcohol u otras sustancias psic\xf3tropas",F05:"Delirium no inducido por alcohol u otras sustancias psic\xf3tropas",F06:"Otros trastornos mentales debidos a lesi\xf3n o disfunci\xf3n cerebral o enfermedad som\xe1tica",F07:"Trastornos de la personalidad y del comportamiento debidos a enfermedad, lesi\xf3n o disfunci\xf3n cerebral",F09:"Trastorno mental org\xe1nico o sintom\xe1tico sin especificaci\xf3n"},"Trastornos mentales y del comportamiento debidos al consumo de sustancias psic\xf3tropas":{F10:"Trastornos mentales y del comportamiento debidos al consumo de alcohol",F11:"Trastornos mentales y del comportamiento debidos al consumo de opioides ",F12:"Trastornos mentales y del comportamiento debidos al consumo de cannabinoides ",F13:"Trastornos mentales y del comportamiento debidos al consumo de sedantes o hipn\xf3ticos",F14:"Trastornos mentales y del comportamiento debidos al consumo de coca\xedna",F15:"Trastornos mentales y del comportamiento debidos al consumo de otros estimulantes (incluida cafe\xedna)",F16:"Trastornos mentales y del comportamiento debidos al consumo de alucin\xf3genos",F17:"Trastornos mentales y del comportamiento debidos al consumo de tabaco",F18:"Trastornos mentales y del comportamiento debidos al consumo de disolventes vol\xe1tiles",F19:"Trastornos mentales y del comportamiento debidos al consumo de m\xfaltiples drogas o de otras sustancias psicotr\xf3picas"},"Esquizofrenia, trastorno esquizot\xedpico y trastorno de ideas delirantes":{F20:"Esquizofrenia",F21:"Trastorno esquizot\xedpico",F22:"Trastorno de ideas delirantes persistentes",F23:"Trastornos psic\xf3ticos agudos y transitorios",F24:"Trastorno de ideas delirantes inducidas",F25:"Trastornos esquizoafectivos",F28:"Otros trastornos psic\xf3ticos no org\xe1nicos ",F29:"Psicosis no org\xe1nica sin especificaci\xf3n"},"F40-F48 Trastornos neur\xf3ticos, secundarios a situaciones estresantes y somatomorfos":{F40:"Trastorno de ansiedad f\xf3bica","F40.0":"Agorafobia","F40.1":"Fobias sociales","F40.2":"Fobias espec\xedficas",F41:"Otros trastornos de ansiedad","F41.0":"Trastorno de p\xe1nico","F41.1":"Trastorno de ansiedad generalizada","F41.2":"Trastorno mixto ansioso-depresivo",F42:"Trastorno obsesivo-compulsivo",F43:"Reacci\xf3n a estr\xe9s agudo","F43.1":"Trastornos estr\xe9s postraum\xe1tico","F43.2":"Trastornos de adaptaci\xf3n","F43.8":"Otras reacciones a estr\xe9s grave","F43.9":"Reacci\xf3n a estr\xe9s grave sin especificaci\xf3n",F44:"Trastornos disociativos (de conversi\xf3n",F45:"Trastornos somatomorfos",F48:"Otros trastornos neur\xf3ticos"},"F50-F59 Trastornos del comportamiento asociados a disfunciones fisiol\xf3gicas y a factores som\xe1ticos":{F50:"Trastornos de la conducta alimentaria ","F50.0":"Anorexia nerviosa","F50.1":"Anorexia nerviosa at\xedpica","F50.2":"Bulimia nerviosa","F50.3":"Bulimia nerviosa at\xedpica",F51:"Trastornos no org\xe1nicos del sue\xf1o","F51.0":"Insomnio no org\xe1nico","F51.1":"Hipersomnia no org\xe1nica","F51.2":"Trastorno no org\xe1nico del ciclo sue\xf1o-vigilia","F51.3":"Sonambulismo","F51.4":"Terrores nocturnos","F51.5":"Pesadillas ",F52:"Disfunci\xf3n sexual no org\xe1nica",F53:"Trastornos mentales y del comportamiento en el puerperio no clasificadas en otro lugar",F54:" Factores psicol\xf3gicos y del comportamiento en trastornos o enfermedades clasificadas en otro lugar",F55:"Abuso de sustancias que no producen dependencia",F59:"Trastornos del comportamiento asociados a disfunciones fisiol\xf3gicas y a factores som\xe1ticos sin especificaci\xf3n"},"F60-F69 Trastornos de la personalidad y del comportamiento del adulto":{F60:"Trastornos espec\xedficos de la personalidad","F60.0":"Trastorno paranoide de la personalidad","F60.1":"Trastorno esquizoide de la personalidad","F60.2":"Trastorno disocial de la personalidad","F60.3":"Trastorno de inestabilidad emocional de la personalidad","F60.4":"Trastorno histri\xf3nico de la personalidad","F60.5":"Trastorno ananc\xe1stico de la personalidad","F60.6":"Trastorno ansioso de la personalidad","F60.7":"Trastorno dependiente de la personalidad","F60.8":"Otros trastornos espec\xedficos de la personalidad","F60.9":"Trastornos de la personalidad sin especificaci\xf3n "},"F61 Trastornos mixtos y otros trastornos de la personalidad":{"F61.0":"Trastornos mixtos de la personalidad"},"F62 Transformaci\xf3n persistente de la personalidad no atribuible a lesi\xf3n o enfermedad cerebral ":{"F62.0":"Transformaci\xf3n persistente de la personalidad no atribuible a lesi\xf3n o enfermedad cerebral "},"F63 Trastorno de los h\xe1bitos y del control de los impulsos":{"F63.0":"Trastorno de los h\xe1bitos y del control de los impulsos"},"F64 Trastorno de identidad sexual":{"F64.0":"Trastorno de identidad sexual"},"F65 Trastornos de inclinaci\xf3n sexual":{"F65.0":"Trastornos de inclinaci\xf3n sexual"},"F66 Trastornos psicol\xf3gicos y del comportamiento del desarrollo y orientaci\xf3n sexuales":{"F66.0":"Trastornos psicol\xf3gicos y del comportamiento del desarrollo y orientaci\xf3n sexuales"},"F68 Otros trastornos de la personalidad y del comportamiento del adulto ":{"F68.0":"Otros trastornos de la personalidad y del comportamiento del adulto "},"F69 Trastorno de la personalidad y del comportamiento del adulto sin especificaci\xf3n":{"F69.0":"Trastorno de la personalidad y del comportamiento del adulto sin especificaci\xf3n"},"F70-F79 Retraso mental":{F70:"Retraso mental leve",F71:"Retraso mental moderado ",F72:"Retraso mental grave ",F73:"Retraso mental profundo ",F78:"Otro retraso mental ",F79:"Retraso mental sin especificaci\xf3n "},"F80-F89 trastornos del desarrollo psicol\xf3gico":{F80:"Trastornos espec\xedficos del desarrollo del habla y de lenguaje",F81:"Trastornos espec\xedficos del desarrollo del aprendizaje escolar",F82:"Trastorno espec\xedfico del desarrollo psicomotor",F83:"Trastorno espec\xedfico del desarrollo mixto",F84:"Trastornos generalizados del desarrollo",F88:"Otros trastornos del desarrollo psicol\xf3gico",F89:"Trastorno del desarrollo psicol\xf3gico sin especificaci\xf3n"},"F90-F98 Trastornos del comportamiento y de las emociones de comienzo habitual en la infancia y adolescencia ":{F90:"Trastornos hipercin\xe9ticos ",F91:"Trastornos disociales ",F92:"Trastornos disociales y de las emociones mixtos ",F93:"Trastornos de las emociones de comienzo habitual en la infancia ",F94:"Trastornos del comportamiento social de comienzo habitual en la infancia y adolescencia ",F95:" Trastornos de tics",F98:"Otros trastornos de las emociones y del comportamiento de comienzo habitual en la infancia y adolescencia ",F99:"Trastorno mental sin especificaci\xf3n"},"X60-X84 Autolesiones intencionales":{X60:"Envenenamiento intencionalmente autoinfligido por analg\xe9sicos no opi\xe1ceos, antipir\xe9ticos o antirreum\xe1ticos ",X61:"Envenenamiento intencionalmente autoinfligido por f\xe1rmacos antiepil\xe9pticos, sedantes, hipn\xf3ticos, antiparkinsonianos y psicotr\xf3picos no clasificados en otro lugar",X62:"Envenenamiento Intencional autoinfligido por narc\xf3ticosy psicodisl\xe9ptlcos (alucin\xf3genos) no clasificados en otro lugar",X63:"\tEnvenenamiento Intencionalmente autoinfligido por otrosf\xe1rmacos que act\xfaan sobre el sistema nervioso aut\xf3nomo",X64:"Envenenamiento Intencionalmente autoinfligido por otras drogas, f\xe1rmacos o productos biol\xf3gicos",X65:"Envenenamiento Intencionalmente autoinfligido por alcohol",X66:"Envenenamiento Intencionalmente autoinfligido por solventes org\xe1nicos, hidrocarburos halogenados o a sus vapores",X67:"Envenenamiento Intencionalmente autoinfligido por exposici\xf3n a otros gases y vapores",X68:"Envenenamiento Intencionalmente autoinfligido por pesticidas",X69:"\tEnvenenamiento Intencionalmente autoinfligido por otras sustancias qu\xedmicas o nocivas no especificadas",X70:"Da\xf1o intencionalmente autoinfligido por ahorcamiento, estrangulaci\xf3n o sofocaci\xf3n",X71:"Da\xf1o intencionalmente autoinfligido por ahogamiento e inmersi\xf3n",X72:"Da\xf1o intencionalmente autoinfligido por disparo de arma corta",X73:"Da\xf1o intencionalmente autoinfligido por disparo de rifles, escopetas o arma larga",X74:"Da\xf1o intencionalmente autoinfligido por otras armas de fuego",X75:"Da\xf1o intencionalmente autoinfligido por material explosivo",X76:"Da\xf1o intencionalmente autoinfligido por fuego y llamas",X77:"Da\xf1o intencionalmente autoinfligido por vapor de agua, vapores u objetos calientes",X78:"Da\xf1o intencionalmente autoinfligido por un objeto cortante",X79:"Da\xf1o intencionalmente autoinfligido por objetos romos",X80:"Da\xf1o intencionalmente autoinfligido porsalto desde un lugar elevado",X81:"Da\xf1o intencionalmente autoinfligido por arrojarse o tenderse ante un objeto en movimiento",X82:"Da\xf1o intencionalmente autoinfligido por choque con veh\xedculo de motor  ",X83:"Da\xf1o intencionalmente autoinfligido por otros medios espec\xedficos",X84:"Da\xf1o intencionalmente autoinfligido por medios inespec\xedficos"},"Y06 Negligencia y abandono":{"Y06.0":"Negligencia y abandono"},"Y07 Otros s\xedndromes de malos tratos":{"Y07.0":"Otros s\xedndromes de malos tratos"},"Y40-Y59 Drogas, medicamentos y sustancias biol\xf3gicas que causan efectos adversos en uso terap\xe9utico":{Y46:"Antiepil\xe9pticos y antiparkinsonianos",Y47:"Sedantes, hipn\xf3ticos y ansiol\xedticos",Y49:"Psic\xf3tropos no clasificados en otro lugar ",Y50:"Estimulantes del sistema nervioso central no clasificados en otro lugar",Y51:"F\xe1rmacos que afectan primariamente al sistema nervioso aut\xf3nomo ",Y57:"Otros f\xe1rmacos y drogas sin especificar"},"Z00-Z99 Factores que influyen en el estado de salud y en el contacto con los servicios de salud":{Z55:"Problemas relacionados con la educaci\xf3n y la alfabetizaci\xf3n",Z56:"Problemas relacionados con el empleo y desempleo",Z59:"Problemas relacionados con la vivienda y las condiciones econ\xf3micas",Z60:"\tProblemas relacionados con el ambiente social","Z60.0":"Problemas de ajuste a las transiciones de los ciclos vitales","Z60.1":"Situaciones familiares at\xedpicas","Z60.2":"Vivir solo","Z60.3":"Dificultades en la adaptaci\xf3n cultural","Z60.4":"Exclusi\xf3n y rechazo social","Z60.5":"Ser blanco de discriminaci\xf3n adversa y persecuci\xf3n ","Z61.0":"P\xe9rdida de relaciones afectivas en la infancia","Z61.1":"Cambio de domicilio en la ni\xf1ez","Z61.2":"Patrones de relaciones familiares alterados en la infancia","Z61.3":"Hechos contundentes a la p\xe9rdida de la autoestima en la ni\xf1ez","Z61.4":"Problemas relacionados con presunto abuso sexual del ni\xf1o por una persona dentro del grupo de apoyo primario","Z61.5":"Problemas relacionados con presunto abuso sexual del ni\xf1o por una persona no perteneciente al grupo de apoyo primario","Z61.6":" Problemas relacionados con presunto abuso f\xedsico del ni\xf1o","Z61.7":"Experiencias personales atemorizantes en la ni\xf1ez","Z62.0":"\tSupervisi\xf3n y control inadecuados por parte de los padres","Z62.1":"Sobreprotecci\xf3n parental","Z62.2":"Crianza en una instituci\xf3n","Z62.3":"Hostigamiento y acusaci\xf3n de culpabilidad al ni\xf1o","Z62.4":"Abandono emocional del ni\xf1o","Z62.5":"\tOtros problemas relacionados con la negligencia en la crianza del ni\xf1o","Z62.6":"Presiones inapropiadas de los padres y otras anormalidades en la crianza","Z63.0":"Problemas en la relaci\xf3n entre esposos o pareja","Z63.1":"Problemas en la relaci\xf3n con los padres y los familiares pol\xedticos","Z63.2":"Problemas relacionados con el apoyo familiar inadecuado","Z63.3":"Problemas relacionados con la ausencia de un miembro de la familia","Z63.4":"Problemas relacionados con la desaparici\xf3n o muerte de un miembro de la familia","Z63.5":"Problemas relacionados con la ruptura familiar por separaci\xf3n o divorcio","Z63.6":"Problemas relacionados con familiar dependiente, necesitado de cuidado en la casa","Z63.7":"Problemas relacionados con otros hechos estresantes que afectan a la familia y al hogar","Z64.0":"Problemas relacionados con embarazo no deseado","Z64.1":"Problemas relacionados con la multiparidad","Z64.2":"Problemas relacionados con la solicitud o aceptaci\xf3n de intervenciones f\xedsicas, nutricionales y qu\xedmicas, conociendo su riesgo y peligro","Z64.3":"Problemas relacionados con la solicitud o aceptaci\xf3n de intervenciones psicol\xf3gicas o de la conducta, conociendo su riesgo y peligro","Z64.4":"Problemas relacionados con el desacuerdo con consejeros","Z65.0":"Problemas relacionados con culpabilidad en procedimientos civiles o criminales sin prisi\xf3n","Z65.1":"Problemas relacionados con prisi\xf3n y otro encarcelamiento","Z65.2":"Problemas relacionados con la liberaci\xf3n de la prisi\xf3n","Z65.3":"Problemas relacionados con otras circunstancias legales","Z65.4":"Problemas relacionados con v\xedctima de crimen o terrorismo","Z65.5":"Problemas relacionados con la exposici\xf3n a desastre, guerra u otras hostilidades","Z86.4":"Historia personal de abuso de sustancias psicoactivas","Z86.5":"Historia personal de otros trastornos mentales o del comportamiento","Z91.1":"Historia personal de incumplimiento del r\xe9gimen o tratamiento m\xe9dico","Z91.3":"Historia personal de ciclo sue\xf1o-vigilia no saludable","Z91.4":"Historia personal de trauma psicol\xf3gico, no clasificado en otra parte","Z91.5":"HISTORIA PERSONAL DE LESI\xd3N AUTOINFLIGIDA INTENCIONALMENTE"}},ea=B.a.Option,aa=B.a.OptGroup,ta=Qe.a.Dragger,na=m.a.TextArea,sa=function(e){console.log("selected ".concat(e))},ra=function(e){console.log("Failed:",e)};function ca(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1];Object(n.useEffect)((function(){console.log("Received nota on props: ",e.nota)}),[]);var c=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.id_medico=F._id,t.id_usuario=e.paciente,t.recetas=[],t.estudios=s,console.log("ready To send: ",t),a.next=7,fetch(C+"notas/add",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return l.b.success(e.message||e.error),e})).catch((function(e){return console.error("Error:",e)}));case 7:n=a.sent,e.prevExpNotas.push(n.id_nota),fetch(C+"expedientes/updateNotas/"+e.id_expediente,{method:"PUT",body:JSON.stringify({notas:e.prevExpNotas}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Exp:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),i={name:"file",multiple:!0,action:C+"notas/estudios/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),r([].concat(Object(Ke.a)(s),[e.file.response.file]))):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{style:{marginLeft:20},children:"Detalles de la nota"}),Object(v.jsx)("br",{}),Object(v.jsxs)(ta,Object(L.a)(Object(L.a)({},i),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra los archivos de estudio aqu\xed, o da click para buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en pdf o imagen que sean menores a 2 MB para poder subirlos"})]})),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:14},initialValues:e.nota?e.nota:{remember:!0,estudios:[]},onFinish:e.nota?function(a){console.log("ready To send: ",a),fetch(C+"notas/update/"+e.nota._id,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){l.b.success(a.message||a.error),a.message&&"Nota Updated"===a.message&&e.setIsModalVisible(!1),console.log(a)})).catch((function(e){return console.error("Error:",e)}))}:c,onFinishFailed:ra,autoComplete:"off",style:{marginTop:12},children:[Object(v.jsx)(b.a.Item,{label:"Edad",name:"edad",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Talla",name:"talla",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Peso",name:"peso",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"IMC",name:"imc",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Temperatura",name:"temperatura",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Presion Arterial",name:"presion_arterial",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Frecuencia Cariaca",name:"frecuencia_cardiaca",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Frecuencia respiratoria",name:"frecuencia_respiratoria",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Observaciones",name:"Observaciones",rules:[{required:!0,message:"Ingresa Observaciones"}],children:Object(v.jsx)(na,{rows:4})}),Object(v.jsx)(b.a.Item,{label:"Diagnostico",name:"diagnostico",rules:[{required:!0,message:"Selecciona Diagnostico"}],children:Object(v.jsx)(B.a,{showSearch:!0,style:{width:400},onChange:sa,children:Object.keys(We).map((function(e){return Object(v.jsx)(aa,{label:e,children:Object.keys(We[e]).map((function(a){return Object(v.jsx)(ea,{value:a,children:We[e][a]})}))})}))})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsxs)(G.b,{children:[Object(v.jsx)(O.a,{onClick:function(){return e.setIsModalVisible(!1)},children:"Cancelar"}),Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})]})})]})]})}var ia=t(857),oa=t(858),la=t(42);t.p;function da(e){var a=la.e.create({page:{flexDirection:"column",backgroundColor:"white"},block:{flexDirection:"row"},section:{margin:10,padding:10,flexGrow:1},image:{width:132},footText:{fontSize:14}});function t(){return Object(v.jsx)(la.a,{children:Object(v.jsxs)(la.d,{size:"A4",style:a.page,children:[Object(v.jsxs)(la.g,{style:a.block,children:[Object(v.jsx)(la.g,{style:a.section,children:Object(v.jsx)(la.b,{style:a.image,src:S+e.logoHospital})}),Object(v.jsxs)(la.g,{style:[a.section,{alignItems:"center"}],children:[Object(v.jsx)(la.f,{style:a.footText,children:F.name}),Object(v.jsxs)(la.f,{style:a.footText,children:["C\xe9dula Profesional: ",F.cedula]}),Object(v.jsxs)(la.f,{style:a.footText,children:["Certificaci\xf3n: ",F.certificacion]}),Object(v.jsx)(la.f,{style:a.footText,children:F.universidad})]})]}),Object(v.jsx)(la.g,{style:{margin:35,flexGrow:1},children:Object(v.jsx)(la.g,{style:a.section,children:Object(v.jsx)(la.f,{style:{lineHeight:2},children:e.receta.prescripcion})})}),Object(v.jsx)(la.g,{style:{color:"black",width:"90%",backgroundColor:"black",borderBottomColor:"#9bb4df",borderBottomWidth:1,marginHorizontal:20}}),Object(v.jsxs)(la.g,{style:a.block,children:[Object(v.jsx)(la.g,{style:a.section,children:Object(v.jsx)(la.f,{style:a.footText,children:"Pagina de la clinica, Correo@clinica.com"})}),Object(v.jsxs)(la.g,{style:a.section,children:[Object(v.jsx)(la.b,{style:a.image,src:R}),"F",Object(v.jsx)(la.f,{style:{fontSize:10,marginLeft:20},children:"www.recreamed.com"})]})]})]})})}return Object(v.jsx)("div",{children:Object(v.jsx)(la.c,{height:500,width:550,children:Object(v.jsx)(t,{})})})}var ja=m.a.TextArea;function ua(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],m=i[1],h=Object(n.useState)({}),p=Object(H.a)(h,2),x=p[0],f=p[1],I=Object(n.useState)(!1),S=Object(H.a)(I,2),k=S[0],w=S[1],_=Object(n.useState)(!1),T=Object(H.a)(_,2),E=T[0],q=T[1],D=Object(n.useState)(!1),A=Object(H.a)(D,2),R=A[0],M=A[1],L=function(){w(!1)},z=function(){q(!1)},B=Object(n.useState)(null),G=Object(H.a)(B,2),U=G[0],J=G[1],Z=Object(n.useState)(!1),X=Object(H.a)(Z,2),Y=X[0],K=X[1];Object(n.useEffect)((function(){e.recetas?Q():$()}),[e.recetas]);var Q=function(){P("recetas/getMany",{ids:e.recetas}).then((function(e){r(e),m(!1)}))},$=function(){r([]),m(!1)},W=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.id_nota=e.id_nota,console.log("new Receta:",t),console.log("new Recetas:",t),a.next=5,fetch(C+"recetas/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",e),l.b.info(e.message||e.error),"Receta creada correctamente"===e.message?w(!1):console.log(e.error),e})).catch((function(e){return console.error("Error:",e)}));case 5:n=a.sent,e.recetas.push(n.id_receta),console.log("New Recetas: ",e.recetas),fetch(C+"notas/updateRecetas/"+e.id_nota,{method:"PUT",body:JSON.stringify({recetas:e.recetas}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Exp:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ee=function(e){console.log("Failed:",e)},ae=function(e){f(e),console.log(e),console.log("BeforeEdit"),q(!0)},te=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:M(!0),console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ne={width:"100%",height:"32",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{bordered:!1,title:Object(v.jsxs)(v.Fragment,{children:["Recetas ",Object(v.jsx)(O.a,{onClick:function(){return w(!0)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(V.a,{})})]}),children:o?Object(v.jsx)("h5",{children:"Cargando Receta..."}):s.length>0?s.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.a.Grid,{style:ne,children:[Object(v.jsxs)("p",{style:{whiteSpace:"pre"},children:[" Prescripcion : ",e.prescripcion," "]}),Object(v.jsx)(O.a,{style:{marginLeft:8},onClick:function(){return ae(e)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})}),Object(v.jsx)(O.a,{style:{marginLeft:8},onClick:function(){return te(e)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(oa.a,{})})]},e._id)})})):Object(v.jsx)("h6",{children:"No hay una receta asignada"})}),Object(v.jsx)(we.a,{title:"Nueva Receta",visible:k,onOk:function(){w(!1)},onCancel:L,footer:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"create_receta_medic",children:"Guardar"}),Object(v.jsx)(O.a,{onClick:L,children:"Cancelar"})],children:Object(v.jsx)(b.a,{name:"create_receta_medic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:W,onFinishFailed:ee,autoComplete:"off",children:Object(v.jsx)(b.a.Item,{label:"Prescripcion",name:"prescripcion",rules:[{required:!0,message:"Ingresa la prescripcion"}],children:Object(v.jsx)(ja,{rows:4})})})}),Object(v.jsxs)(we.a,{title:"Editar Receta",visible:E,onOk:function(){q(!1)},onCancel:z,destroyOnClose:!0,footer:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"update_receta_medic",children:"Actualizar"}),Object(v.jsx)(O.a,{onClick:z,children:"Cancelar"})],children:[Object.keys(x).map((function(e){return Object(v.jsxs)("p",{children:[e," : ",x[e]]})})),Object(v.jsx)(b.a,{name:"update_receta_medic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{prescripcion:x.prescripcion},onFinish:function(e){console.log("update",e),N("recetas/update/".concat(x._id),e).then((function(e){q(!1),Q()}))},onFinishFailed:ee,autoComplete:"off",children:Object(v.jsx)(b.a.Item,{label:"Prescripcion",name:"prescripcion",rules:[{required:!0,message:"Ingresa la prescripcion"}],children:Object(v.jsx)(ja,{rows:4})})})]}),Object(v.jsx)(we.a,{title:"Imprimir Receta",visible:R,onOk:function(){M(!1),K(!1)},onCancel:function(){M(!1),K(!1)},width:600,children:Y?Object(v.jsx)(da,{receta:x,logoHospital:U}):Object(v.jsx)("div",{children:Object(v.jsx)(u.a,{title:"Selecciona un hospital",bordered:!1,children:F.horarios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:{width:"100%"},onClick:function(){J(e.sucursal.logo),K(!0)},children:Object(v.jsxs)(d.a,{align:"middle",children:[Object(v.jsx)(j.a,{span:6,offset:4,children:Object(v.jsx)("img",{width:64,src:"https://api.recreamed.com/images/"+e.sucursal.logo,alt:"Logo"})}),Object(v.jsxs)(j.a,{span:10,children:[e.sucursal.nombre," ",Object(v.jsx)("br",{})," ",e.horario]})]})})}))})})})]})}var ba=Ve.a.TabPane,ma=Je.a.Panel;function ha(e){var a=Object(n.useState)(""),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],l=i[1],b=Object(n.useState)("detalles"),m=Object(H.a)(b,2),h=(m[0],m[1],Object(n.useState)("")),p=Object(H.a)(h,2),x=p[0],f=p[1],I=Object(n.useState)(!1),S=Object(H.a)(I,2),k=S[0],F=S[1],_=Object(n.useState)(!1),T=Object(H.a)(_,2),E=T[0],N=T[1],q=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:N(!0);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){e.paciente?w("notas/".concat(e.paciente)).then((function(e){console.log("NotasData: ",e),r(e),l(!1)})):P()}),[e.paciente]);var P=function(){r([]),l(!1)},D={width:"25%",textAlign:"center",border:"1px solid rgba(255, 255, 255, 255)"},A={width:"50%",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};return Object(v.jsxs)("div",{children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h5",{children:"Notas "}),Object(v.jsx)(O.a,{onClick:function(){F(!0)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(V.a,{})})]}),Object(v.jsx)(Ve.a,{tabPosition:"top",onTabClick:function(e,a){console.log("OnTABClickNota",e)},children:o?Object(v.jsx)("h5",{children:"Cargando Nota..."}):s.map((function(e,a){var t=a+1;return Object(v.jsx)(ba,{tab:"Nota ".concat(t),style:{width:"100%"},children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:12,children:[Object(v.jsx)(Je.a,{bordered:!1,children:Object(v.jsx)(ma,{header:"Detalles de la nota",children:Object(v.jsxs)(u.a,{children:[Object(v.jsxs)(u.a.Grid,{style:D,children:["Edad: ",e.edad]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Talla: ",e.talla]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Peso: ",e.peso]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["IMC: ",e.imc]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Temperatura: ",e.temperatura]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Presion Arterial : ",e.presion_arterial]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Frecuencia Cardiaca : ",e.frecuencia_cardiaca]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Frecuencia Respiratoria : ",e.frecuencia_respiratoria]})]})},"1")}),Object(v.jsx)(u.a,{title:"Observaciones",children:e.Observaciones}),Object(v.jsx)(u.a,{title:"Diagnostico",children:e.diagnostico}),Object(v.jsx)(u.a,{title:"Estudios",children:e.estudios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:A,children:Object(v.jsxs)("a",{href:"".concat(C,"notas/estudios/download/").concat(e),children:[Object(v.jsx)(Ze.a,{}),e,Object(v.jsx)(Xe.a,{})," "]})})}))}),Object(v.jsx)(O.a,{style:{float:"right"},onClick:function(){q(e)},size:"small",type:"primary",icon:Object(v.jsx)(Ye.a,{}),children:"Editar Nota"})]}),Object(v.jsx)(j.a,{span:12,children:Object(v.jsx)(ua,{recetas:e.recetas,id_nota:e._id})})]})},e._id)}))}),Object(v.jsx)(we.a,{title:"Nueva Nota",visible:k,onOk:function(){F(!1)},onCancel:function(){F(!1)},width:680,footer:[],destroyOnClose:!0,children:Object(v.jsx)(ca,{id_expediente:e.id_expediente,paciente:e.paciente,prevExpNotas:e.prevExpNotas,setIsModalVisible:F})}),Object(v.jsx)(we.a,{title:"Editar Nota",visible:E,onOk:function(){N(!1)},onCancel:function(){N(!1)},width:680,footer:[],destroyOnClose:!0,children:Object(v.jsx)(ca,{nota:x,setIsModalVisible:N})})]})}function Oa(e){var a=m.a.TextArea,t=Object(n.useState)(""),s=Object(H.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)(!0),o=Object(H.a)(i,2),d=o[0],j=o[1],h=Object(n.useState)(!1),p=Object(H.a)(h,2),x=p[0],f=p[1];Object(n.useEffect)((function(){e.historia?y():g()}),[e.historia]);var g=function(){c([]),j(!1)},y=function(){w("historia/".concat(e.historia)).then((function(e){console.log("DetalleHistoria: ",e),c(e),j(!1)}))},I={width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",marginTop:15},S=function(e){f(!1),fetch(C+"historias/update/"+r[0]._id,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).finally((function(){y(),f(!1)})),console.log("New Historia",e)},k=function(){return Object(v.jsx)(u.a.Grid,{style:I,children:x?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(b.a,{name:"historiaForm",initialValues:{historial:r[0].historial},onFinish:S,children:[Object(v.jsx)(b.a.Item,{name:"historial",children:Object(v.jsx)(a,{rows:4})}),Object(v.jsxs)(G.b,{children:[Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{onClick:function(){return f(!1)},children:"Cancelar"})})]})]})}):Object(v.jsx)("p",{style:{whiteSpace:"pre",textAlign:"left"},children:r[0].historial})})};return Object(v.jsx)("div",{children:Object(v.jsxs)(u.a,{bordered:!1,children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h5",{children:"Historia Clinica"}),Object(v.jsx)(O.a,{onClick:function(){return f(!0)},size:"small",disabled:!e.historia,type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),d?Object(v.jsx)("h5",{children:"Cargando Historia..."}):r.length>0?Object(v.jsx)(k,{}):Object(v.jsx)("h6",{children:"No hay una historia asignada"})]})})}var pa=t(234),xa=t.n(pa),fa=t(319);function ga(e){var a=Object(n.useState)(!1),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)([]),i=Object(H.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(!0),j=Object(H.a)(d,2),u=(j[0],j[1]),b=Object(n.useState)(""),m=Object(H.a)(b,2),h=m[0],p=m[1],x=Object(n.useState)(""),f=Object(H.a)(x,2),g=f[0],y=f[1];Object(n.useEffect)((function(){I(e.paciente)}),[e.paciente]);var I=function(e){fetch(C+"expedientes/".concat(e)).then((function(e){return e.json()})).then((function(e){l(e),"undefined"!=typeof e?(y(e.notas),p(e.historia)):(y(null),p(null))})).finally((function(){return u(!1)}))};return Object(v.jsxs)("div",{id:"expedient-export",children:[Object(v.jsxs)(G.b,{size:"middle",children:[Object(v.jsx)("h4",{children:"Expediente "}),Object(v.jsx)("h3",{children:" "})]}),Object(v.jsx)(Oa,{historia:h}),Object(v.jsx)(ha,{notas:g,id_expediente:o._id,prevExpNotas:o.notas,paciente:e.paciente}),Object(v.jsx)(Ue,{isModalVisible:s,setIsModalVisible:r,pacientesData:[]}),Object(v.jsx)(O.a,{onClick:function(){var e=document.getElementById("expedient-export");xa()(e).then((function(e){var a=e.toDataURL("image/png"),t=new fa.a;t.addImage(a,"JPEG",0,0),t.save("expediente.pdf")}))},children:"Exportar a pdf"})]})}var ya=t(835),va=t(823),Ca=t(841),Ia=["key","name"],Sa=B.a.Option,ka=Qe.a.Dragger,Fa={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},wa={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function _a(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)([]),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(H.a)(o,2),h=u[0],p=u[1],x=Object(n.useState)(e.perfil.avatar),f=Object(H.a)(x,2),g=f[0],y=f[1],I={name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),y(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};Object(n.useEffect)((function(){console.log("received Medic: ",e.perfil),w("sucursales").then((function(e){i(e),p(!1)}))}),[]);var S=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(Sa,{value:"+52",children:"+52"})})});b.a.Item,B.a;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Editar perfil"}),Object(v.jsx)("br",{}),Object(v.jsxs)(ka,Object(L.a)(Object(L.a)({},I),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,Object(L.a)(Object(L.a)({},Fa),{},{form:t,name:"register",onFinish:function(a){a.avatar=g,console.log("ready to send",a),fetch(C+"users/updateUser/"+e.perfil._id,{method:"PUt",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),a.message&&"Usuario actualizado correctamente"===a.message?e.setEditing(!1):l.b.error(a.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.perfil,scrollToFirstError:!0,children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:11,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un corrreo electronico valido"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa el numero de telefono correcto"}],children:Object(v.jsx)(m.a,{addonBefore:S,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(v.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,a){var t=a.add,n=a.remove;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){var a=e.key,t=e.name,s=Object(z.a)(e,Ia);return Object(v.jsxs)(G.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(v.jsx)(B.a,{placeholder:"Elije Sucursal",style:{width:"120px"},children:h?"Cargando":c.map((function(e){return Object(v.jsx)(Sa,{value:e._id,children:e.nombre})}))})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(v.jsx)(m.a,{placeholder:"Horario"})})),Object(v.jsx)(U.a,{onClick:function(){return n(t)}})]},a)})),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(v.jsx)(V.a,{}),children:"Agregar Horario"})})]})}})})]}),Object(v.jsxs)(j.a,{span:12,children:[Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},wa),{},{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}))]})]})}))]})}function Ta(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=(c[0],c[1]),o=Object(n.useState)(!1),l=Object(H.a)(o,2),b=l[0],m=l[1],h=Object(n.useState)(!0),x=Object(H.a)(h,2),f=x[0],I=x[1],S=Object(n.useState)(!1),k=Object(H.a)(S,2);k[0],k[1];Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){w()}),[b]);var w=function(){fetch(C+"userByMail/"+F.email).then((function(e){return e.json()})).then((function(e){console.log(e),s(e[0]),I(!1)}))},_=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.horarios.forEach((function(e){e.sucursal=e.sucursal._id})),console.log("Horarios before edit profile: ",a.horarios),e.next=4,i(a);case 4:m(!0),console.log("Editar medico: ",a);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),T=function(){return Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:8,children:[t.avatar.length>8?Object(v.jsx)(ya.a,{style:{borderRadius:12},width:256,src:"https://api.recreamed.com/images/"+t.avatar}):Object(v.jsx)(Ca.a,{size:128,icon:Object(v.jsx)(p.a,{})}),Object(v.jsx)(va.a,{}),Object(v.jsxs)("p",{children:["Nombre: ",t.name," "]}),Object(v.jsxs)("p",{children:["Correo: ",t.email," "]}),Object(v.jsxs)("p",{children:["Telefono: ",t.telefono," "]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsx)(u.a,{title:"Horarios",style:{borderRadius:12},children:t.horarios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:{width:"100%"},children:Object(v.jsxs)(d.a,{align:"middle",children:[Object(v.jsx)(j.a,{span:6,offset:4,children:Object(v.jsx)("img",{width:64,src:"https://api.recreamed.com/images/"+e.sucursal.logo,alt:"Logo"})}),Object(v.jsxs)(j.a,{span:10,children:[e.sucursal.nombre," ",Object(v.jsx)("br",{})," ",e.horario]})]})})}))}),Object(v.jsx)("br",{}),Object(v.jsxs)("p",{children:["Universidad: ",t.universidad," "]}),Object(v.jsxs)("p",{children:["Certificacion: ",t.certificacion," "]}),Object(v.jsxs)("p",{children:["Cedula: ",t.cedula," "]})]})]})};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h3",{children:"PERFIL"}),Object(v.jsx)(O.a,{onClick:function(){return _(t)},type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),f?Object(v.jsx)(he,{}):Object(v.jsx)(u.a,{style:{borderRadius:16},children:b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(_a,{perfil:t,setEditing:m}),Object(v.jsx)(O.a,{shape:"circle",title:"Cancelar"}),Object(v.jsx)(O.a,{onClick:function(){return m(!1)},children:"Cancelar"})]}):Object(v.jsx)(T,{})})]})}function Ea(){var e=Object(n.useState)({}),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!1),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)([]),b=Object(H.a)(l,2),m=b[0],h=b[1],p=Object(n.useState)(!0),x=Object(H.a)(p,2),f=x[0],g=x[1],y=Object(n.useState)(!1),I=Object(H.a)(y,2),S=I[0],k=I[1];Object(n.useEffect)((function(){F()}),[]);var F=function(){fetch(C+"notas").then((function(e){return e.json()})).then((function(e){console.log(e),h(e),g(!1)})).finally((function(){return g(!1)}))},w=[{title:"Paciente",dataIndex:"id_usuario",key:"Paciente",render:function(e){return Object(v.jsx)("a",{children:e})}},{title:"Edad",dataIndex:"edad",key:"Edad"},{title:"Talla",dataIndex:"talla",key:"Talla"},{title:"IMC",dataIndex:"imc",key:"imc"},{title:"Observaciones",key:"Observaciones",dataIndex:"observaciones"},{title:"Detalles",key:"action",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)(O.a,{onClick:function(){k(!0),s(a)},children:"Detalles"})})}}],_={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function T(){return Object(v.jsx)("div",{children:Object(v.jsx)(u.a,{bordered:!1,children:Object.keys(t).map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a.Grid,{style:_,children:e}),Object(v.jsx)(u.a.Grid,{style:_,size:"small",children:t[e]})]})}))})})}return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:Object(v.jsx)("h4",{children:"Notas de los pacientes del medico"})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(O.a,{type:"primary",onClick:function(){o(!0)},children:"Nueva Nota"})})]}),f?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{columns:w,dataSource:m}),Object(v.jsx)(we.a,{width:800,title:Object(v.jsx)("h4",{children:"Crear Nota"}),visible:i,onOk:function(){o(!1),F()},onCancel:function(){o(!1)}}),Object(v.jsx)(we.a,{width:800,title:Object(v.jsx)("h4",{children:"Detalles de la nota "}),visible:S,onOk:function(){k(!1)},onCancel:function(){k(!1)},children:Object(v.jsx)(T,{})})]})}var Na=t(833),qa=t(824),Pa=t(825),Da=(t(792),function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).dataPie=[{type:"F01",value:9},{type:"F05",value:4},{type:"F09",value:7},{type:"F13",value:2},{type:"F16",value:12},{type:"F22",value:3}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:24},{mes:"Julio",consultas:17},{mes:"Agosto",consultas:22},{mes:"Septiembre",consultas:15},{mes:"Octubre",consultas:18}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"contenedor",children:[Object(v.jsxs)(d.a,{gutter:30,children:[Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE",borderRadius:12},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A",borderRadius:12},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2",borderRadius:12},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC",borderRadius:12},className:"cardsContenido"})})})]}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,style:{textAlign:"center"},children:Object(v.jsx)("h5",{style:{color:"#1F263C"},children:"Diagnosticos"})}),Object(v.jsx)(j.a,{xs:24,md:12,style:{textAlign:"center"},children:Object(v.jsx)("h5",{children:"Citas"})})]}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(v.jsx)(qa.a,Object(L.a)(Object(L.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C",borderRadius:12}}))}),Object(v.jsx)(j.a,{xs:24,md:12,children:Object(v.jsx)(Pa.a,Object(L.a)(Object(L.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px",borderRadius:12}}))})]})]})]})}}]),t}(n.Component)),Aa=Da,Ra=t.p+"static/media/Icon.e05b6872.png",Ma=m.a.TextArea,La=function(e){console.log("Success:",e)},za=function(e){console.log("Failed:",e)};function Ha(){return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Historial de los pacientes del medico"}),Object(v.jsx)("h4",{children:"Historial Clinico"}),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:12},initialValues:{remember:!0},onFinish:La,onFinishFailed:za,autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"comentarios",name:"id_paciente",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(Ma,{rows:4})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]})}var Ba=t(861),Ga=(Qe.a.Dragger,B.a.Option),Ua=["Michoacan","Morelos","Guerrero"];function Va(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)(e.paciente?e.paciente.avatar:"noimg.jpg"),r=Object(H.a)(s,2),c=r[0],i=r[1];function o(){return d.apply(this,arguments)}function d(){return(d=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"historias/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({historial:"Historia clinica al "+new Date})}).then((function(e){return e.json()})).then((function(e){return console.log("Story Created: ",e),e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var a=Object(y.a)(g.a.mark((function a(t){var n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o();case 2:return n=a.sent,console.log("historia on Register: ",n),s={usuario:t,historia:n.id_historia,notas:[],recetas:[]},console.log("postBodyForExpedient: ",s),a.next=8,fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),l.b.success(a.message||a.error),a.message&&"Expediente creado correctamente"===a.message&&e.setAdding(!1)})).catch((function(e){return console.error("Error:",e)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.avatar=c,t.estatus="1",t.rol="Paciente",t.password=""+t.telefono,t.universidad="",t.certificacion="",t.cedula="",t.horarios=[],t.medicos_asignados=e.paciente?e.paciente.medicos_asignados:[F._id],t.responsable=e.paciente?e.paciente.responsable:{nombre:t.res_name,telefono:t.res_phone},delete t.prefix,delete t.res_name,delete t.res_phone,n=e.paciente?C+"users/updateUser/"+e.paciente._id:I+"register",console.log(t),console.log("url: ",n),a.next=18,fetch(n,{method:e.paciente?"PUT":"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Create User Response:",a),l.b.success(a.message||a.error),e.paciente?console.log("Editing, not creating patient"):j(a.user_id),"Usuario creado correctamente"===a.message?e.setAdding(!1):console.log(a),"Usuario actualizado correctamente"===a.message?e.setAdding(!1):console.log(a)})).catch((function(e){return console.error("Error:",e)}));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=(b.a.Item,B.a,b.a.Item,B.a,{name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),i(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))}});return Object(v.jsxs)("div",{style:{width:"100%"},children:[e.paciente?Object(v.jsx)("h4",{children:"Editar paciente"}):Object(v.jsx)("h4",{children:"Registrar Paciente"}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(Qe.a,Object(L.a)(Object(L.a)({},h),{},{children:Object(v.jsx)(O.a,{type:"dashed",icon:Object(v.jsx)(Ba.a,{style:{fontSize:24,color:"#0d6efd"}}),style:{width:400,height:80},block:!0,children:"Selecciona la foto de perfil"})}))}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:u,onFinishFailed:function(e){console.log("Failed:",e)},initialValues:e.paciente,scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un correo electronico vaido!"},{required:!0,message:"Ingresa un correo electronico"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa tu numero de telefono"}],children:Object(v.jsx)(m.a,{style:{width:"100%"}})}),Object(v.jsx)(va.a,{children:"Responsable (opcional) "}),Object(v.jsx)(b.a.Item,{name:"res_name",label:"Nombre Responsable",children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"res_phone",label:"Telefono Responsable",children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(va.a,{}),Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!1,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!1,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!1,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!1,message:"Ingresa "}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:Ua.map((function(e){return Object(v.jsx)(Ga,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"sexo",label:"sexo",rules:[{required:!0,message:"Selecciona una opcion"}],children:Object(v.jsxs)(B.a,{placeholder:"Elije el sexo",children:[Object(v.jsx)(Ga,{value:"H",children:"H"}),Object(v.jsx)(Ga,{value:"M",children:"M"}),Object(v.jsx)(Ga,{value:"Otro",children:"Otro"})]})}),Object(v.jsx)(b.a.Item,{name:"edad",label:"Edad",rules:[{required:!0,message:"Ingresa edad"}],children:Object(v.jsx)(le.a,{min:1,max:120})}),Object(v.jsx)(b.a.Item,{name:"diagnostico",label:"Diagnostico",rules:[{required:!0,message:"Ingresa el diagnostico"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"peso",label:"Peso",rules:[{required:!0,message:"Ingresa el peso"}],children:Object(v.jsx)(le.a,{min:1,max:200})}),Object(v.jsx)(b.a.Item,{name:"talla",label:"Talla",rules:[{required:!0,message:"Ingresa la talla"}],children:Object(v.jsx)(le.a,{min:1,max:200})}),Object(v.jsx)(b.a.Item,{name:"ocupacion",label:"Ocupacion",rules:[{required:!0,message:"Ingresa ocupacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado_civil",label:"Estado Civil",rules:[{required:!0,message:"Ingresa estado civil"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"escolaridad",label:"Escolaridad",rules:[{required:!0,message:"Ingresa escolaridad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"lugar_de_nacimiento",label:"Lugar De Nacimiento",rules:[{required:!0,message:"Ingresa el lugar de nacimiento"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"ciudad",label:"Ciudad",rules:[{required:!0,message:"Ingresa ciudad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"fuma",label:"Fuma",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(qe.a,{defaultChecked:!1})}),Object(v.jsx)(b.a.Item,{name:"alcohol",label:"Alcohol",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(qe.a,{defaultChecked:!1})}),Object(v.jsx)(b.a.Item,{name:"drogas",label:"Drogas",rules:[{required:!0,message:"Selecciona una opcion"}],children:Object(v.jsxs)(B.a,{placeholder:"Elije una opcion",children:[Object(v.jsx)(Ga,{value:"Antes",children:"Antes"}),Object(v.jsx)(Ga,{value:"Ahora",children:"Ahora"}),Object(v.jsx)(Ga,{value:"Nunca",children:"Nunca"})]})}),Object(v.jsx)(b.a.Item,{name:"cuales_drogas",label:"Cuales Drogas",rules:[{required:!1,message:"Selecciona una opcion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"enfermedades_familiares",label:"Enfermedades Familiares",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(b.a.List,{name:"enfermedades_familiares",children:function(e,a,t){var n=a.add,s=a.remove,r=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(v.jsxs)(b.a.Item,{label:"",required:!1,children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{noStyle:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingresa la enfermedad o elimina este campo"}],children:Object(v.jsx)(m.a,{placeholder:"Ingresa enfermedad",style:{width:e.length>1?"95%":"100%"}})})),e.length>1?Object(v.jsx)(U.a,{className:"dynamic-delete-button",onClick:function(){return s(a.name)}}):null]},a.key)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return n()},icon:Object(v.jsx)(V.a,{}),children:"Add field"}),Object(v.jsx)(b.a.ErrorList,{errors:r})]})]})}})}),Object(v.jsx)(b.a.Item,{name:"enfermedades_medicas",label:"Enfermedades Medicas",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(b.a.List,{name:"enfermedades_medicas",children:function(e,a,t){var n=a.add,s=a.remove,r=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(v.jsxs)(b.a.Item,{label:"",required:!1,children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{noStyle:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingresa la enfermedad o elimina este campo"}],children:Object(v.jsx)(m.a,{placeholder:"Ingresa enfermedad",style:{width:e.length>1?"95%":"100%"}})})),e.length>1?Object(v.jsx)(U.a,{className:"dynamic-delete-button",onClick:function(){return s(a.name)}}):null]},a.key)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return n()},icon:Object(v.jsx)(V.a,{}),children:"Add field"}),Object(v.jsx)(b.a.ErrorList,{errors:r})]})]})}})}),Object(v.jsx)(b.a.Item,{name:"tratamiento_actual",label:"Tratamiento actual",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(b.a.List,{name:"tratamiento_actual",children:function(e,a,t){var n=a.add,s=a.remove,r=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(v.jsxs)(b.a.Item,{label:"",required:!1,children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{noStyle:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingresa la enfermedad o elimina este campo"}],children:Object(v.jsx)(m.a,{placeholder:"Ingresa enfermedad",style:{width:e.length>1?"95%":"100%"}})})),e.length>1?Object(v.jsx)(U.a,{className:"dynamic-delete-button",onClick:function(){return s(a.name)}}):null]},a.key)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return n()},icon:Object(v.jsx)(V.a,{}),children:"Add field"}),Object(v.jsx)(b.a.ErrorList,{errors:r})]})]})}})}),Object(v.jsx)(b.a.Item,{label:"*",children:Object(v.jsxs)(G.b,{children:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"}),Object(v.jsx)(O.a,{onClick:function(){return e.setAdding(!1)},children:"Cancelar"})]})})]})]})}function Ja(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],l=i[1],b=Object(n.useState)(!1),m=Object(H.a)(b,2),h=m[0],x=m[1];Object(n.useEffect)((function(){w("getuser/".concat(e.paciente)).then((function(e){console.log("DetallePac: ",e),r(e),l(!1)}))}),[e.paciente]);var f=function(){return h?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(Va,{setAdding:x,paciente:s})}):Object(v.jsxs)(u.a,{style:{width:"98%",borderRadius:12},bordered:!1,children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h5",{children:"Datos del Paciente"}),Object(v.jsx)(O.a,{onClick:function(){return x(!0)},size:"small",disabled:!e.paciente,type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsx)(d.a,{justify:"center",children:Object(v.jsx)(j.a,{span:12,children:s.avatar.length>9?Object(v.jsx)("img",{width:128,src:"https://api.recreamed.com/images/"+s.avatar,alt:"ProfilePic"}):Object(v.jsx)(Ca.a,{size:128,icon:Object(v.jsx)(p.a,{})})})}),Object(v.jsx)("br",{}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Nombre:"}),Object(v.jsx)(j.a,{span:10,children:s.name})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Correo:"}),Object(v.jsx)(j.a,{span:10,children:s.email})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Telefono:"}),Object(v.jsx)(j.a,{span:10,children:s.telefono})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Estado:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.estado]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Municipio:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.municipio]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Colonia:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.colonia]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Calle:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.calle]})]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"C.P.:"}),Object(v.jsx)(j.a,{span:10,children:s.codigopostal})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Sexo:"}),Object(v.jsx)(j.a,{span:10,children:s.sexo})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Edad:"}),Object(v.jsx)(j.a,{span:10,children:s.edad})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Peso:"}),Object(v.jsx)(j.a,{span:10,children:s.peso})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Talla:"}),Object(v.jsx)(j.a,{span:10,children:s.talla})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Ocupacion:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.ocupacion]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Diagnostico:"}),Object(v.jsx)(j.a,{span:10,children:s.diagnostico})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Estado Civil:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.estado_civil]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Escolaridad:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.escolaridad]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Ciudad:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.ciudad]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Luga de Nacimiento:"}),Object(v.jsx)(j.a,{span:10,children:s.lugar_de_nacimiento})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Fuma:"}),Object(v.jsx)(j.a,{span:10,children:s.fuma})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"alcohol:"}),Object(v.jsx)(j.a,{span:10,children:s.alcohol})," "]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"drogas:"}),Object(v.jsx)(j.a,{span:10,children:s.drogas})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"cuales_drogas:"}),Object(v.jsx)(j.a,{span:10,children:s.cuales_drogas})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Diagnostico:"}),Object(v.jsx)(j.a,{span:10,children:s.peso})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Enfermedades familiares:"}),Object(v.jsx)(j.a,{span:10,children:s.enfermedades_familiares.map((function(e){return Object(v.jsx)("p",{children:e})}))})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Enfermedades Medicas:"}),Object(v.jsx)(j.a,{span:10,children:s.enfermedades_medicas.map((function(e){return Object(v.jsx)("p",{children:e})}))})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Tratamiento Actual:"}),Object(v.jsx)(j.a,{span:10,children:s.tratamiento_actual.map((function(e){return Object(v.jsx)("p",{children:toString})}))})," "]})]})]})]})};return Object(v.jsx)("div",{children:o?Object(v.jsx)(he,{}):Object(v.jsx)(d.a,{children:Object(v.jsx)(f,{})})})}var Za=t(862),Xa=Ve.a.TabPane,Ya=B.a.Option;function Ka(){var e,a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)(null),b=Object(H.a)(u,2),m=b[0],h=b[1],x=Object(n.useState)(!1),f=Object(H.a)(x,2),g=f[0],y=f[1],I=Object(n.useState)(null===(e=s[0])||void 0===e?void 0:e._id),S=Object(H.a)(I,2),k=S[0],w=S[1];Object(n.useEffect)((function(){_()}),[]),Object(n.useEffect)((function(){_()}),[g]);var _=function(){fetch(C+"mispacientes/".concat(F._id)).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){e.value=e.name})),console.log(e),r(e),e&&e.length>0&&h(e[0]._id)})).finally((function(){return l(!1)}))};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{justify:"start",children:[Object(v.jsxs)(j.a,{children:[Object(v.jsx)("h4",{children:"Pacientes"})," "]}),Object(v.jsxs)(j.a,{style:{marginLeft:12},children:[Object(v.jsx)(O.a,{style:{marginTop:4},onClick:function(){return y(!g)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(V.a,{})})," "]}),Object(v.jsx)(j.a,{style:{marginLeft:16},children:Object(v.jsx)("div",{className:"my-select-container",children:Object(v.jsx)(B.a,{style:{borderRadius:8},dropdownStyle:{borderRadius:8},showSearch:!0,placeholder:"Buscar paciente",optionFilterProp:"children",onChange:function(e){console.log("onchangeSearchInput",e),w(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},children:s.map((function(e){return Object(v.jsx)(Ya,{value:e._id,children:e.name})}))})})})]}),o?Object(v.jsx)(he,{}):g?Object(v.jsx)(Va,{setAdding:y}):Object(v.jsx)("div",{style:{border:"1px solid #D6D6D6",borderRadius:12,padding:12},children:Object(v.jsx)(Ve.a,{activeKey:k,tabPosition:"left",onTabClick:function(e,a){console.log("OnTABClick",e),h(e)},style:{marginTop:6},children:s.map((function(e){return Object(v.jsx)(Xa,{tab:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{}),e.name," ",Object(v.jsx)(Za.a,{style:{marginBottom:2}}),e.telefono]}),onClick:function(){h(e._id)},children:Object(v.jsx)(Ja,{paciente:e._id})},e._id)}))})}),Object(v.jsx)("br",{}),Object(v.jsx)(ga,{paciente:m})]})}var Qa=t(73),$a=t(210),Wa=t.n($a),et=t(148),at=B.a.Option;function tt(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(null),c=Object(H.a)(r,2),i=c[0],o=c[1],d=Object(n.useState)(""),j=Object(H.a)(d,2),u=j[0],m=j[1],h=Object(n.useState)([]),p=Object(H.a)(h,2),x=p[0],f=p[1],C=Object(n.useState)(null),I=Object(H.a)(C,2),S=I[0],k=I[1],_=Object(n.useRef)(null),T=function(e){w("mispacientes/".concat(e)).then((function(a){o(null),s(a),console.log("patients of ".concat(e),a)}))};Object(n.useEffect)((function(){"Medico"===F.rol?T(F._id):P("users/getMany",{ids:F.medicos_asignados}).then((function(e){f(e),console.log("medicosData: ",e)}))}),[]);var E=function(){var e=Object(y.a)(g.a.mark((function e(){var a,t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(et.b)(_.current,{width:288});case 2:a=e.sent,(t=document.createElement("a")).download="codigo-de-enlace.png",t.href=a,t.click();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.b.info("Espere mientras se copia el codigo..."),Object(et.a)(_.current,{width:288}).then(function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new ClipboardItem(Object(Qa.a)({},a.type,a))]);case 3:console.log("Image copied"),l.b.success("Codigo Copiado al Portapapeles"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"Generar enlace para encuesta de depresion"}),Object(v.jsx)("br",{}),Object(v.jsxs)(G.b,{children:["Administrador"===F.rol&&Object(v.jsx)(b.a.Item,{label:"Medico",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:function(e){k(e),T(e)},placeholder:"Selecciona un medico",children:x.map((function(e){return Object(v.jsx)(at,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:function(e){m(null),o(e)},placeholder:"Selecciona un paciente",children:t.map((function(e){return Object(v.jsx)(at,{value:e._id,children:e.name})}))})}),Object(v.jsx)(O.a,{onClick:function(){var e="Administrador"===F.rol?S:F._id,a="http://localhost:3000/depresion_public/".concat(e,"/").concat(i,"/").concat(Date.now());m(a)},disabled:!i,children:"Generar Enlace"})]}),Object(v.jsx)("br",{}),i&&u?Object(v.jsxs)("div",{children:[Object(v.jsxs)(G.b,{align:"center",children:[Object(v.jsx)("p",{style:{paddingTop:16,color:"#1890ff"},children:u}),Object(v.jsx)(O.a,{onClick:function(){navigator.clipboard.writeText(u),l.b.success("Enlace Copiado al Portapapeles!")},children:"Copiar Link"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{ref:_,style:{background:"white",padding:"16px"},children:[" ",Object(v.jsx)(Wa.a,{value:u})," "]}),Object(v.jsx)(O.a,{onClick:E,children:"Descargar Codigo"}),Object(v.jsx)(O.a,{onClick:N,style:{marginLeft:12},children:"Copiar Codigo"})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{style:{height:350}})]})}var nt=B.a.Option;function st(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(null),d=Object(H.a)(l,2);d[0],d[1];Object(n.useEffect)((function(){"Administrador"===F.rol?j():u(F._id)}),[]);var j=function(){P("users/getMany",{ids:F.medicos_asignados}).then((function(e){o(e),console.log("medicosData: ",e)}))},u=function(e){w("encuestas/depresion/medico/".concat(e)).then((function(e){console.log(e),s(e)}))},m=[{title:"Paciente",dataIndex:"usuario",key:"name",render:function(e,a){var t=a.usuario;return Object(v.jsx)(v.Fragment,{children:t.name})}},{title:"Puntaje",dataIndex:"score",key:"age"}];return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Resultados de encuestas de sintomatologia depresiva"}),Object(v.jsx)("br",{}),"Administrador"===F.rol&&Object(v.jsx)(b.a.Item,{label:"Medico",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:u,placeholder:"Selecciona un medico",children:i.map((function(e){return Object(v.jsx)(nt,{value:e._id,children:e.name},e._id)}))})}),Object(v.jsx)("br",{}),Object(v.jsx)(be.a,{dataSource:t,columns:m})]})}var rt=t(535),ct=t(540),it=B.a.Option;function ot(){var e=Object(n.useState)(null),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){"Administrador"===F.rol?l():d(F._id)}),[]);var l=function(){P("users/getMany",{ids:F.medicos_asignados}).then((function(e){o(e),console.log("medicosData: ",e)}))},d=function(e){w("encuestas/ketamina/medico/".concat(e)).then((function(e){console.log(e),s(e)}))},j=[{title:"Usuario",key:"usuario",dataIndex:"usuario",render:function(e,a){var t=a.usuario;return Object(v.jsx)(v.Fragment,{children:t.name})}},{title:"\xbfParece que las cosas se mueven en c\xe1mara lenta ?",key:"desrealizacion_0",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsx)(v.Fragment,{children:t.desrealizacion_0})}},{title:"\xbfTe parecen irreales las cosas, como si estuvieras en un sue\xf1o?",key:"desrealizacion_1",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsx)(v.Fragment,{children:t.desrealizacion_1})}},{title:"\xbfTe sientes desconectado de tu propio cuerpo?",key:"despersonalizacion_0",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsx)(v.Fragment,{children:t.despersonalizacion_0})}},{title:"Sientes que ha cambiado el sentido de tu propio cuerpo?: por ejemplo, tu cuerpo se siente inusualmente largo o inusualmente peque\xf1o?",key:"despersonalizacion_1",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsx)(v.Fragment,{children:t.despersonalizacion_1})}},{title:"Te has distra\xeddo, o has perdido el rastro de alguna manera de lo que esta pasando durante esta experiencia?",key:"amnesia_0",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsx)(v.Fragment,{children:t.amnesia_0})}},{title:"Tiene lagunas (vacios) en su memoria?",key:"amnesia_1",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsx)(v.Fragment,{children:t.amnesia_1})}},{title:"Gusto por la ketamina",key:"ketamina",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsxs)(G.b,{direction:"vertical",children:[Object(v.jsxs)(v.Fragment,{children:["Gusto por la ketamina: ",Object(v.jsx)(rt.a,{percent:10*t.ketamina})]}),Object(v.jsxs)(v.Fragment,{children:["Anhelo/Apetito de ketamina: ",Object(v.jsx)(rt.a,{percent:10*t.ketaminaiv})]}),Object(v.jsxs)(v.Fragment,{children:["Deseo de Ketamina IV: ",Object(v.jsx)(rt.a,{percent:10*t.ketaminaivb})]})]})}},{title:"Efectos",key:"Efectos",dataIndex:"respuestas_ketamina",render:function(e,a){var t=a.respuestas_ketamina;return Object(v.jsxs)("div",{children:[t.Aumento_de_la_Presi\u00f3n_Arterial&&Object(v.jsx)(ct.a,{color:"red",children:"Aumento de la presion arterial"}),t.Debilidad_o_Mareos_ligeros&&Object(v.jsx)(ct.a,{color:"red",children:"Debilidad o Mareos ligeros"}),t.Dolor_de_cabeza&&Object(v.jsx)(ct.a,{color:"red",children:"Dolor de cabeza"}),t.Mareos&&Object(v.jsx)(ct.a,{color:"red",children:"Mareos"}),t.Nauseas&&Object(v.jsx)(ct.a,{color:"red",children:"Nauseas"}),t.Sentimientos_de_Ansiedad&&Object(v.jsx)(ct.a,{color:"red",children:"Sentimientos de Ansiedad"})]})}}];return Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),Object(v.jsx)("h4",{children:"Resultados de listas de verificacion para efectos secundarios"}),Object(v.jsx)("br",{}),"Administrador"===F.rol&&Object(v.jsx)(b.a.Item,{label:"Medico",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:d,placeholder:"Selecciona un medico",children:i.map((function(e){return Object(v.jsx)(it,{value:e._id,children:e.name},e._id)}))})}),Object(v.jsx)("br",{}),Object(v.jsx)(be.a,{dataSource:t,columns:j,scroll:{x:1300}})]})}var lt=B.a.Option;function dt(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(null),c=Object(H.a)(r,2),i=c[0],o=c[1],d=Object(n.useState)(""),j=Object(H.a)(d,2),u=j[0],m=j[1],h=Object(n.useState)([]),p=Object(H.a)(h,2),x=p[0],f=p[1],C=Object(n.useState)(null),I=Object(H.a)(C,2),S=I[0],k=I[1],_=Object(n.useRef)(null),T=function(e){w("mispacientes/".concat(e)).then((function(a){o(null),s(a),console.log("patients of ".concat(e),a)}))};Object(n.useEffect)((function(){"Medico"===F.rol?T(F._id):P("users/getMany",{ids:F.medicos_asignados}).then((function(e){f(e),console.log("medicosData: ",e)}))}),[]);var E=function(){var e=Object(y.a)(g.a.mark((function e(){var a,t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(et.b)(_.current,{width:288});case 2:a=e.sent,(t=document.createElement("a")).download="codigo-de-enlace.png",t.href=a,t.click();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.b.info("Espere mientras se copia el codigo..."),Object(et.a)(_.current,{width:288}).then(function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new ClipboardItem(Object(Qa.a)({},a.type,a))]);case 3:console.log("Image copied"),l.b.success("Codigo Copiado al Portapapeles"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"Generar enlace para encuesta de Ketamina"}),Object(v.jsx)("br",{}),Object(v.jsxs)(G.b,{children:["Administrador"===F.rol&&Object(v.jsx)(b.a.Item,{label:"Medico",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:function(e){k(e),T(e)},placeholder:"Selecciona un medico",children:x.map((function(e){return Object(v.jsx)(lt,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:function(e){m(null),o(e)},placeholder:"Selecciona un paciente",value:i,children:t.map((function(e){return Object(v.jsx)(lt,{value:e._id,children:e.name})}))})}),Object(v.jsx)(O.a,{onClick:function(){var e="Administrador"===F.rol?S:F._id,a="http://localhost:3000/escalas_public/".concat(e,"/").concat(i,"/").concat(Date.now());m(a)},disabled:!i,children:"Generar Enlace"})]}),Object(v.jsx)("br",{}),i&&u?Object(v.jsxs)("div",{children:[Object(v.jsxs)(G.b,{align:"center",children:[Object(v.jsx)("p",{style:{paddingTop:16,color:"#1890ff"},children:u}),Object(v.jsx)(O.a,{onClick:function(){navigator.clipboard.writeText(u),l.b.success("Enlace Copiado al Portapapeles!")},children:"Copiar Link"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{ref:_,style:{background:"white",padding:"16px"},children:[" ",Object(v.jsx)(Wa.a,{value:u})," "]}),Object(v.jsx)(O.a,{onClick:E,children:"Descargar Codigo"}),Object(v.jsx)(O.a,{onClick:N,style:{marginLeft:12},children:"Copiar Codigo"})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{style:{height:350}})]})}var jt=[{n:1,tipo:"multiple",pregunta:"Indique en el diagrama las zonas donde siente dolor sombreando la parte afectada. Marque una cruz en la zona que m\xe1s le duele.",respuestas:["Delante Derecha","Delante Izquierda","Detras Derecha","Detras Izquierda"]},{n:2,tipo:"metrica",pregunta:"Por favor, eval\xfae su dolor rodeando con un c\xedrculo el n\xfamero que mejor describa la intensidad m\xe1xima de su dolor en la \xfaltima semana"},{n:3,tipo:"metrica",pregunta:"Por favor, eval\xfae su dolor rodeando con un c\xedrculo el n\xfamero que mejor describa la intensidad m\xednima de su dolor en la \xfaltima semana"},{n:4,tipo:"metrica",pregunta:"Por  favor,  eval\xfae  su  dolor  rodeando  con  un  c\xedrculo  el  n\xfamero  que  mejor  describa  la  intensidad  mediade  su  dolor."},{n:5,tipo:"metrica",pregunta:"Por favor, eval\xfae su dolor rodeando con un c\xedrculo el n\xfamero que mejor describa la intensidad de su dolor ahora mismo"},{n:6,tipo:"texto",pregunta:"\xbfQu\xe9 tipo de cosas le alivia el dolor (p. ej., caminar, estar de pie, levantar algo)?"},{n:7,tipo:"texto",pregunta:"\xbfQu\xe9 tipo de cosas empeora el dolor (p. ej., caminar, estar de pie, levantar algo)?"},{n:8,tipo:"texto",pregunta:"\xbfQu\xe9 tratamiento o medicaci\xf3n est\xe1 recibiendo para el dolor?"},{n:9,tipo:"metrica",pregunta:"En la \xfaltima semana, \xbfhasta qu\xe9 punto le han aliviado los tratamientos o medicaci\xf3n para el dolor? Por favor, rodee con un c\xedrculo el porcentaje que corresponda al grado de alivio que ha sentido"},{n:10,tipo:"seleccion",pregunta:"Si toma medicaci\xf3n, \xbfcu\xe1nto tarda en volver a sentir dolor?",respuestas:["La medicaci\xf3n para el dolor no me ayuda nada","1h","2h","3h","4h","De 5 a 12h","M\xe1s de 12h","No tomo medicaci\xf3n para el dolor"]},{n:11,tipo:"multiple",pregunta:"Marque con una cruz la casilla que considere adecuada para cada una de las respuestas.",respuestas:["A. Los efectos del tratamiento (p. ej., medicaci\xf3n, operaci\xf3n, radiaci\xf3n, pr\xf3tesis)","B. Mi enfermedad principal (la enfermedad que actualmente se est\xe1 tratando y evaluando)","C.  Una situaci\xf3n no relacionada con mi enfermedad principal (p. ej., artrosis)"]},{n:12,tipo:"multiple",pregunta:"Para cada una de las siguientes palabras, marque con una cruz \xabs\xed\xbb o \xabno\xbb si ese adjetivo se aplica a su dolor.",respuestas:["Dolorido/continuo","Palpitante","Irradiante","Punzante","Fatigoso (pesado)","Penetrante","Persistente","Mortificante (calambre)","Agudo","Sensible","Quemante","Agotador","Entumecido (adormecido)","Penoso","Insoportable"]},{n:13,tipo:"titulo",pregunta:"Rodee con un c\xedrculo el n\xfamero que mejor describa hasta qu\xe9 punto el dolor le ha afectado en los siguientes aspectos de la vida, durante la \xfaltima semana."},{n:"A13",tipo:"metrica",pregunta:"13 A. Actividades en general"},{n:"B13",tipo:"metrica",pregunta:"13 B. Estado de \xe1nimo"},{n:"C13",tipo:"metrica",pregunta:"13 C. Capacidad de caminar"},{n:"D13",tipo:"metrica",pregunta:"13 D. Trabajo habitual (incluye tanto el trabajo fuera de casa como las tareas dom\xe9sticas)"},{n:"E13",tipo:"metrica",pregunta:"13 E. Relaciones con otras personas"},{n:"F13",tipo:"metrica",pregunta:"13 F. Sue\xf1o"},{n:"G13",tipo:"metrica",pregunta:"13 G. Disfrutar de la vida"},{n:14,tipo:"seleccion",pregunta:"14. Prefiero tomar mi medicaci\xf3n para el dolor:",respuestas:["De forma regular","S\xf3lo cuando lo necesito","No tomo medicaci\xf3n para el dolor"]},{n:15,tipo:"seleccion",pregunta:"15. Tomo mi medicaci\xf3n para el dolor (en un per\xedodo de un d\xeda)",respuestas:["No todos los d\xedas","1 a 2 veces al d\xeda","3 a 4 veces al d\xeda","5 a 6 veces al d\xeda","M\xe1s de 6 veces al d\xeda"]},{n:16,tipo:"seleccion",pregunta:"16. \xbfCree que necesita una medicaci\xf3n m\xe1s fuerte para el dolor?",respuestas:["Si","No","No lo s\xe9"]},{n:17,tipo:"seleccion",pregunta:"17. \xbfCree que deber\xeda tomar m\xe1s dosis de la medicaci\xf3n para el dolor que las que le ha recetado el m\xe9dico?",respuestas:["Si","No","No lo s\xe9"]},{n:18,tipo:"seleccion",pregunta:"18. \xbfEst\xe1 preocupado/a porque toma demasiada medicaci\xf3n para el dolor?",respuestas:["Si","No","No lo s\xe9"]},{n:"B18",tipo:"texto",pregunta:"18 B.Si la respuesta es \xabs\xed\xbb, \xbfpor qu\xe9?"},{n:19,tipo:"seleccion",pregunta:"19. \xbfTiene problemas con los efectos secundarios de su medicaci\xf3n para el dolor?",respuestas:["Si","No"]},{n:"B19",tipo:"texto",pregunta:"19 B.\xbfQu\xe9 efectos secundarios?"},{n:20,tipo:"seleccion",pregunta:"20. \xbfCree que necesita recibir m\xe1s informaci\xf3n sobre su medicaci\xf3n para el dolor?",respuestas:["Si","No"]},{n:21,tipo:"multiple",pregunta:"21. Otros m\xe9todos que uso para aliviar mi dolor son (por favor, marque con una cruz todo lo que se le aplique):",respuestas:["Compresas calientes","Distracci\xf3n","Compresas fr\xedas","Biofeedback","T\xe9cnicas de relajaci\xf3n","Hipnosis"]},{n:"B21",tipo:"texto",pregunta:"21 B.Si su respuesta es otros, por favor, especifique"},{n:22,tipo:"texto",pregunta:"22. Otras medicaciones no recetadas por mi m\xe9dico y que tomo para el dolor son:"}],ut=t(832),bt=t(233);function mt(e){var a=Object(n.useState)(null),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)({}),u=Object(H.a)(j,2),p=u[0],x=u[1],f=Object(n.useState)({}),g=Object(H.a)(f,2),y=g[0],C=g[1];Object(n.useEffect)((function(){I()}),[]);var I=function(){w("getuser/"+e.idpaciente).then((function(e){x(e)})),w("getuser/"+e.idmedico).then((function(e){C(e)})),w("encuestas/uuid/".concat(e.token)).then((function(e){console.log(e),r("The survey does not exist"===e.message)})).then((function(){d(!1),console.log("Not exists: ",s)}))},S=function(e){console.log("checked = ",e)};return o?Object(v.jsx)("div",{style:{paddingTop:180},children:Object(v.jsx)("div",{style:{margin:"auto",width:"40%",textAlign:"center"},children:Object(v.jsx)("h3",{children:"Cargando"})})}):s?Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Encuesta de Dolor"}),Object(v.jsx)("br",{}),Object(v.jsxs)("h5",{children:["Medico: ",y.name]}),Object(v.jsxs)("h5",{children:["Paciente: ",p.name]}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:24},wrapperCol:{span:24},initialValues:{remember:!0},onFinish:function(a){var t={usuario:e.idpaciente,medico:e.idmedico,respuestas_dolor:a,tipo:"dolor",uuid:e.token};console.log("Body:",t),P("encuestas/add",t).then((function(e){console.log("add enc resp",e),l.b.success(e.message)})).then((function(){return I()}))},onFinishFailed:function(e){console.log("Failed:",e),e.errorFields.map((function(e){l.b.error("Conteste la pregunta "+e.name)}))},autoComplete:"off",children:[jt.map((function(e){var a;switch(e.tipo){case"metrica":a=Object(v.jsx)(ut.a,{defaultValue:0,min:0,max:10});break;case"multiple":a=Object(v.jsx)(h.a.Group,{options:e.respuestas,defaultValue:["Apple"],onChange:S});break;case"seleccion":a=Object(v.jsx)(bt.a.Group,{children:e.respuestas.map((function(e,a){return Object(v.jsx)(bt.a,{value:a,children:e})}))});break;default:a=Object(v.jsx)(m.a,{})}return"titulo"!==e.tipo?Object(v.jsx)(b.a.Item,{label:e.n+". "+e.pregunta,name:e.n,rules:[{required:!0,message:"Conteste correctamente"}],children:a},e.n):Object(v.jsx)("h5",{children:"".concat(e.n,".  ").concat(e.pregunta)})})),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]}):Object(v.jsx)("div",{style:{paddingTop:180},children:Object(v.jsxs)("div",{style:{margin:"auto",width:"40%",textAlign:"center"},children:[Object(v.jsx)("h3",{children:"Gracias por contestar la encuesta"}),Object(v.jsx)("img",{width:256,src:R,alt:"recreamedLogo",style:{margin:"auto"}})]})})}var ht=B.a.Option;function Ot(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(null),c=Object(H.a)(r,2),i=c[0],o=c[1],d=Object(n.useState)(""),j=Object(H.a)(d,2),u=j[0],m=j[1],h=Object(n.useState)([]),p=Object(H.a)(h,2),x=p[0],f=p[1],C=Object(n.useState)(null),I=Object(H.a)(C,2),S=I[0],k=I[1],_=Object(n.useRef)(null),T=function(e){w("mispacientes/".concat(e)).then((function(a){o(null),s(a),console.log("patients of ".concat(e),a)}))};Object(n.useEffect)((function(){"Medico"===F.rol?T(F._id):P("users/getMany",{ids:F.medicos_asignados}).then((function(e){f(e),console.log("medicosData: ",e)}))}),[]);var E=function(){var e=Object(y.a)(g.a.mark((function e(){var a,t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(et.b)(_.current,{width:288});case 2:a=e.sent,(t=document.createElement("a")).download="codigo-de-enlace.png",t.href=a,t.click();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.b.info("Espere mientras se copia el codigo..."),Object(et.a)(_.current,{width:288}).then(function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.write([new ClipboardItem(Object(Qa.a)({},a.type,a))]);case 3:console.log("Image copied"),l.b.success("Codigo Copiado al Portapapeles"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"Generar enlace para encuesta de dolor"}),Object(v.jsx)("br",{}),Object(v.jsxs)(G.b,{children:["Administrador"===F.rol&&Object(v.jsx)(b.a.Item,{label:"Medico",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:function(e){k(e),T(e)},placeholder:"Selecciona un medico",children:x.map((function(e){return Object(v.jsx)(ht,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:function(e){m(null),o(e)},placeholder:"Selecciona un paciente",children:t.map((function(e){return Object(v.jsx)(ht,{value:e._id,children:e.name})}))})}),Object(v.jsx)(O.a,{onClick:function(){var e="Administrador"===F.rol?S:F._id,a="http://localhost:3000/dolor_public/".concat(e,"/").concat(i,"/").concat(Date.now());m(a)},disabled:!i,children:"Generar Enlace"})]}),Object(v.jsx)("br",{}),i&&u?Object(v.jsxs)("div",{children:[Object(v.jsxs)(G.b,{align:"center",children:[Object(v.jsx)("p",{style:{paddingTop:16,color:"#1890ff"},children:u}),Object(v.jsx)(O.a,{onClick:function(){navigator.clipboard.writeText(u),l.b.success("Enlace Copiado al Portapapeles!")},children:"Copiar Link"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{ref:_,style:{background:"white",padding:"16px"},children:[" ",Object(v.jsx)(Wa.a,{value:u})," "]}),Object(v.jsx)(O.a,{onClick:E,children:"Descargar Codigo"}),Object(v.jsx)(O.a,{onClick:N,style:{marginLeft:12},children:"Copiar Codigo"})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{style:{height:350}})]})}var pt=B.a.Option;function xt(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(null),d=Object(H.a)(l,2);d[0],d[1];Object(n.useEffect)((function(){"Administrador"===F.rol?j():u(F._id)}),[]);var j=function(){P("users/getMany",{ids:F.medicos_asignados}).then((function(e){o(e),console.log("medicosData: ",e)}))},u=function(e){w("encuestas/dolor/medico/".concat(e)).then((function(e){console.log(e),s(e)}))},m=[{title:"Usuario",dataIndex:"usuario",key:"usuario",render:function(e,a){var t=a.usuario;return Object(v.jsx)("p",{children:t.name})}},{title:"Pretgunta 1",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[1]})}},{title:"Pretgunta 2",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[2]})}},{title:"Pretgunta 3",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[3]})}},{title:"Pretgunta 4",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[4]})}},{title:"Pretgunta 5",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[5]})}},{title:"Pretgunta 6",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[6]})}},{title:"Pretgunta 7",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[7]})}},{title:"Pretgunta 8",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[8]})}},{title:"Pretgunta 9",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[9]})}},{title:"Pretgunta 10",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[10]})}},{title:"Pretgunta 11",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[11]})}},{title:"Pretgunta 12",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[12]})}},{title:"Pretgunta 13",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[13]})}},{title:"Pretgunta 14",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[14]})}},{title:"Pretgunta 15",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[15]})}},{title:"Pretgunta 16",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[16]})}},{title:"Pretgunta 17",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[17]})}},{title:"Pretgunta 18",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[18]})}},{title:"Pretgunta 19",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[19]})}},{title:"Pretgunta 20",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[20]})}},{title:"Pretgunta 21",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[21]})}},{title:"Pretgunta 22",dataIndex:"respuestas_dolor",key:"usuario",render:function(e,a){var t=a.respuestas_dolor;return Object(v.jsx)("p",{children:t[22]})}},{title:"Action",key:"action",render:function(e,a){return Object(v.jsxs)(G.b,{size:"middle",children:[Object(v.jsxs)("a",{children:["Invite ",a.name]}),Object(v.jsx)("a",{children:"Delete"})]})}}];return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Resultados de encuestas de dolor"}),"Administrador"===F.rol&&Object(v.jsx)(b.a.Item,{label:"Medico",name:"usuario",rules:[{required:!0,message:"Selecciona el paciente"}],style:{alignItems:"center",paddingTop:20},children:Object(v.jsx)(B.a,{style:{width:260},onChange:u,placeholder:"Selecciona un medico",children:i.map((function(e){return Object(v.jsx)(pt,{value:e._id,children:e.name},e._id)}))})}),Object(v.jsx)(be.a,{columns:m,dataSource:t,scroll:{x:"200vw"}})]})}var ft=Ve.a.TabPane,gt=function(e){console.log(e)};function yt(){return Object(v.jsx)("div",{children:Object(v.jsxs)(Ve.a,{defaultActiveKey:"1",onChange:gt,tabPosition:"left",children:[Object(v.jsx)(ft,{tab:"Ketamina",children:Object(v.jsx)(dt,{})},"1"),Object(v.jsx)(ft,{tab:"Resultados Ketamina",children:Object(v.jsx)(ot,{})},"2"),Object(v.jsx)(ft,{tab:"Depresion",children:Object(v.jsx)(tt,{})},"3"),Object(v.jsx)(ft,{tab:"Resultados Depresion",children:Object(v.jsx)(st,{})},"4"),Object(v.jsx)(ft,{tab:"Dolor",children:Object(v.jsx)(Ot,{})},"5"),Object(v.jsx)(ft,{tab:"Resultados Dolor",children:Object(v.jsx)(xt,{})},"6")]})})}var vt=[{title:"Paciente",dataIndex:"Paciente",key:"Paciente",render:function(e){return Object(v.jsx)("a",{children:e})}},{title:"Pago",dataIndex:"Pago",key:"Pago"},{title:"Forma de pago",key:"FormaDePago",dataIndex:"FormaDePago",render:function(e,a){var t=a.FormaDePago;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){var a="efectivo"===e?"geekblue":"green";return"loser"===e&&(a="volcano"),Object(v.jsx)(ct.a,{color:a,children:e.toUpperCase()},e)}))})}},{title:"Estado",key:"Estado",dataIndex:"Estado",render:function(e,a){var t=a.Estado;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){var a="pagado"===e?"geekblue":"green";return"sin pagar"===e&&(a="volcano"),Object(v.jsx)(ct.a,{color:a,children:e.toUpperCase()},e)}))})}},{title:"Cita",key:"Cita",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)("a",{href:"#",children:"Ir a la cita"})})}}],Ct=[{key:"1",Paciente:"Jorge Suarez",Pago:32,FormaDePago:["efectivo"],Estado:["pagado"]},{key:"2",Paciente:"Jorge Suarez",Pago:42,FormaDePago:["tarjeta"],Estado:["por liberar"]},{key:"3",Paciente:"Ignacio Lopez",Pago:32,FormaDePago:["efectivo"],Estado:["pagado"]},{key:"4",Paciente:"Jorge Suarez",Pago:32,FormaDePago:["tarjeta"],Estado:["sin pagar"]}];function It(){return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)(be.a,{columns:vt,dataSource:Ct}),Object(v.jsx)("div",{style:{height:200}})]})}function St(){return console.log("DoctorApp",F.name),Object(v.jsx)(Q.a,{bg:"light",expand:"lg",children:Object(v.jsxs)($.a,{children:[Object(v.jsxs)(Q.a.Brand,{href:"#home",style:{fontFamily:"Arial",color:"#515a6e"},children:[Object(v.jsx)("img",{src:Ra,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo",style:{marginRight:6}}),"Bienvenido ",F.name]}),Object(v.jsx)(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(Q.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(W.a,{className:"me-auto",children:[Object(v.jsx)(W.a.Link,{href:"/",children:"Inicio"}),Object(v.jsx)(W.a.Link,{href:"/pacientes",children:"Pacientes"}),Object(v.jsx)(W.a.Link,{href:"/citas",children:"Citas"}),Object(v.jsx)(W.a.Link,{href:"/escalas",children:"Escalas"}),Object(v.jsx)(W.a.Link,{href:"/balances",children:"Ingresos"}),Object(v.jsx)(W.a.Link,{href:"/perfil",children:"Mi Perfil"})]})}),Object(v.jsx)(Q.a.Collapse,{className:"justify-content-end",children:Object(v.jsx)(O.a,{onClick:k,children:"Cerrar Sesion"})})]})})}function kt(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(St,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/pacientesdash",children:Object(v.jsx)(Fe,{})}),Object(v.jsx)(o.a,{path:"/pacientes",children:Object(v.jsx)(Ka,{})}),Object(v.jsx)(o.a,{path:"/citas",children:Object(v.jsx)(Be,{})}),Object(v.jsx)(o.a,{path:"/expedientes",children:Object(v.jsx)(ga,{})}),Object(v.jsx)(o.a,{path:"/perfil",children:Object(v.jsx)(Ta,{})}),Object(v.jsx)(o.a,{path:"/notas",children:Object(v.jsx)(Ea,{})}),Object(v.jsx)(o.a,{path:"/historial",children:Object(v.jsx)(Ha,{})}),Object(v.jsx)(o.a,{path:"/balances",children:Object(v.jsx)(It,{})}),Object(v.jsx)(o.a,{path:"/escalas",children:Object(v.jsx)(yt,{})}),Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(Aa,{})})]}),Object(v.jsx)(A,{})]})}var Ft=B.a.Option,wt=["Michoacan","Morelos","Guerrero"];function _t(){var e=b.a.useForm(),a=Object(H.a)(e,1)[0],t=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(Ft,{value:"+52",children:"+52"})})}),n=Object(v.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(v.jsxs)(B.a,{style:{width:70},children:[Object(v.jsx)(Ft,{value:"USD",children:"$"}),Object(v.jsx)(Ft,{value:"CNY",children:"\xa5"})]})});return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Registrar Paciente"}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:a,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Paciente",e.password=e.telefono,e.universidad="",e.certificacion="",e.cedula="",e.horarios=[],e.medicos_asignados=[F._id],delete e.prefix,console.log(e),fetch(I+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(v.jsx)(m.a,{addonBefore:t,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:wt.map((function(e){return Object(v.jsx)(Ft,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{addonAfter:n,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}function Tt(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!0),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)("tabla"),d=Object(H.a)(l,2);d[0],d[1];Object(n.useEffect)((function(){j()}),[]);var j=function(){fetch(C+"mispacientes/".concat(F._id)).then((function(e){return e.json()})).then((function(e){console.log(e),s(e)})).finally((function(){return o(!1)}))},u=[{title:"Nombre",dataIndex:"name",key:"name",render:function(e){return Object(v.jsx)("a",{href:"detalles",children:e})}},{title:"Medico",dataIndex:"id_medicoasignado",key:"id_medicoasignado"},{title:"Municipio",dataIndex:"municipio",key:"municipio"},{title:"Calle",dataIndex:"calle",key:"calle"},{title:"N Exterior",dataIndex:"numexterior",key:"numexterior"},{title:"Telefono",dataIndex:"telefono",key:"telefono"}];return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Pacientes"}),i?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:t,columns:u})]})}var Et=B.a.Option;function Nt(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){d(),j()}),[]);var d=function(){fetch(C+"mispacientes/".concat(F._id)).then((function(e){return e.json()})).then((function(e){console.log("Pacientes: ",e),s(e)}))},j=function(){fetch(C+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)}))};function u(e){console.log("selected ".concat(e))}function m(e){console.log("search:",e)}return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:" Asignar pacientes a otro m\xe9dico "}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){var a=t.find((function(a){return a._id===e.id_usuario})).medicos_asignados;a.push(e.medico);var n={medicos_asignados:a};fetch(C+"users/updateMedicos/".concat(e.id_usuario),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Selecciona Usuario"}],children:Object(v.jsx)(B.a,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:u,onSearch:m,children:t.map((function(e){return Object(v.jsx)(Et,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Medico",name:"medico",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(B.a,{showSearch:!0,placeholder:"Select a person",optionFilterProp:"children",onChange:u,onSearch:m,children:i.map((function(e){return Object(v.jsx)(Et,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})]})}function qt(){return Object(v.jsx)("div",{children:"DetallesPaciente"})}var Pt=se.a.Header,Dt=se.a.Content,At=se.a.Footer,Rt=se.a.Sider,Mt=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(Rt,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(p.a,{}),children:[Object(v.jsx)("span",{children:"Pacientes"}),Object(v.jsx)(i.b,{to:"/pacientes"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ce.a,{}),children:[Object(v.jsx)("span",{children:"Registrar Paciente"}),Object(v.jsx)(i.b,{to:"/registrar"})]},"2"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ie.a,{}),children:[Object(v.jsx)("span",{children:"Re-asignar Paciente"}),Object(v.jsx)(i.b,{to:"/mover"})]},"3"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ie.a,{}),children:[Object(v.jsx)("span",{children:"Detalles"}),Object(v.jsx)(i.b,{to:"/detalles"})]},"4")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(Pt,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(Dt,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar",component:_t}),Object(v.jsx)(o.a,{path:"/pacientes",component:Tt}),Object(v.jsx)(o.a,{path:"/detalles",component:qt}),Object(v.jsx)(o.a,{path:"/mover",component:Nt})]}),Object(v.jsx)(At,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),t}(n.Component),Lt=Mt,zt=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(Lt,{})})})}}]),t}(n.Component),Ht=zt,Bt=B.a.Option;function Gt(){var e,a,t=Object(n.useState)(!1),s=Object(H.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(H.a)(i,2),j=o[0],u=o[1],h=Object(n.useState)(!0),x=Object(H.a)(h,2),f=(x[0],x[1]),g=Object(n.useState)({}),y=Object(H.a)(g,2),C=y[0],I=y[1],S=Object(n.useState)(!1),k=Object(H.a)(S,2),_=k[0],E=k[1],N=Object(n.useState)([]),q=Object(H.a)(N,2),D=q[0],A=q[1],R=Object(n.useState)(!1),M=Object(H.a)(R,2),L=(M[0],M[1]);Object(n.useEffect)((function(){console.log("Yo : ",F),w("mispacientes/".concat(F._id)).then((function(e){A(e)})),z()}),[]);var z=function(){w("citas/medico/".concat(F._id)).then((function(e){console.log("GetCitas: ",e),u(e),f(!1)}))},U=function(){c(!1)},V=function(){E(!1)};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)("h4",{style:{marginRight:20},children:"CALENDARIO DE CITAS"}),Object(v.jsx)(O.a,{type:"primary",onClick:function(){c(!0)},children:"Nueva Cita"})]}),Object(v.jsx)(Ne.a,{dateCellRender:function(e){var a=e.format();return a=a.substring(0,10),Object(v.jsx)("ul",{className:"events",children:j.map((function(e){return e.fecha_cita=e.fecha_hora.substring(0,10),e.hora_cita=e.fecha_hora.substring(11,16),e.fecha_cita===a?Object(v.jsx)("li",{style:{listStyleType:"none"},children:Object(v.jsx)(Ee.a,{status:"success",text:e.usuario.name,onClick:function(){I(e),E(!0)}})},e._id):Object(v.jsx)(v.Fragment,{})}))})},monthCellRender:function(e){var a=function(e){if(8===e.month())return 1394}(e);return a?Object(v.jsxs)("div",{className:"notes-month",children:[Object(v.jsx)("section",{children:a}),Object(v.jsx)("span",{children:"Backlog number"})]}):null}}),Object(v.jsx)(we.a,{title:"Nueva Cita",visible:r,onOk:function(){c(!1)},onCancel:U,destroyOnClose:!0,footer:[Object(v.jsx)(O.a,{onClick:U,children:"Cancelar"}),Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"nueva_cita_medic",children:"Guardar"})],children:Object(v.jsxs)(b.a,{name:"nueva_cita_medic",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){e.medico=F._id,e.sucursal=F.horarios[0].sucursal,console.log("ready to send: ",e),P("citas/add",e).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error),z(),c(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",initialValues:{isOnline:!1},children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Selecciona Usuario"}],children:Object(v.jsx)(B.a,{onChange:function(e){},children:D.map((function(e){return Object(v.jsx)(Bt,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Fecha y Hora",name:"fecha_hora",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(v.jsx)(_e.a,{onChange:function(e,a){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",a)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora",format:"YYYY-MM-DD HH:mm:ss",showTime:{defaultValue:ze()("00:00:00","HH:mm:ss"),format:"HH:mm"}})}),Object(v.jsx)(b.a.Item,{label:"VideoLlada",name:"isOnline",children:Object(v.jsx)(qe.a,{onChange:function(e){console.log("switch to ".concat(e)),L(e)}})}),Object(v.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})})]})}),Object(v.jsx)(we.a,{title:"Detalles de la cita",visible:_,onOk:V,onCancel:function(){E(!1)},destroyOnClose:!0,footer:[Object(v.jsx)(Te.a,{title:"Esta seguro de que quiere borrar esta cita?",onConfirm:function(e){T("citas/remove/"+C._id).then((function(e){E(!1),z()}))},onCancel:function(e){console.log(e)},okText:"Si",cancelText:"No",children:Object(v.jsx)(O.a,{danger:!0,children:"Borrar Cita"})}),Object(v.jsx)(O.a,{type:"primary",onClick:V,children:"Aceptar"})],children:C?Object(v.jsxs)(G.b,{direction:"vertical",children:[Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(p.a,{})," ",null===(e=C.usuario)||void 0===e?void 0:e.name]}),Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Pe.a,{})," ",C.fecha_cita," ",Object(v.jsx)(De.a,{style:{marginBottom:6}})," ",C.hora_cita]}),Object(v.jsxs)(G.b,{align:"baseline",children:[" ",Object(v.jsx)(Ae.a,{})," ",null===(a=C.sucursal)||void 0===a?void 0:a.nombre]}),Object(v.jsxs)(G.b,{align:"baseline",children:[" ",Object(v.jsx)(Re.a,{})," ",C.comentarios]}),C.id_reunion&&Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Me.a,{style:{marginBottom:6}})," ID reunion: ",C.id_reunion.substring(26,37)," "]}),C.id_reunion&&Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Me.a,{style:{marginBottom:6}})," Contrase\xf1a : ",C.password_reunion," "]}),C.id_reunion&&Object(v.jsxs)(G.b,{align:"center",children:[" ",Object(v.jsx)(Me.a,{style:{marginBottom:6,color:"#1890ff"}})," ",Object(v.jsx)("a",{href:C.id_reunion,target:"_blank",rel:"noreferrer",children:" Ir a la cita "})," "]})]}):Object(v.jsx)("p",{children:"Sin cita seleccionada"})})]})}var Ut=B.a.Option;function Vt(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)([]),u=Object(H.a)(j,2),h=u[0],p=u[1],x=Object(n.useState)(!0),f=Object(H.a)(x,2),g=f[0],y=f[1],I=Object(n.useState)([]),S=Object(H.a)(I,2),k=S[0],F=S[1],_=Object(n.useState)(!0),T=Object(H.a)(_,2),E=T[0],N=T[1];Object(n.useEffect)((function(){w("historias").then((function(e){r(e),d(!1)})),w("notas").then((function(e){p(e),y(!1)})),w("recetas").then((function(e){F(e),N(!1)}))}),[]);return Object(v.jsx)(we.a,{title:"Nuevo expediente",visible:e.isModalVisible,onCancel:function(){e.setIsModalVisible(!1)},footer:[],children:Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:6},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(B.a,{defaultValue:e.pacientesData[0]&&e.pacientesData[0]._id,placeholder:"Selecciona un paciente",style:{width:200},children:e.pacientesData.map((function(e){return Object(v.jsx)(Ut,{value:e._id,children:e.name})}))})}),Object(v.jsx)(b.a.Item,{label:"Historia Clinica",name:"historia",rules:[{required:!0,message:"Ingresa RFC"}],children:o?Object(v.jsx)(m.a,{}):Object(v.jsx)(B.a,{placeholder:"Selecciona una Historia",style:{width:200},children:s.map((function(e){return Object(v.jsx)(Ut,{value:e._id,children:e.historial},e._id)}))})}),Object(v.jsx)(b.a.Item,{label:"Notas Medicas",name:"nota",rules:[{required:!0,message:"Ingresa RFC"}],children:g?Object(v.jsx)(m.a,{}):Object(v.jsx)(B.a,{placeholder:"Selecciona una Nota",style:{width:200},children:h.map((function(e){return Object(v.jsx)(Ut,{value:e._id,children:e.createdAt},e._id)}))})}),Object(v.jsx)(b.a.Item,{label:"Receta",name:"receta",rules:[{required:!0,message:"Ingresa RFC"}],children:E?Object(v.jsx)(m.a,{}):Object(v.jsx)(B.a,{placeholder:"Selecciona una Receta",style:{width:200},children:k.map((function(e){return Object(v.jsx)(Ut,{value:e._id,children:e.prescripcion},e._id)}))})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Cancelar"})})]})})}var Jt=B.a.Option,Zt=B.a.OptGroup,Xt=Qe.a.Dragger,Yt=m.a.TextArea,Kt=function(e){console.log("selected ".concat(e))},Qt=function(e){console.log("Failed:",e)};function $t(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1];Object(n.useEffect)((function(){console.log("Received nota on props: ",e.nota)}),[]);var c=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.id_medico=F._id,t.id_usuario=e.paciente,t.recetas=[],t.estudios=s,console.log("ready To send: ",t),a.next=7,fetch(C+"notas/add",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return l.b.success(e.message||e.error),e})).catch((function(e){return console.error("Error:",e)}));case 7:n=a.sent,e.prevExpNotas.push(n.id_nota),fetch(C+"expedientes/updateNotas/"+e.id_expediente,{method:"PUT",body:JSON.stringify({notas:e.prevExpNotas}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Exp:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),i={name:"file",multiple:!0,action:C+"notas/estudios/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),r([].concat(Object(Ke.a)(s),[e.file.response.file]))):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{style:{marginLeft:20},children:"Detalles de la nota"}),Object(v.jsx)("br",{}),Object(v.jsxs)(Xt,Object(L.a)(Object(L.a)({},i),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra los archivos de estudio aqu\xed, o da click para buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en pdf o imagen que sean menores a 2 MB para poder subirlos"})]})),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:14},initialValues:e.nota?e.nota:{remember:!0,estudios:[]},onFinish:e.nota?function(a){console.log("ready To send: ",a),fetch(C+"notas/update/"+e.nota._id,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){l.b.success(a.message||a.error),a.message&&"Nota Updated"===a.message&&e.setIsModalVisible(!1),console.log(a)})).catch((function(e){return console.error("Error:",e)}))}:c,onFinishFailed:Qt,autoComplete:"off",style:{marginTop:12},children:[Object(v.jsx)(b.a.Item,{label:"Edad",name:"edad",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Talla",name:"talla",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Peso",name:"peso",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"IMC",name:"imc",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Temperatura",name:"temperatura",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Presion Arterial",name:"presion_arterial",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Frecuencia Cariaca",name:"frecuencia_cardiaca",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Frecuencia respiratoria",name:"frecuencia_respiratoria",rules:[{required:!1,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Observaciones",name:"Observaciones",rules:[{required:!0,message:"Ingresa Observaciones"}],children:Object(v.jsx)(Yt,{rows:4})}),Object(v.jsx)(b.a.Item,{label:"Diagnostico",name:"diagnostico",rules:[{required:!0,message:"Selecciona Diagnostico"}],children:Object(v.jsx)(B.a,{showSearch:!0,style:{width:400},onChange:Kt,children:Object.keys(We).map((function(e){return Object(v.jsx)(Zt,{label:e,children:Object.keys(We[e]).map((function(a){return Object(v.jsx)(Jt,{value:a,children:We[e][a]})}))})}))})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsxs)(G.b,{children:[Object(v.jsx)(O.a,{onClick:function(){return e.setIsModalVisible(!1)},children:"Cancelar"}),Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})]})})]})]})}function Wt(e){var a=la.e.create({page:{flexDirection:"column",backgroundColor:"white"},block:{flexDirection:"row"},section:{margin:10,padding:10,flexGrow:1},image:{width:132},footText:{fontSize:14}});function t(){return Object(v.jsx)(la.a,{children:Object(v.jsxs)(la.d,{size:"A4",style:a.page,children:[Object(v.jsxs)(la.g,{style:a.block,children:[Object(v.jsx)(la.g,{style:a.section,children:Object(v.jsx)(la.b,{style:a.image,src:S+e.logoHospital})}),Object(v.jsxs)(la.g,{style:[a.section,{alignItems:"center"}],children:[Object(v.jsx)(la.f,{style:a.footText,children:F.name}),Object(v.jsxs)(la.f,{style:a.footText,children:["C\xe9dula Profesional: ",F.cedula]}),Object(v.jsxs)(la.f,{style:a.footText,children:["Certificaci\xf3n: ",F.certificacion]}),Object(v.jsx)(la.f,{style:a.footText,children:F.universidad})]})]}),Object(v.jsx)(la.g,{style:{margin:35,flexGrow:1},children:Object(v.jsx)(la.g,{style:a.section,children:Object(v.jsx)(la.f,{style:{lineHeight:2},children:e.receta.prescripcion})})}),Object(v.jsx)(la.g,{style:{color:"black",width:"90%",backgroundColor:"black",borderBottomColor:"#9bb4df",borderBottomWidth:1,marginHorizontal:20}}),Object(v.jsxs)(la.g,{style:a.block,children:[Object(v.jsx)(la.g,{style:a.section,children:Object(v.jsx)(la.f,{style:a.footText,children:"Pagina de la clinica, Correo@clinica.com"})}),Object(v.jsxs)(la.g,{style:a.section,children:[Object(v.jsx)(la.b,{style:a.image,src:R}),"F",Object(v.jsx)(la.f,{style:{fontSize:10,marginLeft:20},children:"www.recreamed.com"})]})]})]})})}return Object(v.jsx)("div",{children:Object(v.jsx)(la.c,{height:500,width:550,children:Object(v.jsx)(t,{})})})}var en=m.a.TextArea;function an(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],m=i[1],h=Object(n.useState)({}),p=Object(H.a)(h,2),x=p[0],f=p[1],I=Object(n.useState)(!1),S=Object(H.a)(I,2),k=S[0],w=S[1],_=Object(n.useState)(!1),T=Object(H.a)(_,2),E=T[0],q=T[1],D=Object(n.useState)(!1),A=Object(H.a)(D,2),R=A[0],M=A[1],L=function(){w(!1)},z=function(){q(!1)},B=Object(n.useState)(null),G=Object(H.a)(B,2),U=G[0],J=G[1],Z=Object(n.useState)(!1),X=Object(H.a)(Z,2),Y=X[0],K=X[1];Object(n.useEffect)((function(){e.recetas?Q():$()}),[e.recetas]);var Q=function(){P("recetas/getMany",{ids:e.recetas}).then((function(e){r(e),m(!1)}))},$=function(){r([]),m(!1)},W=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.id_nota=e.id_nota,console.log("new Receta:",t),console.log("new Recetas:",t),a.next=5,fetch(C+"recetas/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return console.log("Success:",e),l.b.info(e.message||e.error),"Receta creada correctamente"===e.message?w(!1):console.log(e.error),e})).catch((function(e){return console.error("Error:",e)}));case 5:n=a.sent,e.recetas.push(n.id_receta),console.log("New Recetas: ",e.recetas),fetch(C+"notas/updateRecetas/"+e.id_nota,{method:"PUT",body:JSON.stringify({recetas:e.recetas}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Update Exp:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),ee=function(e){console.log("Failed:",e)},ae=function(e){f(e),console.log(e),console.log("BeforeEdit"),q(!0)},te=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:M(!0),console.log(a);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),ne={width:"100%",height:"32",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};return Object(v.jsxs)("div",{children:[Object(v.jsx)(u.a,{bordered:!1,title:Object(v.jsxs)(v.Fragment,{children:["Recetas ",Object(v.jsx)(O.a,{onClick:function(){return w(!0)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(V.a,{})})]}),children:o?Object(v.jsx)("h5",{children:"Cargando Receta..."}):s.length>0?s.map((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(u.a.Grid,{style:ne,children:[Object(v.jsxs)("p",{style:{whiteSpace:"pre"},children:[" Prescripcion : ",e.prescripcion," "]}),Object(v.jsx)(O.a,{style:{marginLeft:8},onClick:function(){return ae(e)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})}),Object(v.jsx)(O.a,{style:{marginLeft:8},onClick:function(){return te(e)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(oa.a,{})})]},e._id)})})):Object(v.jsx)("h6",{children:"No hay una receta asignada"})}),Object(v.jsx)(we.a,{title:"Nueva Receta",visible:k,onOk:function(){w(!1)},onCancel:L,footer:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"create_receta_medic",children:"Guardar"}),Object(v.jsx)(O.a,{onClick:L,children:"Cancelar"})],children:Object(v.jsx)(b.a,{name:"create_receta_medic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:W,onFinishFailed:ee,autoComplete:"off",children:Object(v.jsx)(b.a.Item,{label:"Prescripcion",name:"prescripcion",rules:[{required:!0,message:"Ingresa la prescripcion"}],children:Object(v.jsx)(en,{rows:4})})})}),Object(v.jsxs)(we.a,{title:"Editar Receta",visible:E,onOk:function(){q(!1)},onCancel:z,destroyOnClose:!0,footer:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"update_receta_medic",children:"Actualizar"}),Object(v.jsx)(O.a,{onClick:z,children:"Cancelar"})],children:[Object.keys(x).map((function(e){return Object(v.jsxs)("p",{children:[e," : ",x[e]]})})),Object(v.jsx)(b.a,{name:"update_receta_medic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{prescripcion:x.prescripcion},onFinish:function(e){console.log("update",e),N("recetas/update/".concat(x._id),e).then((function(e){q(!1),Q()}))},onFinishFailed:ee,autoComplete:"off",children:Object(v.jsx)(b.a.Item,{label:"Prescripcion",name:"prescripcion",rules:[{required:!0,message:"Ingresa la prescripcion"}],children:Object(v.jsx)(en,{rows:4})})})]}),Object(v.jsx)(we.a,{title:"Imprimir Receta",visible:R,onOk:function(){M(!1),K(!1)},onCancel:function(){M(!1),K(!1)},width:600,children:Y?Object(v.jsx)(Wt,{receta:x,logoHospital:U}):Object(v.jsx)("div",{children:Object(v.jsx)(u.a,{title:"Selecciona un hospital",bordered:!1,children:F.horarios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:{width:"100%"},onClick:function(){J(e.sucursal.logo),K(!0)},children:Object(v.jsxs)(d.a,{align:"middle",children:[Object(v.jsx)(j.a,{span:6,offset:4,children:Object(v.jsx)("img",{width:64,src:"https://api.recreamed.com/images/"+e.sucursal.logo,alt:"Logo"})}),Object(v.jsxs)(j.a,{span:10,children:[e.sucursal.nombre," ",Object(v.jsx)("br",{})," ",e.horario]})]})})}))})})})]})}var tn=Ve.a.TabPane,nn=Je.a.Panel;function sn(e){var a=Object(n.useState)(""),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],l=i[1],b=Object(n.useState)("detalles"),m=Object(H.a)(b,2),h=(m[0],m[1],Object(n.useState)("")),p=Object(H.a)(h,2),x=p[0],f=p[1],I=Object(n.useState)(!1),S=Object(H.a)(I,2),k=S[0],F=S[1],_=Object(n.useState)(!1),T=Object(H.a)(_,2),E=T[0],N=T[1],q=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:N(!0);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){e.paciente?w("notas/".concat(e.paciente)).then((function(e){console.log("NotasData: ",e),r(e),l(!1)})):P()}),[e.paciente]);var P=function(){r([]),l(!1)},D={width:"25%",textAlign:"center",border:"1px solid rgba(255, 255, 255, 255)"},A={width:"50%",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};return Object(v.jsxs)("div",{children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h5",{children:"Notas "}),Object(v.jsx)(O.a,{onClick:function(){F(!0)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(V.a,{})})]}),Object(v.jsx)(Ve.a,{tabPosition:"top",onTabClick:function(e,a){console.log("OnTABClickNota",e)},children:o?Object(v.jsx)("h5",{children:"Cargando Nota..."}):s.map((function(e,a){var t=a+1;return Object(v.jsx)(tn,{tab:"Nota ".concat(t),style:{width:"100%"},children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:12,children:[Object(v.jsx)(Je.a,{bordered:!1,children:Object(v.jsx)(nn,{header:"Detalles de la nota",children:Object(v.jsxs)(u.a,{children:[Object(v.jsxs)(u.a.Grid,{style:D,children:["Edad: ",e.edad]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Talla: ",e.talla]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Peso: ",e.peso]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["IMC: ",e.imc]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Temperatura: ",e.temperatura]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Presion Arterial : ",e.presion_arterial]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Frecuencia Cardiaca : ",e.frecuencia_cardiaca]}),Object(v.jsxs)(u.a.Grid,{style:D,children:["Frecuencia Respiratoria : ",e.frecuencia_respiratoria]})]})},"1")}),Object(v.jsx)(u.a,{title:"Observaciones",children:e.Observaciones}),Object(v.jsx)(u.a,{title:"Diagnostico",children:e.diagnostico}),Object(v.jsx)(u.a,{title:"Estudios",children:e.estudios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:A,children:Object(v.jsxs)("a",{href:"".concat(C,"notas/estudios/download/").concat(e),children:[Object(v.jsx)(Ze.a,{}),e,Object(v.jsx)(Xe.a,{})," "]})})}))}),Object(v.jsx)(O.a,{style:{float:"right"},onClick:function(){q(e)},size:"small",type:"primary",icon:Object(v.jsx)(Ye.a,{}),children:"Editar Nota"})]}),Object(v.jsx)(j.a,{span:12,children:Object(v.jsx)(an,{recetas:e.recetas,id_nota:e._id})})]})},e._id)}))}),Object(v.jsx)(we.a,{title:"Nueva Nota",visible:k,onOk:function(){F(!1)},onCancel:function(){F(!1)},width:680,footer:[],destroyOnClose:!0,children:Object(v.jsx)($t,{id_expediente:e.id_expediente,paciente:e.paciente,prevExpNotas:e.prevExpNotas,setIsModalVisible:F})}),Object(v.jsx)(we.a,{title:"Editar Nota",visible:E,onOk:function(){N(!1)},onCancel:function(){N(!1)},width:680,footer:[],destroyOnClose:!0,children:Object(v.jsx)($t,{nota:x,setIsModalVisible:N})})]})}function rn(e){var a=m.a.TextArea,t=Object(n.useState)(""),s=Object(H.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)(!0),o=Object(H.a)(i,2),d=o[0],j=o[1],h=Object(n.useState)(!1),p=Object(H.a)(h,2),x=p[0],f=p[1];Object(n.useEffect)((function(){e.historia?y():g()}),[e.historia]);var g=function(){c([]),j(!1)},y=function(){w("historia/".concat(e.historia)).then((function(e){console.log("DetalleHistoria: ",e),c(e),j(!1)}))},I={width:"100%",textAlign:"center",justifyContent:"center",alignItems:"center",marginTop:15},S=function(e){f(!1),fetch(C+"historias/update/"+r[0]._id,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).finally((function(){y(),f(!1)})),console.log("New Historia",e)},k=function(){return Object(v.jsx)(u.a.Grid,{style:I,children:x?Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(b.a,{name:"historiaForm",initialValues:{historial:r[0].historial},onFinish:S,children:[Object(v.jsx)(b.a.Item,{name:"historial",children:Object(v.jsx)(a,{rows:4})}),Object(v.jsxs)(G.b,{children:[Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{onClick:function(){return f(!1)},children:"Cancelar"})})]})]})}):Object(v.jsx)("p",{style:{whiteSpace:"pre",textAlign:"left"},children:r[0].historial})})};return Object(v.jsx)("div",{children:Object(v.jsxs)(u.a,{bordered:!1,children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h5",{children:"Historia Clinica"}),Object(v.jsx)(O.a,{onClick:function(){return f(!0)},size:"small",disabled:!e.historia,type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),d?Object(v.jsx)("h5",{children:"Cargando Historia..."}):r.length>0?Object(v.jsx)(k,{}):Object(v.jsx)("h6",{children:"No hay una historia asignada"})]})})}function cn(e){var a=Object(n.useState)(!1),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)([]),i=Object(H.a)(c,2),o=i[0],l=i[1],d=Object(n.useState)(!0),j=Object(H.a)(d,2),u=(j[0],j[1]),b=Object(n.useState)(""),m=Object(H.a)(b,2),h=m[0],p=m[1],x=Object(n.useState)(""),f=Object(H.a)(x,2),g=f[0],y=f[1];Object(n.useEffect)((function(){I(e.paciente)}),[e.paciente]);var I=function(e){fetch(C+"expedientes/".concat(e)).then((function(e){return e.json()})).then((function(e){l(e),"undefined"!=typeof e?(y(e.notas),p(e.historia)):(y(null),p(null))})).finally((function(){return u(!1)}))};return Object(v.jsxs)("div",{id:"expedient-export",children:[Object(v.jsxs)(G.b,{size:"middle",children:[Object(v.jsx)("h4",{children:"Expediente "}),Object(v.jsx)("h3",{children:" "})]}),Object(v.jsx)(rn,{historia:h}),Object(v.jsx)(sn,{notas:g,id_expediente:o._id,prevExpNotas:o.notas,paciente:e.paciente}),Object(v.jsx)(Vt,{isModalVisible:s,setIsModalVisible:r,pacientesData:[]}),Object(v.jsx)(O.a,{onClick:function(){var e=document.getElementById("expedient-export");xa()(e).then((function(e){var a=e.toDataURL("image/png"),t=new fa.a;t.addImage(a,"JPEG",0,0),t.save("expediente.pdf")}))},children:"Exportar a pdf"})]})}var on=["key","name"],ln=B.a.Option,dn=Qe.a.Dragger,jn={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},un={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function bn(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)([]),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(H.a)(o,2),h=u[0],p=u[1],x=Object(n.useState)(e.perfil.avatar),f=Object(H.a)(x,2),g=f[0],y=f[1],I={name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),y(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};Object(n.useEffect)((function(){console.log("received Medic: ",e.perfil),w("sucursales").then((function(e){i(e),p(!1)}))}),[]);var S=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(ln,{value:"+52",children:"+52"})})});b.a.Item,B.a;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Editar perfil"}),Object(v.jsx)("br",{}),Object(v.jsxs)(dn,Object(L.a)(Object(L.a)({},I),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,Object(L.a)(Object(L.a)({},jn),{},{form:t,name:"register",onFinish:function(a){a.avatar=g,console.log("ready to send",a),fetch(C+"users/updateUser/"+e.perfil._id,{method:"PUt",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),a.message&&"Usuario actualizado correctamente"===a.message?e.setEditing(!1):l.b.error(a.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.perfil,scrollToFirstError:!0,children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:11,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un corrreo electronico valido"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa el numero de telefono correcto"}],children:Object(v.jsx)(m.a,{addonBefore:S,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(v.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,a){var t=a.add,n=a.remove;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){var a=e.key,t=e.name,s=Object(z.a)(e,on);return Object(v.jsxs)(G.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(v.jsx)(B.a,{placeholder:"Elije Sucursal",style:{width:"120px"},children:h?"Cargando":c.map((function(e){return Object(v.jsx)(ln,{value:e._id,children:e.nombre})}))})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(v.jsx)(m.a,{placeholder:"Horario"})})),Object(v.jsx)(U.a,{onClick:function(){return n(t)}})]},a)})),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(v.jsx)(V.a,{}),children:"Agregar Horario"})})]})}})})]}),Object(v.jsxs)(j.a,{span:12,children:[Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},un),{},{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}))]})]})}))]})}function mn(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=(c[0],c[1]),o=Object(n.useState)(!1),l=Object(H.a)(o,2),b=l[0],m=l[1],h=Object(n.useState)(!0),x=Object(H.a)(h,2),f=x[0],I=x[1],S=Object(n.useState)(!1),k=Object(H.a)(S,2);k[0],k[1];Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){w()}),[b]);var w=function(){fetch(C+"userByMail/"+F.email).then((function(e){return e.json()})).then((function(e){console.log(e),s(e[0]),I(!1)}))},_=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.horarios.forEach((function(e){e.sucursal=e.sucursal._id})),console.log("Horarios before edit profile: ",a.horarios),e.next=4,i(a);case 4:m(!0),console.log("Editar medico: ",a);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),T=function(){return Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:8,children:[t.avatar.length>8?Object(v.jsx)(ya.a,{style:{borderRadius:12},width:256,src:"https://api.recreamed.com/images/"+t.avatar}):Object(v.jsx)(Ca.a,{size:128,icon:Object(v.jsx)(p.a,{})}),Object(v.jsx)(va.a,{}),Object(v.jsxs)("p",{children:["Nombre: ",t.name," "]}),Object(v.jsxs)("p",{children:["Correo: ",t.email," "]}),Object(v.jsxs)("p",{children:["Telefono: ",t.telefono," "]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsx)(u.a,{title:"Horarios",style:{borderRadius:12},children:t.horarios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:{width:"100%"},children:Object(v.jsxs)(d.a,{align:"middle",children:[Object(v.jsx)(j.a,{span:6,offset:4,children:Object(v.jsx)("img",{width:64,src:"https://api.recreamed.com/images/"+e.sucursal.logo,alt:"Logo"})}),Object(v.jsxs)(j.a,{span:10,children:[e.sucursal.nombre," ",Object(v.jsx)("br",{})," ",e.horario]})]})})}))}),Object(v.jsx)("br",{}),Object(v.jsxs)("p",{children:["Universidad: ",t.universidad," "]}),Object(v.jsxs)("p",{children:["Certificacion: ",t.certificacion," "]}),Object(v.jsxs)("p",{children:["Cedula: ",t.cedula," "]})]})]})};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h3",{children:"PERFIL"}),Object(v.jsx)(O.a,{onClick:function(){return _(t)},type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),f?Object(v.jsx)(he,{}):Object(v.jsx)(u.a,{style:{borderRadius:16},children:b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(bn,{perfil:t,setEditing:m}),Object(v.jsx)(O.a,{shape:"circle",title:"Cancelar"}),Object(v.jsx)(O.a,{onClick:function(){return m(!1)},children:"Cancelar"})]}):Object(v.jsx)(T,{})})]})}function hn(){var e=Object(n.useState)({}),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!1),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)([]),b=Object(H.a)(l,2),m=b[0],h=b[1],p=Object(n.useState)(!0),x=Object(H.a)(p,2),f=x[0],g=x[1],y=Object(n.useState)(!1),I=Object(H.a)(y,2),S=I[0],k=I[1];Object(n.useEffect)((function(){F()}),[]);var F=function(){fetch(C+"notas").then((function(e){return e.json()})).then((function(e){console.log(e),h(e),g(!1)})).finally((function(){return g(!1)}))},w=[{title:"Paciente",dataIndex:"id_usuario",key:"Paciente",render:function(e){return Object(v.jsx)("a",{children:e})}},{title:"Edad",dataIndex:"edad",key:"Edad"},{title:"Talla",dataIndex:"talla",key:"Talla"},{title:"IMC",dataIndex:"imc",key:"imc"},{title:"Observaciones",key:"Observaciones",dataIndex:"observaciones"},{title:"Detalles",key:"action",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)(O.a,{onClick:function(){k(!0),s(a)},children:"Detalles"})})}}],_={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function T(){return Object(v.jsx)("div",{children:Object(v.jsx)(u.a,{bordered:!1,children:Object.keys(t).map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a.Grid,{style:_,children:e}),Object(v.jsx)(u.a.Grid,{style:_,size:"small",children:t[e]})]})}))})})}return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:Object(v.jsx)("h4",{children:"Notas de los pacientes del medico"})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(O.a,{type:"primary",onClick:function(){o(!0)},children:"Nueva Nota"})})]}),f?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{columns:w,dataSource:m}),Object(v.jsx)(we.a,{width:800,title:Object(v.jsx)("h4",{children:"Crear Nota"}),visible:i,onOk:function(){o(!1),F()},onCancel:function(){o(!1)}}),Object(v.jsx)(we.a,{width:800,title:Object(v.jsx)("h4",{children:"Detalles de la nota "}),visible:S,onOk:function(){k(!1)},onCancel:function(){k(!1)},children:Object(v.jsx)(T,{})})]})}t(810);var On=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).dataPie=[{type:"F01",value:9},{type:"F05",value:4},{type:"F09",value:7},{type:"F13",value:2},{type:"F16",value:12},{type:"F22",value:3}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:24},{mes:"Julio",consultas:17},{mes:"Agosto",consultas:22},{mes:"Septiembre",consultas:15},{mes:"Octubre",consultas:18}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"contenedor",children:[Object(v.jsxs)(d.a,{gutter:30,children:[Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE",borderRadius:12},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A",borderRadius:12},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2",borderRadius:12},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC",borderRadius:12},className:"cardsContenido"})})})]}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,style:{textAlign:"center"},children:Object(v.jsx)("h5",{style:{color:"#1F263C"},children:"Diagnosticos"})}),Object(v.jsx)(j.a,{xs:24,md:12,style:{textAlign:"center"},children:Object(v.jsx)("h5",{children:"Citas"})})]}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(v.jsx)(qa.a,Object(L.a)(Object(L.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C",borderRadius:12}}))}),Object(v.jsx)(j.a,{xs:24,md:12,children:Object(v.jsx)(Pa.a,Object(L.a)(Object(L.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px",borderRadius:12}}))})]})]})]})}}]),t}(n.Component),pn=On,xn=m.a.TextArea,fn=function(e){console.log("Success:",e)},gn=function(e){console.log("Failed:",e)};function yn(){return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Historial de los pacientes del medico"}),Object(v.jsx)("h4",{children:"Historial Clinico"}),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:6},wrapperCol:{span:12},initialValues:{remember:!0},onFinish:fn,onFinishFailed:gn,autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"comentarios",name:"id_paciente",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(xn,{rows:4})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]})}Qe.a.Dragger;var vn=B.a.Option,Cn=["Michoacan","Morelos","Guerrero"];function In(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)(e.paciente?e.paciente.avatar:"noimg.jpg"),r=Object(H.a)(s,2),c=r[0],i=r[1];function o(){return d.apply(this,arguments)}function d(){return(d=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"historias/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({historial:"Historia clinica al "+new Date})}).then((function(e){return e.json()})).then((function(e){return console.log("Story Created: ",e),e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var j=function(){var a=Object(y.a)(g.a.mark((function a(t){var n,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o();case 2:return n=a.sent,console.log("historia on Register: ",n),s={usuario:t,historia:n.id_historia,notas:[],recetas:[]},console.log("postBodyForExpedient: ",s),a.next=8,fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(s),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),l.b.success(a.message||a.error),a.message&&"Expediente creado correctamente"===a.message&&e.setAdding(!1)})).catch((function(e){return console.error("Error:",e)}));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),u=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.avatar=c,t.estatus="1",t.rol="Paciente",t.password=""+t.telefono,t.universidad="",t.certificacion="",t.cedula="",t.horarios=[],t.medicos_asignados=e.paciente?e.paciente.medicos_asignados:[F._id],t.responsable=e.paciente?e.paciente.responsable:{nombre:t.res_name,telefono:t.res_phone},delete t.prefix,delete t.res_name,delete t.res_phone,n=e.paciente?C+"users/updateUser/"+e.paciente._id:I+"register",console.log(t),console.log("url: ",n),a.next=18,fetch(n,{method:e.paciente?"PUT":"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Create User Response:",a),l.b.success(a.message||a.error),e.paciente?console.log("Editing, not creating patient"):j(a.user_id),"Usuario creado correctamente"===a.message?e.setAdding(!1):console.log(a),"Usuario actualizado correctamente"===a.message?e.setAdding(!1):console.log(a)})).catch((function(e){return console.error("Error:",e)}));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),h=(b.a.Item,B.a,b.a.Item,B.a,{name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),i(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))}});return Object(v.jsxs)("div",{style:{width:"100%"},children:[e.paciente?Object(v.jsx)("h4",{children:"Editar paciente"}):Object(v.jsx)("h4",{children:"Registrar Paciente"}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(v.jsx)(Qe.a,Object(L.a)(Object(L.a)({},h),{},{children:Object(v.jsx)(O.a,{type:"dashed",icon:Object(v.jsx)(Ba.a,{style:{fontSize:24,color:"#0d6efd"}}),style:{width:400,height:80},block:!0,children:"Selecciona la foto de perfil"})}))}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:u,onFinishFailed:function(e){console.log("Failed:",e)},initialValues:e.paciente,scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un correo electronico vaido!"},{required:!0,message:"Ingresa un correo electronico"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa tu numero de telefono"}],children:Object(v.jsx)(m.a,{style:{width:"100%"}})}),Object(v.jsx)(va.a,{children:"Responsable (opcional) "}),Object(v.jsx)(b.a.Item,{name:"res_name",label:"Nombre Responsable",children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"res_phone",label:"Telefono Responsable",children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(va.a,{}),Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!1,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!1,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!1,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!1,message:"Ingresa "}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:Cn.map((function(e){return Object(v.jsx)(vn,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"sexo",label:"sexo",rules:[{required:!0,message:"Selecciona una opcion"}],children:Object(v.jsxs)(B.a,{placeholder:"Elije el sexo",children:[Object(v.jsx)(vn,{value:"H",children:"H"}),Object(v.jsx)(vn,{value:"M",children:"M"}),Object(v.jsx)(vn,{value:"Otro",children:"Otro"})]})}),Object(v.jsx)(b.a.Item,{name:"edad",label:"Edad",rules:[{required:!0,message:"Ingresa edad"}],children:Object(v.jsx)(le.a,{min:1,max:120})}),Object(v.jsx)(b.a.Item,{name:"diagnostico",label:"Diagnostico",rules:[{required:!0,message:"Ingresa el diagnostico"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"peso",label:"Peso",rules:[{required:!0,message:"Ingresa el peso"}],children:Object(v.jsx)(le.a,{min:1,max:200})}),Object(v.jsx)(b.a.Item,{name:"talla",label:"Talla",rules:[{required:!0,message:"Ingresa la talla"}],children:Object(v.jsx)(le.a,{min:1,max:200})}),Object(v.jsx)(b.a.Item,{name:"ocupacion",label:"Ocupacion",rules:[{required:!0,message:"Ingresa ocupacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado_civil",label:"Estado Civil",rules:[{required:!0,message:"Ingresa estado civil"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"escolaridad",label:"Escolaridad",rules:[{required:!0,message:"Ingresa escolaridad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"lugar_de_nacimiento",label:"Lugar De Nacimiento",rules:[{required:!0,message:"Ingresa el lugar de nacimiento"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"ciudad",label:"Ciudad",rules:[{required:!0,message:"Ingresa ciudad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"fuma",label:"Fuma",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(qe.a,{defaultChecked:!1})}),Object(v.jsx)(b.a.Item,{name:"alcohol",label:"Alcohol",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(qe.a,{defaultChecked:!1})}),Object(v.jsx)(b.a.Item,{name:"drogas",label:"Drogas",rules:[{required:!0,message:"Selecciona una opcion"}],children:Object(v.jsxs)(B.a,{placeholder:"Elije una opcion",children:[Object(v.jsx)(vn,{value:"Antes",children:"Antes"}),Object(v.jsx)(vn,{value:"Ahora",children:"Ahora"}),Object(v.jsx)(vn,{value:"Nunca",children:"Nunca"})]})}),Object(v.jsx)(b.a.Item,{name:"cuales_drogas",label:"Cuales Drogas",rules:[{required:!1,message:"Selecciona una opcion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"enfermedades_familiares",label:"Enfermedades Familiares",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(b.a.List,{name:"enfermedades_familiares",children:function(e,a,t){var n=a.add,s=a.remove,r=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(v.jsxs)(b.a.Item,{label:"",required:!1,children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{noStyle:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingresa la enfermedad o elimina este campo"}],children:Object(v.jsx)(m.a,{placeholder:"Ingresa enfermedad",style:{width:e.length>1?"95%":"100%"}})})),e.length>1?Object(v.jsx)(U.a,{className:"dynamic-delete-button",onClick:function(){return s(a.name)}}):null]},a.key)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return n()},icon:Object(v.jsx)(V.a,{}),children:"Add field"}),Object(v.jsx)(b.a.ErrorList,{errors:r})]})]})}})}),Object(v.jsx)(b.a.Item,{name:"enfermedades_medicas",label:"Enfermedades Medicas",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(b.a.List,{name:"enfermedades_medicas",children:function(e,a,t){var n=a.add,s=a.remove,r=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(v.jsxs)(b.a.Item,{label:"",required:!1,children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{noStyle:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingresa la enfermedad o elimina este campo"}],children:Object(v.jsx)(m.a,{placeholder:"Ingresa enfermedad",style:{width:e.length>1?"95%":"100%"}})})),e.length>1?Object(v.jsx)(U.a,{className:"dynamic-delete-button",onClick:function(){return s(a.name)}}):null]},a.key)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return n()},icon:Object(v.jsx)(V.a,{}),children:"Add field"}),Object(v.jsx)(b.a.ErrorList,{errors:r})]})]})}})}),Object(v.jsx)(b.a.Item,{name:"tratamiento_actual",label:"Tratamiento actual",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(b.a.List,{name:"tratamiento_actual",children:function(e,a,t){var n=a.add,s=a.remove,r=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(v.jsxs)(b.a.Item,{label:"",required:!1,children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{noStyle:!0,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingresa la enfermedad o elimina este campo"}],children:Object(v.jsx)(m.a,{placeholder:"Ingresa enfermedad",style:{width:e.length>1?"95%":"100%"}})})),e.length>1?Object(v.jsx)(U.a,{className:"dynamic-delete-button",onClick:function(){return s(a.name)}}):null]},a.key)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return n()},icon:Object(v.jsx)(V.a,{}),children:"Add field"}),Object(v.jsx)(b.a.ErrorList,{errors:r})]})]})}})}),Object(v.jsx)(b.a.Item,{label:"*",children:Object(v.jsxs)(G.b,{children:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"}),Object(v.jsx)(O.a,{onClick:function(){return e.setAdding(!1)},children:"Cancelar"})]})})]})]})}function Sn(e){var a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],l=i[1],b=Object(n.useState)(!1),m=Object(H.a)(b,2),h=m[0],x=m[1];Object(n.useEffect)((function(){w("getuser/".concat(e.paciente)).then((function(e){console.log("DetallePac: ",e),r(e),l(!1)}))}),[e.paciente]);var f=function(){return h?Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(In,{setAdding:x,paciente:s})}):Object(v.jsxs)(u.a,{style:{width:"98%",borderRadius:12},bordered:!1,children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h5",{children:"Datos del Paciente"}),Object(v.jsx)(O.a,{onClick:function(){return x(!0)},size:"small",disabled:!e.paciente,type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsx)(d.a,{justify:"center",children:Object(v.jsx)(j.a,{span:12,children:s.avatar.length>9?Object(v.jsx)("img",{width:128,src:"https://api.recreamed.com/images/"+s.avatar,alt:"ProfilePic"}):Object(v.jsx)(Ca.a,{size:128,icon:Object(v.jsx)(p.a,{})})})}),Object(v.jsx)("br",{}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Nombre:"}),Object(v.jsx)(j.a,{span:10,children:s.name})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Correo:"}),Object(v.jsx)(j.a,{span:10,children:s.email})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Telefono:"}),Object(v.jsx)(j.a,{span:10,children:s.telefono})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Estado:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.estado]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Municipio:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.municipio]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Colonia:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.colonia]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Calle:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.calle]})]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"C.P.:"}),Object(v.jsx)(j.a,{span:10,children:s.codigopostal})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Sexo:"}),Object(v.jsx)(j.a,{span:10,children:s.sexo})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Edad:"}),Object(v.jsx)(j.a,{span:10,children:s.edad})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Peso:"}),Object(v.jsx)(j.a,{span:10,children:s.peso})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Talla:"}),Object(v.jsx)(j.a,{span:10,children:s.talla})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Ocupacion:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.ocupacion]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Diagnostico:"}),Object(v.jsx)(j.a,{span:10,children:s.diagnostico})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Estado Civil:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.estado_civil]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Escolaridad:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.escolaridad]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Ciudad:"}),Object(v.jsxs)(j.a,{span:10,children:[" ",s.ciudad]})]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Luga de Nacimiento:"}),Object(v.jsx)(j.a,{span:10,children:s.lugar_de_nacimiento})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"Fuma:"}),Object(v.jsx)(j.a,{span:10,children:s.fuma})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:"alcohol:"}),Object(v.jsx)(j.a,{span:10,children:s.alcohol})," "]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"drogas:"}),Object(v.jsx)(j.a,{span:10,children:s.drogas})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"cuales_drogas:"}),Object(v.jsx)(j.a,{span:10,children:s.cuales_drogas})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Diagnostico:"}),Object(v.jsx)(j.a,{span:10,children:s.peso})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Enfermedades familiares:"}),Object(v.jsx)(j.a,{span:10,children:s.enfermedades_familiares.map((function(e){return Object(v.jsx)("p",{children:e})}))})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Enfermedades Medicas:"}),Object(v.jsx)(j.a,{span:10,children:s.enfermedades_medicas.map((function(e){return Object(v.jsx)("p",{children:e})}))})," "]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:"Tratamiento Actual:"}),Object(v.jsx)(j.a,{span:10,children:s.tratamiento_actual.map((function(e){return Object(v.jsx)("p",{children:toString})}))})," "]})]})]})]})};return Object(v.jsx)("div",{children:o?Object(v.jsx)(he,{}):Object(v.jsx)(d.a,{children:Object(v.jsx)(f,{})})})}var kn=Ve.a.TabPane,Fn=B.a.Option;function wn(){var e,a=Object(n.useState)([]),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)(null),b=Object(H.a)(u,2),m=(b[0],b[1]),h=Object(n.useState)(!1),x=Object(H.a)(h,2),f=x[0],g=x[1],y=Object(n.useState)(null===(e=s[0])||void 0===e?void 0:e._id),I=Object(H.a)(y,2),S=I[0],k=I[1];Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){w()}),[f]);var w=function(){fetch(C+"mispacientes/".concat(F.medicos_asignados[0])).then((function(e){return e.json()})).then((function(e){e.forEach((function(e){e.value=e.name})),console.log(e),r(e),e&&e.length>0&&m(e[0]._id)})).finally((function(){return l(!1)}))};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{justify:"start",children:[Object(v.jsxs)(j.a,{children:[Object(v.jsx)("h4",{children:"Pacientes"})," "]}),Object(v.jsxs)(j.a,{style:{marginLeft:12},children:[Object(v.jsx)(O.a,{style:{marginTop:4},onClick:function(){return g(!f)},size:"small",type:"primary",shape:"circle",icon:Object(v.jsx)(V.a,{})})," "]}),Object(v.jsx)(j.a,{style:{marginLeft:16},children:Object(v.jsx)("div",{className:"my-select-container",children:Object(v.jsx)(B.a,{style:{borderRadius:8},dropdownStyle:{borderRadius:8},showSearch:!0,placeholder:"Buscar paciente",optionFilterProp:"children",onChange:function(e){console.log("onchangeSearchInput",e),k(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,a){return a.children.toLowerCase().includes(e.toLowerCase())},children:s.map((function(e){return Object(v.jsx)(Fn,{value:e._id,children:e.name})}))})})})]}),o?Object(v.jsx)(he,{}):f?Object(v.jsx)(In,{setAdding:g}):Object(v.jsx)("div",{style:{border:"1px solid #D6D6D6",borderRadius:12,padding:12},children:Object(v.jsx)(Ve.a,{activeKey:S,tabPosition:"left",onTabClick:function(e,a){console.log("OnTABClick",e),m(e)},style:{marginTop:6},children:s.map((function(e){return Object(v.jsx)(kn,{tab:Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(p.a,{}),e.name," ",Object(v.jsx)(Za.a,{style:{marginBottom:2}}),e.telefono]}),onClick:function(){m(e._id)},children:Object(v.jsx)(Sn,{paciente:e._id})},e._id)}))})}),Object(v.jsx)("br",{})]})}var _n=[{title:"Paciente",dataIndex:"Paciente",key:"Paciente",render:function(e){return Object(v.jsx)("a",{children:e})}},{title:"Pago",dataIndex:"Pago",key:"Pago"},{title:"Forma de pago",key:"FormaDePago",dataIndex:"FormaDePago",render:function(e,a){var t=a.FormaDePago;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){var a="efectivo"===e?"geekblue":"green";return"loser"===e&&(a="volcano"),Object(v.jsx)(ct.a,{color:a,children:e.toUpperCase()},e)}))})}},{title:"Estado",key:"Estado",dataIndex:"Estado",render:function(e,a){var t=a.Estado;return Object(v.jsx)(v.Fragment,{children:t.map((function(e){var a="pagado"===e?"geekblue":"green";return"sin pagar"===e&&(a="volcano"),Object(v.jsx)(ct.a,{color:a,children:e.toUpperCase()},e)}))})}},{title:"Cita",key:"Cita",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)("a",{href:"#",children:"Ir a la cita"})})}}],Tn=[{key:"1",Paciente:"Jorge Suarez",Pago:32,FormaDePago:["efectivo"],Estado:["pagado"]},{key:"2",Paciente:"Jorge Suarez",Pago:42,FormaDePago:["tarjeta"],Estado:["por liberar"]},{key:"3",Paciente:"Ignacio Lopez",Pago:32,FormaDePago:["efectivo"],Estado:["pagado"]},{key:"4",Paciente:"Jorge Suarez",Pago:32,FormaDePago:["tarjeta"],Estado:["sin pagar"]}];function En(){return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)(be.a,{columns:_n,dataSource:Tn}),Object(v.jsx)("div",{style:{height:200}})]})}function Nn(){return console.log("DoctorApp",F.name),Object(v.jsx)(Q.a,{bg:"light",expand:"lg",children:Object(v.jsxs)($.a,{children:[Object(v.jsxs)(Q.a.Brand,{href:"#home",style:{fontFamily:"Arial",color:"#515a6e"},children:[Object(v.jsx)("img",{src:Ra,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo",style:{marginRight:6}}),"Bienvenido ",F.name]}),Object(v.jsx)(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(Q.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(W.a,{className:"me-auto",children:[Object(v.jsx)(W.a.Link,{href:"/",children:"Inicio"}),Object(v.jsx)(W.a.Link,{href:"/pacientes",children:"Pacientes"}),Object(v.jsx)(W.a.Link,{href:"/citas",children:"Citas"}),Object(v.jsx)(W.a.Link,{href:"/escalas",children:"Escalas"}),Object(v.jsx)(W.a.Link,{href:"/balances",children:"Ingresos"}),Object(v.jsx)(W.a.Link,{href:"/perfil",children:"Mi Perfil"})]})}),Object(v.jsx)(Q.a.Collapse,{className:"justify-content-end",children:Object(v.jsx)(O.a,{onClick:k,children:"Cerrar Sesion"})})]})})}function qn(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(Nn,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/pacientesdash",children:Object(v.jsx)(Ht,{})}),Object(v.jsx)(o.a,{path:"/pacientes",children:Object(v.jsx)(wn,{})}),Object(v.jsx)(o.a,{path:"/citas",children:Object(v.jsx)(Gt,{})}),Object(v.jsx)(o.a,{path:"/expedientes",children:Object(v.jsx)(cn,{})}),Object(v.jsx)(o.a,{path:"/perfil",children:Object(v.jsx)(mn,{})}),Object(v.jsx)(o.a,{path:"/notas",children:Object(v.jsx)(hn,{})}),Object(v.jsx)(o.a,{path:"/historial",children:Object(v.jsx)(yn,{})}),Object(v.jsx)(o.a,{path:"/balances",children:Object(v.jsx)(En,{})}),Object(v.jsx)(o.a,{path:"/escalas",children:Object(v.jsx)(yt,{})}),Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(pn,{})})]}),Object(v.jsx)(A,{})]})}function Pn(){var e,a,t=Object(n.useState)(!1),s=Object(H.a)(t,2),r=s[0],c=s[1],i=Object(n.useState)([]),o=Object(H.a)(i,2),u=o[0],h=o[1],p=Object(n.useState)(!0),x=Object(H.a)(p,2),f=(x[0],x[1]),g=Object(n.useState)({}),y=Object(H.a)(g,2),I=y[0],S=y[1],k=Object(n.useState)(!1),w=Object(H.a)(k,2),_=w[0],T=w[1];Object(n.useEffect)((function(){E()}),[]);var E=function(){fetch(C+"citas/".concat(F._id)).then((function(e){return e.json()})).then((function(e){console.log(e),h(e)})).finally((function(){return f(!1)}))};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:Object(v.jsx)("h4",{children:"CALENDARIO DE CITAS"})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(O.a,{type:"primary",onClick:function(){c(!0)},children:"Nueva Cita"})})]}),Object(v.jsx)(Ne.a,{dateCellRender:function(e){var a=e.format();return a=a.substring(0,10),Object(v.jsx)("ul",{className:"events",children:u.map((function(e){return e.fecha_hora=e.fecha_hora.substring(0,10),e.fecha_hora===a?Object(v.jsx)("li",{style:{listStyleType:"none"},children:Object(v.jsx)(Ee.a,{status:"success",text:e.medico.name,onClick:function(){S(e),T(!0)}})},e._id):Object(v.jsx)(v.Fragment,{})}))})},monthCellRender:function(e){var a=function(e){if(8===e.month())return 1394}(e);return a?Object(v.jsxs)("div",{className:"notes-month",children:[Object(v.jsx)("section",{children:a}),Object(v.jsx)("span",{children:"Backlog number"})]}):null}}),Object(v.jsx)(we.a,{title:"Nuevo expediente",visible:r,onOk:function(){c(!1)},onCancel:function(){c(!1)},children:Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){e.medico=F._id,console.log("Valores:",e),fetch(C+"citas/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){E(),c(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Sucursal",name:"sucursal",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Fecha y Hora",name:"fecha_hora",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(v.jsx)(_e.a,{showTime:!0,onChange:function(e,a){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",a)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora"})}),Object(v.jsx)(b.a.Item,{label:"Enlace a la reunion",name:"id_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Contrase\xf1a",name:"password_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{placeholder:"Opcional"})}),Object(v.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})}),Object(v.jsx)(we.a,{title:"Detalles de la cita",visible:_,onOk:function(){T(!1)},onCancel:function(){T(!1)},children:I?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:["Paciente: ",null===(e=I.usuario)||void 0===e?void 0:e.name]}),Object(v.jsxs)("p",{children:["fecha y hora: ",I.fecha_hora]}),Object(v.jsxs)("p",{children:["Sucursal: ",null===(a=I.sucursal)||void 0===a?void 0:a.nombre]}),Object(v.jsxs)("p",{children:["Comentarios: ",I.comentarios]}),Object(v.jsxs)("p",{children:[" ",Object(v.jsx)("a",{href:I.id_reunion,target:"_blank",rel:"noreferrer",children:"ir a la cita "})," "]})]}):Object(v.jsx)("p",{children:"Sin cita seleccionada"})})]})}function Dn(){var e=Object(n.useState)(!1),a=Object(H.a)(e,2),t=a[0],s=a[1],r=function(){s(!0)},c=[{title:"ID Receta",dataIndex:"key",key:"_id",render:function(e){return Object(v.jsx)("a",{children:e})}},{title:"ID Nota",dataIndex:"id_nota",key:"id_nota"},{title:"Prescripcion",dataIndex:"prescripcion",key:"prescripcion"},{title:"Detalles",key:"action",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)(O.a,{onClick:r,children:"Detalles"})})}}];return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Mis Recetas"}),Object(v.jsx)(be.a,{columns:c,dataSource:[{key:"62570ab89a6437369f835be7",id_nota:"62570a9a9a6437369f835be5",prescripcion:"Paracetamol cada 8 horas",createdAt:"2022-04-13T17:39:04.541Z",updatedAt:"2022-04-13T17:39:04.541Z",__v:0},{key:"62570ab89a6437369f835be8",id_nota:"62570a9a9a6437369f835be5",prescripcion:"Ibuprofeno",createdAt:"2022-04-13T17:39:04.541Z",updatedAt:"2022-04-13T17:39:04.541Z",__v:0}]}),Object(v.jsxs)(we.a,{title:"Basic Modal",visible:t,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:[Object(v.jsx)("p",{children:' _id": "62570ab89a6437369f835be7",'}),Object(v.jsx)("p",{children:' id_nota": "62570a9a9a6437369f835be5",'}),Object(v.jsx)("p",{children:' prescripcion": "Paracetamol cada 8 horas",'}),Object(v.jsx)("p",{children:' createdAt": "2022-04-13T17:39:04.541Z",'}),Object(v.jsx)("p",{children:' updatedAt": "2022-04-13T17:39:04.541Z",'}),Object(v.jsx)("p",{children:' __v": 0'})]})]})}var An=["key","name"],Rn=B.a.Option,Mn=Qe.a.Dragger,Ln={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},zn={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function Hn(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)([]),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(H.a)(o,2),h=u[0],p=u[1],x=Object(n.useState)(e.perfil.avatar),f=Object(H.a)(x,2),g=f[0],y=f[1],I={name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),y(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};Object(n.useEffect)((function(){console.log("received Medic: ",e.perfil),w("sucursales").then((function(e){i(e),p(!1)}))}),[]);var S=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(Rn,{value:"+52",children:"+52"})})});b.a.Item,B.a;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Editar perfil"}),Object(v.jsx)("br",{}),Object(v.jsxs)(Mn,Object(L.a)(Object(L.a)({},I),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,Object(L.a)(Object(L.a)({},Ln),{},{form:t,name:"register",onFinish:function(a){a.avatar=g,console.log("ready to send",a),fetch(C+"users/updateUser/"+e.perfil._id,{method:"PUt",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),a.message&&"Usuario actualizado correctamente"===a.message?e.setEditing(!1):l.b.error(a.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.perfil,scrollToFirstError:!0,children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:11,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un corrreo electronico valido"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa el numero de telefono correcto"}],children:Object(v.jsx)(m.a,{addonBefore:S,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(v.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,a){var t=a.add,n=a.remove;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){var a=e.key,t=e.name,s=Object(z.a)(e,An);return Object(v.jsxs)(G.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(v.jsx)(B.a,{placeholder:"Elije Sucursal",style:{width:"120px"},children:h?"Cargando":c.map((function(e){return Object(v.jsx)(Rn,{value:e._id,children:e.nombre})}))})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(v.jsx)(m.a,{placeholder:"Horario"})})),Object(v.jsx)(U.a,{onClick:function(){return n(t)}})]},a)})),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(v.jsx)(V.a,{}),children:"Agregar Horario"})})]})}})})]}),Object(v.jsxs)(j.a,{span:12,children:[Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},zn),{},{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}))]})]})}))]})}function Bn(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!0),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)([]),b=Object(H.a)(l,2),m=(b[0],b[1]),h=Object(n.useState)(!1),x=Object(H.a)(h,2),f=x[0],I=x[1];Object(n.useEffect)((function(){S()}),[]);var S=function(){fetch(C+"userByMail/"+F.email).then((function(e){return e.json()})).then((function(e){console.log(e),s(e[0]),o(!1)}))},k=function(){return Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:Object(v.jsxs)(u.a,{children:[t.avatar.length>8?Object(v.jsx)("img",{width:256,src:"https://api.recreamed.com/images/"+t.avatar,alt:"ProfilePic"}):Object(v.jsx)(Ca.a,{size:128,icon:Object(v.jsx)(p.a,{})}),Object(v.jsx)("br",{}),Object(v.jsxs)("p",{children:["Nombre: ",t.name," "]}),Object(v.jsxs)("p",{children:["Correo: ",t.email," "]}),Object(v.jsxs)("p",{children:["Telefono: ",t.telefono," "]})]})}),Object(v.jsx)(j.a,{span:8,children:Object(v.jsxs)(u.a,{children:[Object(v.jsxs)("p",{children:["Estado: ",t.estado]}),Object(v.jsxs)("p",{children:["Municipio: ",t.municipio]}),Object(v.jsxs)("p",{children:["Colonia: ",t.colonia]}),Object(v.jsxs)("p",{children:["Calle: ",t.calle]}),Object(v.jsxs)("p",{children:["Codigo Postal:",t.codigopostal," "]})]})})]})},w=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.horarios.forEach((function(e){e.sucursal=e.sucursal._id})),console.log("Horarios before edit profile: ",a.horarios),e.next=4,m(a);case 4:I(!0),console.log("Editar medico: ",a);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h3",{children:"PERFIL"}),Object(v.jsx)(O.a,{onClick:function(){return w(t)},type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),i?Object(v.jsx)(he,{}):Object(v.jsx)(u.a,{children:f?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Hn,{perfil:t,setEditing:I}),Object(v.jsx)(O.a,{shape:"circle",title:"Cancelar"}),Object(v.jsx)(O.a,{onClick:function(){return I(!1)},children:"Cancelar"})]}):Object(v.jsx)(k,{})})]})}t(811);var Gn=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"contenedor",children:[Object(v.jsxs)(d.a,{gutter:30,children:[Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(v.jsx)(qa.a,Object(L.a)(Object(L.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(v.jsx)(j.a,{xs:24,md:12,children:Object(v.jsx)(Pa.a,Object(L.a)(Object(L.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),t}(n.Component),Un=Gn,Vn=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function Jn(){return Object(v.jsx)(Q.a,{bg:"light",expand:"lg",children:Object(v.jsxs)($.a,{children:[Object(v.jsxs)(Q.a.Brand,{href:"#home",children:[Object(v.jsx)("img",{src:Ra,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido ",F.name]}),Object(v.jsx)(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(Q.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(W.a,{className:"me-auto",children:[Object(v.jsx)(W.a.Link,{href:"/citas",children:"Mis Citas"}),Object(v.jsx)(W.a.Link,{href:"/recetas",children:"Mis Recetas"}),Object(v.jsx)(W.a.Link,{href:"/perfil",children:"Mi Perfil"})]})}),Object(v.jsx)(Q.a.Collapse,{className:"justify-content-end",children:Object(v.jsx)(O.a,{onClick:Vn,children:"Cerrar Sesion"})})]})})}function Zn(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(Jn,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/citas",children:Object(v.jsx)(Pn,{})}),Object(v.jsx)(o.a,{path:"/recetas",children:Object(v.jsx)(Dn,{})}),Object(v.jsx)(o.a,{path:"/perfil",children:Object(v.jsx)(Bn,{})}),Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(Un,{})})]})]})}function Xn(){var e=Object(n.useState)(!1),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1],u=Object(n.useState)(!0),h=Object(H.a)(u,2),p=h[0],x=h[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(C+"citas").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)})).finally((function(){return x(!1)}))},g=[{title:"Fecha y Hora",dataIndex:"fecha_hora",key:"fecha_hora",render:function(e){return Object(v.jsx)("a",{children:e})}},{title:"Paciente",dataIndex:"id_usuario",key:"id_usuario"},{title:"Sucursal",dataIndex:"id_sucursal",key:"v"},{title:"Comentarios",dataIndex:"comentarios",key:"comentarios"},{title:"Detalles",key:"detalles",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)(O.a,{children:"Enlace"})})}}];return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:8,children:Object(v.jsx)("h4",{children:"Citas de todos los pacientes"})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(O.a,{type:"primary",onClick:function(){s(!0)},children:"Nueva Cita"})})]}),p?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{columns:g,dataSource:i}),Object(v.jsx)(we.a,{title:"Nuevo expediente",visible:t,onOk:function(){s(!1)},onCancel:function(){s(!1)},children:Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:8},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){f(),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Sucursal",name:"id_sucursal",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Fecha y Hora",name:"id_nota",rules:[{required:!0,message:"Selecciona Fecha y Hora"}],children:Object(v.jsx)(_e.a,{showTime:!0,onChange:function(e,a){console.log("Selected Time: ",e),console.log("Formatted Selected Time: ",a)},onOk:function(e){console.log("onOk: ",e)},placeholder:"Selecciona Fecha y Hora"})}),Object(v.jsx)(b.a.Item,{label:"Enlace a la reunion",name:"id_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Contrase\xf1a",name:"password_reunion",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{placeholder:"Opcional"})}),Object(v.jsx)(b.a.Item,{label:"Comentarios",name:"comentarios",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})})]})}var Yn=B.a.Option,Kn=["Michoacan","Morelos","Guerrero"];function Qn(){var e=b.a.useForm(),a=Object(H.a)(e,1)[0],t=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(Yn,{value:"+52",children:"+52"})})}),n=Object(v.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(v.jsxs)(B.a,{style:{width:70},children:[Object(v.jsx)(Yn,{value:"USD",children:"$"}),Object(v.jsx)(Yn,{value:"CNY",children:"\xa5"})]})});return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Registrar Usuario"}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:a,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Paciente",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(I+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(v.jsx)(m.a,{addonBefore:t,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"id_sucursal",label:"Id Sucursal",rules:[{required:!0,message:"Ingresa el ID de la sucursal"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"id_medicoasignado",label:"Id Medico Asignado",rules:[{required:!0,message:"Ingresa el ID del medico "}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!0,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:Kn.map((function(e){return Object(v.jsx)(Yn,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{addonAfter:n,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!0,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!0,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}function $n(){var e=Object(n.useState)({}),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!1),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(!0),d=Object(H.a)(l,2),j=d[0],b=d[1],m=Object(n.useState)([]),h=Object(H.a)(m,2),p=h[0],x=h[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(C+"users_by_rol/Paciente").then((function(e){return e.json()})).then((function(e){console.log(e),x(e)})).finally((function(){return b(!1)}))},g=[{title:"Nombre",dataIndex:"name",key:"name"},{title:"Rol",dataIndex:"rol",key:"rol"},{title:"Sucursal",dataIndex:"id_sucursal",key:"address"},{title:"Telefono",dataIndex:"telefono",key:"tel"},{title:"Detalles",key:"detalles",render:function(e,a){return Object(v.jsx)(G.b,{size:"middle",children:Object(v.jsx)(O.a,{onClick:function(){s(a),o(!0)},children:"Detalles"})})}}],y={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function I(){return Object(v.jsx)("div",{children:Object(v.jsx)(u.a,{bordered:!1,children:Object.keys(t).map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a.Grid,{style:y,children:e}),Object(v.jsx)(u.a.Grid,{style:y,size:"small",children:t[e]})]})}))})})}return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Usuarios"}),j?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:p,columns:g}),Object(v.jsx)(we.a,{width:800,title:Object(v.jsx)("h4",{children:"Detalles de la nota "}),visible:i,onOk:function(){o(!1)},onCancel:function(){o(!1)},children:Object(v.jsx)(I,{})})]})}var Wn=se.a.Header,es=se.a.Content,as=se.a.Footer,ts=se.a.Sider,ns=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(ts,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(p.a,{}),children:[Object(v.jsx)("span",{children:"Usuarios"}),Object(v.jsx)(i.b,{to:"/usuarios"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ce.a,{}),children:[Object(v.jsx)("span",{children:"Registrar Usuario"}),Object(v.jsx)(i.b,{to:"/registrar_usuario"})]},"2")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(Wn,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(es,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar_usuario",component:Qn}),Object(v.jsx)(o.a,{path:"/usuarios",component:$n})]}),Object(v.jsx)(as,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),t}(n.Component),ss=ns,rs=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(ss,{})})})}}]),t}(n.Component),cs=rs,is=t(863),os=B.a.Option,ls=["Michoacan","Morelos","Guerrero"];function ds(){var e=b.a.useForm(),a=Object(H.a)(e,1)[0],t=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(os,{value:"+52",children:"+52"})})}),n=Object(v.jsx)(b.a.Item,{name:"suffix",noStyle:!0,children:Object(v.jsxs)(B.a,{style:{width:70},children:[Object(v.jsx)(os,{value:"USD",children:"$"}),Object(v.jsx)(os,{value:"CNY",children:"\xa5"})]})});return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Registrar doctor"}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:a,name:"register",onFinish:function(e){e.avatar="https://",e.estatus="1",e.rol="Medico",delete e.confirm,delete e.prefix,delete e.agreement,console.log(e),fetch(I+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:{residence:["zhejiang","hangzhou","xihu"],prefix:"52"},scrollToFirstError:!0,children:[Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(v.jsx)(m.a,{addonBefore:t,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"id_sucursal",label:"Id Sucursal",rules:[{required:!0,message:"Ingresa el ID de la sucursal"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"id_medicoasignado",label:"Id Medico Asignado",rules:[{required:!0,message:"Ingresa el ID del medico "}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!0,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!0,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!0,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!0,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Please input your colobnia!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:ls.map((function(e){return Object(v.jsx)(os,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!0,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{addonAfter:n,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!0,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!0,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})})]})]})}function js(){var e=Object(n.useState)(!0),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1];Object(n.useEffect)((function(){l()}),[]);var l=function(){fetch(C+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(function(e){var a=[];return e.forEach((function(e){F.medicos_asignados.includes(e._id)&&a.push(e)})),a}(e))})).finally((function(){return s(!1)}))};return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Doctores"}),t?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:i,columns:[{title:"Rol",dataIndex:"rol",key:"rol",onFilter:function(e,a){return"Medico"===a.rol}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Correo",dataIndex:"email",key:"email"},{title:"Telefono",dataIndex:"telefono",key:"telefono"}]})]})}var us=se.a.Header,bs=se.a.Content,ms=se.a.Footer,hs=se.a.Sider,Os=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(hs,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(is.a,{}),children:[Object(v.jsx)("span",{children:"M\xe9dicos"}),Object(v.jsx)(i.b,{to:"/doctores"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ce.a,{}),children:[Object(v.jsx)("span",{children:"Registrar M\xe9dico"}),Object(v.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(us,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(bs,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar",component:ds}),Object(v.jsx)(o.a,{path:"/doctores",component:js})]}),Object(v.jsx)(ms,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),t}(n.Component),ps=Os,xs=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(ps,{})})})}}]),t}(n.Component),fs=xs;function gs(){return Object(v.jsx)("div",{children:"Perfil de la sucursal"})}var ys=["key","name"],vs=B.a.Option,Cs=Qe.a.Dragger,Is={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},Ss={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function ks(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)([]),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(H.a)(o,2),h=u[0],p=u[1],x=Object(n.useState)(e.perfil.avatar),f=Object(H.a)(x,2),g=f[0],y=f[1],I={name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),y(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};Object(n.useEffect)((function(){console.log("received Medic: ",e.perfil),w("sucursales").then((function(e){i(e),p(!1)}))}),[]);var S=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(vs,{value:"+52",children:"+52"})})});b.a.Item,B.a;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Editar perfil"}),Object(v.jsx)("br",{}),Object(v.jsxs)(Cs,Object(L.a)(Object(L.a)({},I),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,Object(L.a)(Object(L.a)({},Is),{},{form:t,name:"register",onFinish:function(a){a.avatar=g,console.log("ready to send",a),fetch(C+"users/updateUser/"+e.perfil._id,{method:"PUt",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),a.message&&"Usuario actualizado correctamente"===a.message?e.setEditing(!1):l.b.error(a.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.perfil,scrollToFirstError:!0,children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:11,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un corrreo electronico valido"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa el numero de telefono correcto"}],children:Object(v.jsx)(m.a,{addonBefore:S,style:{width:"100%"}})}),Object(v.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(v.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,a){var t=a.add,n=a.remove;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){var a=e.key,t=e.name,s=Object(z.a)(e,ys);return Object(v.jsxs)(G.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(v.jsx)(B.a,{placeholder:"Elije Sucursal",style:{width:"120px"},children:h?"Cargando":c.map((function(e){return Object(v.jsx)(vs,{value:e._id,children:e.nombre})}))})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"horario"],rules:[{required:!0,message:"Missing last name"}],children:Object(v.jsx)(m.a,{placeholder:"Horario"})})),Object(v.jsx)(U.a,{onClick:function(){return n(t)}})]},a)})),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(v.jsx)(V.a,{}),children:"Agregar Horario"})})]})}})})]}),Object(v.jsxs)(j.a,{span:12,children:[Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},Ss),{},{children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})}))]})]})}))]})}function Fs(){var e=Object(n.useState)([]),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=(c[0],c[1]),o=Object(n.useState)(!1),l=Object(H.a)(o,2),b=l[0],m=l[1],h=Object(n.useState)(!0),x=Object(H.a)(h,2),f=x[0],I=x[1],S=Object(n.useState)(!1),k=Object(H.a)(S,2);k[0],k[1];Object(n.useEffect)((function(){w()}),[]),Object(n.useEffect)((function(){w()}),[b]);var w=function(){fetch(C+"userByMail/"+F.email).then((function(e){return e.json()})).then((function(e){console.log(e),s(e[0]),I(!1)}))},_=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.horarios.forEach((function(e){e.sucursal=e.sucursal._id})),console.log("Horarios before edit profile: ",a.horarios),e.next=4,i(a);case 4:m(!0),console.log("Editar medico: ",a);case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),T=function(){return Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:8,children:[t.avatar.length>8?Object(v.jsx)(ya.a,{style:{borderRadius:12},width:256,src:"https://api.recreamed.com/images/"+t.avatar}):Object(v.jsx)(Ca.a,{size:128,icon:Object(v.jsx)(p.a,{}),style:{marginLeft:80}}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("p",{children:["Nombre: ",t.name," "]}),Object(v.jsxs)("p",{children:["Correo: ",t.email," "]}),Object(v.jsxs)("p",{children:["Telefono: ",t.telefono," "]})]}),Object(v.jsxs)(j.a,{span:8,children:[Object(v.jsx)(u.a,{title:"Horarios",style:{borderRadius:12},children:t.horarios.map((function(e){return Object(v.jsx)(u.a.Grid,{style:{width:"100%"},children:Object(v.jsxs)(d.a,{align:"middle",children:[Object(v.jsx)(j.a,{span:6,offset:4,children:Object(v.jsx)("img",{width:64,src:"https://api.recreamed.com/images/"+e.sucursal.logo,alt:"Logo"})}),Object(v.jsxs)(j.a,{span:10,children:[e.sucursal.nombre," ",Object(v.jsx)("br",{})," ",e.horario]})]})})}))}),Object(v.jsx)("br",{})]})]})};return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(G.b,{children:[Object(v.jsx)("h3",{children:"PERFIL"}),Object(v.jsx)(O.a,{onClick:function(){return _(t)},type:"primary",shape:"circle",icon:Object(v.jsx)(ia.a,{})})]}),f?Object(v.jsx)(he,{}):Object(v.jsx)(u.a,{style:{borderRadius:16},children:b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ks,{perfil:t,setEditing:m}),Object(v.jsx)(O.a,{shape:"circle",title:"Cancelar"}),Object(v.jsx)(O.a,{onClick:function(){return m(!1)},children:"Cancelar"})]}):Object(v.jsx)(T,{})})]})}t(812);var ws=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"contenedor",children:[Object(v.jsxs)(d.a,{gutter:30,children:[Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(v.jsx)(qa.a,Object(L.a)(Object(L.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(v.jsx)(j.a,{xs:24,md:12,children:Object(v.jsx)(Pa.a,Object(L.a)(Object(L.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),t}(n.Component),_s=ws,Ts=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function Es(){return Object(v.jsx)(Q.a,{bg:"light",expand:"lg",children:Object(v.jsxs)($.a,{children:[Object(v.jsxs)(Q.a.Brand,{href:"#home",children:[Object(v.jsx)("img",{src:Ra,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido Administrador"]}),Object(v.jsx)(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(Q.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(W.a,{className:"me-auto",children:[Object(v.jsx)(W.a.Link,{href:"/",children:"Inicio"}),Object(v.jsx)(W.a.Link,{href:"pacientes",children:"Pacientes"}),Object(v.jsx)(W.a.Link,{href:"doctores",children:"Medicos"}),Object(v.jsx)(W.a.Link,{href:"citas",children:"Citas"}),Object(v.jsx)(W.a.Link,{href:"escalas",children:"Escalas"}),Object(v.jsx)(W.a.Link,{href:"administrador",children:"Perfil"})]})}),Object(v.jsx)(Q.a.Collapse,{className:"justify-content-end",children:Object(v.jsx)(O.a,{onClick:Ts,children:"Cerrar Sesion"})})]})})}function Ns(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(Es,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/sucursal",children:Object(v.jsx)(gs,{})}),Object(v.jsx)(o.a,{path:"/doctores",children:Object(v.jsx)(fs,{})}),Object(v.jsx)(o.a,{path:"/citas",children:Object(v.jsx)(Xn,{})}),Object(v.jsx)(o.a,{path:"/pacientes",children:Object(v.jsx)(cs,{})}),Object(v.jsx)(o.a,{path:"/escalas",children:Object(v.jsx)(yt,{})}),Object(v.jsx)(o.a,{path:"/administrador",children:Object(v.jsx)(Fs,{})}),Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(_s,{})})]})]})}var qs=B.a.Option,Ps=Qe.a.Dragger,Ds=["Michoacan","Morelos","Guerrero"],As={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},Rs={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};function Ms(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)(null),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(H.a)(o,2),h=u[0],p=u[1],x=Object(n.useState)(e.paciente?e.paciente.avatar:"https://"),f=Object(H.a)(x,2),S=f[0],k=f[1];Object(n.useEffect)((function(){w("/users_by_rol/Medico").then((function(e){i(e),p(!1)}))}),[]);var F={name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),k(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};function _(){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(C+"historias/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({historial:"Historia clinica al "+new Date})}).then((function(e){return e.json()})).then((function(e){return console.log("Story Created: ",e),e})).catch((function(e){return console.error("Error:",e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var E=function(){var e=Object(y.a)(g.a.mark((function e(a){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return t=e.sent,console.log("historia on Register: ",t),n={usuario:a,historia:t.id_historia,notas:[],recetas:[]},console.log("postBodyForExpedient: ",n),e.next=8,fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Exp on register pat:",e),l.b.success(e.message||e.error),e.message&&"Expediente creado correctamente"===e.message&&(window.location.href="/pacientes",console.log("Ready to navigate"))})).catch((function(e){return console.error("Error:",e)}));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),N=function(){var a=Object(y.a)(g.a.mark((function a(t){var n;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.avatar=S,t.estatus="1",t.rol="Paciente",t.password=""+t.telefono,t.universidad="",t.certificacion="",t.cedula="",t.horarios=[],t.responsable=e.paciente?e.paciente.responsable:{nombre:t.res_name,telefono:t.res_phone},delete t.prefix,delete t.res_name,delete t.res_phone,n=e.paciente?C+"users/updateUser/"+e.paciente._id:I+"register",console.log(t),console.log("url: ",n),a.next=17,fetch(n,{method:e.paciente?"PUT":"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Create User Response:",a),l.b.success(a.message||a.error),e.paciente?console.log("Editing, not creating patient"):E(a.user_id)})).catch((function(e){return console.error("Error:",e)}));case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),q=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(qs,{value:"+52",children:"+52"})})});b.a.Item,B.a;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Registrar Usuario"}),Object(v.jsx)("br",{}),Object(v.jsxs)(Ps,Object(L.a)(Object(L.a)({},F),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,{labelCol:{span:6},wrapperCol:{span:16},form:t,name:"register",onFinish:N,initialValues:e.paciente,scrollToFirstError:!0,children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:10,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.List,{name:"medicos_asignados",rules:[{validator:function(){var e=Object(y.a)(g.a.mark((function e(a,t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&!(t.length<1)){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("Ingrese al menos un medico")));case 2:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}()}],children:function(e,a,t){var s=a.add,r=a.remove,i=t.errors;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(a,t){return Object(n.createElement)(b.a.Item,Object(L.a)(Object(L.a)({},0===t?As:Rs),{},{label:0===t?"Medico":"",required:!1,key:a.key}),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},a),{},{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Ingrese nombre del medico o borre este campo."}],noStyle:!0,children:Object(v.jsx)(B.a,{style:{marginLeft:36,width:"80%"},children:h?Object(v.jsx)(qs,{value:"loading",children:"Cargando..."}):c.map((function(e){return Object(v.jsx)(qs,{value:e._id,children:e.name})}))})})),e.length>1?Object(v.jsx)(U.a,{style:{marginLeft:2},className:"dynamic-delete-button",onClick:function(){return r(a.name)}}):null)})),Object(v.jsxs)(b.a.Item,{children:[Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return s()},style:{width:"100%",marginLeft:108},icon:Object(v.jsx)(V.a,{}),children:"Asignar Medico"}),Object(v.jsx)(b.a.ErrorList,{errors:i})]})]})}}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un correo electronico vaido!"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Please input your phone number!"}],children:Object(v.jsx)(m.a,{addonBefore:q,style:{width:"100%"}})}),Object(v.jsx)(va.a,{children:"Responsable (opcional)"}),Object(v.jsx)(b.a.Item,{name:"res_name",label:"Nombre",rules:[{message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"res_phone",label:"Telefono",rules:[{message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})})]}),Object(v.jsxs)(j.a,{span:10,children:[Object(v.jsx)(b.a.Item,{name:"calle",label:"Calle",rules:[{required:!1,message:"Ingresa calle",whitespace:!0}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numexterior",label:"Num Exterior",rules:[{required:!1,message:"Ingresa numero exterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"numinterior",label:"Num Interior",rules:[{required:!1,message:"Ingresa numinterior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!1,message:"Please input your colobnia!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"estado",label:"Estado",rules:[{required:!0,message:"Apellido materno"}],children:Object(v.jsx)(B.a,{placeholder:"Elije tu estado",children:Ds.map((function(e){return Object(v.jsx)(qs,{value:e,children:e})}))})}),Object(v.jsx)(b.a.Item,{name:"municipio",label:"Municipio",rules:[{required:!0,message:"Ingresa tu municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"codigopostal",label:"Codigo Postal",rules:[{required:!1,message:"Ingresa codigopostal"}],children:Object(v.jsx)(le.a,{style:{width:"100%"}})}),Object(v.jsxs)(b.a.Item,{wrapperCol:{span:12},labelCol:{span:2},children:[e.setIsModalVisible&&Object(v.jsx)(O.a,{onClick:function(){return e.setIsModalVisible(!1)},style:{marginRight:8},children:"Cancelar"}),Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Registrar"})]})]})]})})]})}function Ls(){var e=Object(n.useState)({}),a=Object(H.a)(e,2),t=a[0],s=(a[1],Object(n.useState)(!1)),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!1),l=Object(H.a)(o,2),d=l[0],j=l[1],b=Object(n.useState)(!0),m=Object(H.a)(b,2),h=m[0],p=m[1],x=Object(n.useState)([]),f=Object(H.a)(x,2),I=f[0],S=f[1],k=Object(n.useState)(null),F=Object(H.a)(k,2),w=F[0],_=F[1];Object(n.useEffect)((function(){E()}),[]);var E=function(){fetch(C+"users_by_rol/Paciente").then((function(e){return e.json()})).then((function(e){console.log(e),S(e)})).finally((function(){return p(!1)}))},N=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a);case 2:j(!0),console.log("Editar paciente: ",a);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),q=[{title:"Foto",dataIndex:"avatar",key:"avatar",render:function(e,a){return Object(v.jsx)("img",{src:"https://api.recreamed.com/images/"+a.avatar,alt:"Logo",width:64})}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Correo",dataIndex:"email",key:"email"},{title:"Telefono",dataIndex:"telefono",key:"tel"},{title:"Opciones",key:"action",render:function(e,a){return Object(v.jsxs)(G.b,{size:"middle",children:[Object(v.jsx)(O.a,{size:"small",onClick:function(){N(a)},children:"Editar"}),Object(v.jsx)(Te.a,{title:"Seguro que quiere borrar este paciente?",onConfirm:function(){var e;T("/users/remove/"+(e=a)._id).then((function(){console.log("removed: ",e._id),E()}))},okText:"Si",cancelText:"No",children:Object(v.jsx)(O.a,{danger:!0,size:"small",children:"Borrar"})})]})}}],P={width:"50%",height:"50px",textAlign:"center",display:"inline-flex",justifyContent:"center",alignItems:"center"};function D(){return Object(v.jsx)("div",{children:Object(v.jsx)(u.a,{bordered:!1,children:Object.keys(t).map((function(e){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(u.a.Grid,{style:P,children:e}),Object(v.jsx)(u.a.Grid,{style:P,size:"small",children:t[e]})]})}))})})}return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Pacientes"}),h?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:I,columns:q}),Object(v.jsx)(we.a,{width:800,title:Object(v.jsx)("h4",{children:"Datos del paciente "}),visible:c,onOk:function(){i(!1)},onCancel:function(){i(!1)},destroyOnClose:!0,children:Object(v.jsx)(D,{})}),Object(v.jsx)(we.a,{width:1e3,title:Object(v.jsx)("h4",{children:"Editar Paciente"}),visible:d,onOk:function(){j(!1)},onCancel:function(){j(!1)},destroyOnClose:!0,footer:[],children:Object(v.jsx)(Ms,{paciente:w,setIsModalVisible:j})})]})}var zs=se.a.Header,Hs=se.a.Content,Bs=se.a.Footer,Gs=se.a.Sider,Us=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(Gs,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(p.a,{}),children:[Object(v.jsx)("span",{children:"Pacientes"}),Object(v.jsx)(i.b,{to:"/pacientes"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ce.a,{}),children:[Object(v.jsx)("span",{children:"Registrar Paciente"}),Object(v.jsx)(i.b,{to:"/registrar_paciente"})]},"2")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(zs,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(Hs,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar_paciente",component:Ms}),Object(v.jsx)(o.a,{path:"/pacientes",component:Ls})]}),Object(v.jsx)(Bs,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),t}(n.Component),Vs=Us,Js=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(Vs,{})})})}}]),t}(n.Component),Zs=Js,Xs=["key","name"],Ys=B.a.Option,Ks=Qe.a.Dragger,Qs={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:14}}},$s={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}};function Ws(e){var a=b.a.useForm(),t=Object(H.a)(a,1)[0],s=Object(n.useState)([]),r=Object(H.a)(s,2),c=r[0],i=r[1],o=Object(n.useState)(!0),u=Object(H.a)(o,2),h=u[0],p=u[1],x=Object(n.useState)(e.medico?e.medico.avatar:"https://"),f=Object(H.a)(x,2),g=f[0],y=f[1],S={name:"file",multiple:!1,action:C+"imagenes/upload",onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),y(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};Object(n.useEffect)((function(){console.log("received Medic: ",e.medico),w("sucursales").then((function(e){i(e),p(!1)}))}),[]);var k=Object(v.jsx)(b.a.Item,{name:"prefix",noStyle:!0,children:Object(v.jsx)(B.a,{style:{width:70},children:Object(v.jsx)(Ys,{value:"+52",children:"+52"})})});b.a.Item,B.a;return Object(v.jsxs)("div",{children:[e.medico?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)("h1",{children:"Registrar doctor"}),Object(v.jsx)("br",{}),Object(v.jsxs)(Ks,Object(L.a)(Object(L.a)({},S),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen de perfil o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsx)(b.a,Object(L.a)(Object(L.a)({},Qs),{},{form:t,name:"register",onFinish:e.medico?function(a){a.avatar=g,console.log("ready to send",a),fetch(C+"users/updateUser/"+e.medico._id,{method:"PUT",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(a){console.log("Success:",a),a.message&&"Usuario actualizado correctamente"===a.message?e.setIsModalVisible(!1):l.b.error(a.error)})).catch((function(e){return console.error("Error:",e)}))}:function(e){e.avatar=g,e.estatus="1",e.rol="Medico",delete e.confirm,delete e.prefix,console.log("ready to send",e),fetch(I+"register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),e.message&&"Usuario creado correctamente"===e.message?window.location.href="doctores":l.b.error(e.error)})).catch((function(e){return console.error("Error:",e)}))},initialValues:e.medico,scrollToFirstError:!0,children:Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{span:11,children:[Object(v.jsx)(b.a.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Ingresa Nombre y apellidos"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"email",label:"Correo",rules:[{type:"email",message:"Ingresa un corrreo electronico valido"},{required:!0,message:"Please input your E-mail!"}],children:Object(v.jsx)(m.a,{})}),e.medico?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(b.a.Item,{name:"password",label:"Contrase\xf1a",rules:[{required:!0,message:"Por favor ingrese su contrase\xf1a!"}],hasFeedback:!0,children:Object(v.jsx)(m.a.Password,{})}),Object(v.jsx)(b.a.Item,{name:"confirm",label:"Confirmar contrase\xf1a",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject(new Error("Las contrase\xf1as deben coincidir!")):Promise.resolve()}}}],children:Object(v.jsx)(m.a.Password,{})})]}),Object(v.jsx)(b.a.Item,{name:"telefono",label:"Telefono",rules:[{required:!0,message:"Ingresa el numero de telefono correcto"}],children:Object(v.jsx)(m.a,{addonBefore:k,style:{width:"100%"}})})]}),Object(v.jsxs)(j.a,{span:11,children:[Object(v.jsx)(b.a.Item,{label:"horarios",rules:[{required:!0,message:"Ingresa al menos un horario"}],children:Object(v.jsx)(b.a.List,{name:"horarios",label:"horarios list",children:function(e,a){var t=a.add,n=a.remove;return Object(v.jsxs)(v.Fragment,{children:[e.map((function(e){var a=e.key,t=e.name,s=Object(z.a)(e,Xs);return Object(v.jsxs)(G.b,{style:{display:"flex",marginBottom:8},align:"baseline",children:[Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"sucursal"],rules:[{required:!0,message:"Elije Sucursal"}],children:Object(v.jsx)(B.a,{placeholder:"Elije Sucursal",style:{width:"120px"},children:h?"Cargando":c.map((function(e){return Object(v.jsx)(Ys,{value:e._id,children:e.nombre})}))})})),Object(v.jsx)(b.a.Item,Object(L.a)(Object(L.a)({},s),{},{name:[t,"horario"],rules:[{required:!1,message:"Missing last name"}],children:Object(v.jsx)(m.a,{placeholder:"Horario"})})),Object(v.jsx)(U.a,{onClick:function(){return n(t)}})]},a)})),Object(v.jsx)(b.a.Item,{children:Object(v.jsx)(O.a,{type:"dashed",onClick:function(){return t()},block:!0,icon:Object(v.jsx)(V.a,{}),children:"Agregar Horario"})})]})}})}),Object(v.jsx)(b.a.Item,{name:"cedula",label:"Cedula",rules:[{required:!1,message:"Ingresa cedula"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"certificacion",label:"Certificacion",rules:[{required:!1,message:"Ingresa tu certificacion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{name:"universidad",label:"Universidad",rules:[{required:!1,message:"Ingresa tu universidad"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsxs)(b.a.Item,Object(L.a)(Object(L.a)({},$s),{},{children:[e.setIsModalVisible&&Object(v.jsx)(O.a,{onClick:function(){return e.setIsModalVisible(!1)},style:{marginRight:6},children:"Cancelar"}),Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})]}))]})]})}))]})}var er=t(864);function ar(){var e=Object(n.useState)(!0),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(null),d=Object(H.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(H.a)(b,2),h=m[0],p=m[1];Object(n.useEffect)((function(){x()}),[]),Object(n.useEffect)((function(){x()}),[h]);var x=function(){fetch(C+"users_by_rol/Medico").then((function(e){return e.json()})).then((function(e){console.log(e),o(e)})).finally((function(){return s(!1)}))},f=function(){var e=Object(y.a)(g.a.mark((function e(a){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=JSON.parse(JSON.stringify(a))).horarios.forEach((function(e){e.sucursal=e.sucursal._id})),console.log("Horarios before edit: ",t.horarios),e.next=5,u(t);case 5:p(!0),console.log("Editar medico: ",t);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=[{title:"Foto",key:"avatar",render:function(e,a){return Object(v.jsx)("img",{src:"https://api.recreamed.com/images/"+a.avatar,alt:"Logo",width:64})}},{title:"Nombre",dataIndex:"name",key:"name"},{title:"Correo",dataIndex:"email",key:"email"},{title:"Telefono",dataIndex:"telefono",key:"telefono"},{title:"Horarios",dataIndex:"horarios",key:"horarios",render:function(e,a){return Object(v.jsx)("p",{children:a.horarios.map((function(e){return Object(v.jsxs)(G.b,{size:"small",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)(er.a,{style:{marginTop:-6}}),e.sucursal.nombre]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(De.a,{}),e.horario]})]})}))})}},{title:"Opciones",key:"action",render:function(e,a){return Object(v.jsxs)(G.b,{size:"middle",children:[Object(v.jsx)(O.a,{size:"small",onClick:function(){f(a)},children:"Editar"}),Object(v.jsx)(Te.a,{title:"Seguro que quiere borrar este doctor?",onConfirm:function(){var e;T("/users/remove/"+(e=a)._id).then((function(){console.log("removed: ",e._id),x()}))},okText:"Si",cancelText:"No",children:Object(v.jsx)(O.a,{danger:!0,size:"small",children:"Borrar"})})]})}}];return Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Doctores"}),t?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:i,columns:I}),Object(v.jsx)(we.a,{width:900,title:"Editar Medico",visible:h,onCancel:function(){p(!1)},destroyOnClose:!0,footer:[],children:Object(v.jsx)(Ws,{medico:j,setIsModalVisible:p})})]})}var tr=se.a.Header,nr=se.a.Content,sr=se.a.Footer,rr=se.a.Sider,cr=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(rr,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(is.a,{}),children:[Object(v.jsx)("span",{children:"M\xe9dicos"}),Object(v.jsx)(i.b,{to:"/doctores"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(ce.a,{}),children:[Object(v.jsx)("span",{children:"Registrar M\xe9dico"}),Object(v.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(tr,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(nr,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar",component:Ws}),Object(v.jsx)(o.a,{path:"/doctores",component:ar})]}),Object(v.jsx)(sr,{style:{textAlign:"center"},children:"RECREAMED \xa92021 Created by Realidad Creativa"})]})]})})}}]),t}(n.Component),ir=cr,or=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{children:Object(v.jsx)(ir,{})})})}}]),t}(n.Component),lr=or;function dr(){var e=Object(n.useState)(!1),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)(!0),c=Object(H.a)(r,2),i=c[0],o=c[1],u=Object(n.useState)([]),h=Object(H.a)(u,2),p=h[0],x=h[1];Object(n.useEffect)((function(){f()}),[]);var f=function(){fetch(C+"expedientes").then((function(e){return e.json()})).then((function(e){console.log(e),x(e)})).finally((function(){return o(!1)}))},g=[{title:"Paciente",dataIndex:"id_usuario",key:"Paciente"},{title:"Historia Clinica",dataIndex:"id_historia",key:"historiaClinica",render:function(e){return Object(v.jsx)("a",{href:"/historial_clinico",children:e})}},{title:"Notas Medicas",dataIndex:"id_nota",key:"notasMedicas",render:function(e){return Object(v.jsx)("a",{href:"/notas",children:e})}},{title:"Receta",dataIndex:"id_receta",key:"receta"}];return Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:16,children:Object(v.jsx)("h4",{children:"Expedientes"})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(O.a,{type:"primary",onClick:function(){s(!0)},children:"Nuevo expediente"})})]}),Object(v.jsx)("br",{}),i?Object(v.jsx)(he,{}):Object(v.jsx)(be.a,{dataSource:p,columns:g}),Object(v.jsx)(we.a,{title:"Nuevo expediente",visible:t,onOk:function(){},onCancel:function(){s(!1)},children:Object(v.jsxs)(b.a,{name:"expediente",labelCol:{span:6},wrapperCol:{span:12},onFinish:function(e){console.log("Valores:",e),fetch(C+"expedientes/add",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),l.b.success(e.message||e.error)})).catch((function(e){return console.error("Error:",e)})).finally((function(){f(),s(!1)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsx)(b.a.Item,{label:"Paciente",name:"id_usuario",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Historia Clinica",name:"id_historia",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Notas Medicas",name:"id_nota",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Receta",name:"id_receta",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",form:"expediente",children:"Guardar"})})]})})]})}var jr=t(865),ur=Qe.a.Dragger;function br(e){var a=Object(n.useState)("https://"),t=Object(H.a)(a,2),s=t[0],r=t[1],c={name:"file",multiple:!1,action:C+"imagenes/upload",beforeUpload:function(e){var a="image/png"===e.type||"image/jpeg"===e.type;return a||l.b.error("".concat(e.name," no es una imagen tipo PNG o JPG")),a||Qe.a.LIST_IGNORE},onChange:function(e){var a=e.file.status;"uploading"!==a&&console.log(e.file,e.fileList),"done"===a?(l.b.success("".concat(e.file.name," file uploaded successfully.")),console.log("New Files: ",e.file.response.file),r(e.file.response.file)):"error"===a&&l.b.error("".concat(e.file.name," file upload failed."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return Object(v.jsxs)("div",{children:[e.hospital?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)("h4",{children:"Registrar Nuevo Hospital"}),Object(v.jsxs)(ur,Object(L.a)(Object(L.a)({},c),{},{children:[Object(v.jsx)("p",{className:"ant-upload-drag-icon",children:Object(v.jsx)($e.a,{})}),Object(v.jsx)("p",{className:"ant-upload-text",children:"Arrastra la imagen con el logotipo o click ara buscar"}),Object(v.jsx)("p",{className:"ant-upload-hint",children:"Selecciona archivos en formato png, jpeg o webp"})]})),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:12},wrapperCol:{span:12},initialValues:e.hospital,onFinish:e.hospital?function(a){a.logo=s,console.log("Ready to send editing:",a),N("sucursales/update/"+e.hospital._id,a).then((function(){e.setModalVisible(!1)}))}:function(e){e.logo=s,e.estatus="1",e.delete="0",console.log("Ready to send:",e),P("sucursales/add",e).then((function(a){console.log("resp: ",a),a.message&&"Sucursal creada correctamente"===a.message&&(window.location.href="/hospitales"),console.log("tosend: ",e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(v.jsxs)(d.a,{children:[Object(v.jsxs)(j.a,{children:[Object(v.jsx)(b.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Please input your username!"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"RFC",name:"rfc",rules:[{required:!0,message:"Ingresa RFC"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Calle",name:"calle",rules:[{required:!0,message:"Ingresa nombre de la calle"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Numero exterior",name:"num_exterior",rules:[{required:!0,message:"Ingresa numero exterion"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Numero Interior",name:"num_interior",rules:[{required:!1,message:"Ingresa numero interior"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Colonia",name:"colonia",rules:[{required:!0,message:"Ingresa nombre de colonia"}],children:Object(v.jsx)(m.a,{})})]}),Object(v.jsxs)(j.a,{children:[Object(v.jsx)(b.a.Item,{label:"Codigo Postal",name:"codigo_postal",rules:[{required:!0,message:"Ingresa codigo postal"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Ciudad Municipio",name:"ciudad_municipio",rules:[{required:!0,message:"Ingresa ciudad/municipio"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Estado",name:"estado",rules:[{required:!0,message:"Ingresa estado"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Telefono",name:"telefono",rules:[{required:!0,message:"Ingresa numero de telefono"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Correo Electronico",name:"email",rules:[{required:!0,message:"Correo@Hopspital.com"}],children:Object(v.jsx)(m.a,{})}),Object(v.jsx)(b.a.Item,{label:"Sitio Web",name:"sitio_web",rules:[{required:!0,message:"www.hospital.com"}],children:Object(v.jsx)(m.a,{})})]})]}),Object(v.jsxs)(b.a.Item,{wrapperCol:{offset:9},children:[Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",style:{marginRight:8},children:"Guardar"}),e.setModalVisible&&Object(v.jsx)(O.a,{onClick:function(){return e.setModalVisible(!1)},children:"Cancelar"})]})]})]})}function mr(){var e=Object(n.useState)(!0),a=Object(H.a)(e,2),t=a[0],s=a[1],r=Object(n.useState)([]),c=Object(H.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(null),d=Object(H.a)(l,2),j=d[0],u=d[1],b=Object(n.useState)(!1),m=Object(H.a)(b,2),h=m[0],p=m[1];Object(n.useEffect)((function(){x()}),[]),Object(n.useEffect)((function(){x()}),[h]);var x=function(){fetch(C+"sucursales").then((function(e){return e.json()})).then((function(e){console.log(e),o(e),s(!1)}))},f=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(a);case 2:p(!0),console.log("Editar hospital: ",a);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),I=function(e){console.log(e)},S=[{title:"Logo",key:"logo",render:function(e,a){return Object(v.jsx)("img",{src:"https://api.recreamed.com/images/"+a.logo,alt:"Logo",width:64})}},{title:"Sucursal",dataIndex:"nombre"},{title:"Ciudad_municipio",dataIndex:"ciudad_municipio",defaultSortOrder:"descend"},{title:"Colonia",dataIndex:"colonia"},{title:"calle",dataIndex:"calle"},{title:"Telefono",dataIndex:"telefono",defaultSortOrder:"descend"},{title:"Opciones",key:"action",render:function(e,a){return Object(v.jsxs)(G.b,{size:"middle",children:[Object(v.jsx)(O.a,{size:"small",onClick:function(){f(a)},children:"Editar"}),Object(v.jsx)(Te.a,{title:"Seguro que quiere borrar esta sucursal?",onConfirm:function(){return e=a,console.log("toDel: ",e),void T("sucursales/remove/"+e._id).then((function(){return x()}));var e},onCancel:I,okText:"Si",cancelText:"No",children:Object(v.jsx)(O.a,{danger:!0,size:"small",children:"Borrar"})})]})}}];return t?Object(v.jsx)(he,{}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Hospitales"}),Object(v.jsx)(be.a,{columns:S,dataSource:i,onChange:function(e,a,t,n){console.log("params",e,a,t,n)}}),Object(v.jsx)(we.a,{width:800,title:"Editar Hospital",visible:h,onOk:function(){p(!1)},onCancel:function(){p(!1)},destroyOnClose:!0,footer:[],children:Object(v.jsx)(br,{hospital:j,setModalVisible:p})})]})}var hr=se.a.Header,Or=se.a.Content,pr=se.a.Footer,xr=se.a.Sider,fr=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).handleClick=function(e){console.log("click ",e)},e.state={collapsed:!1},e.onCollapse=function(a){e.setState({collapsed:a})},e.toggle=function(){e.setState({collapsed:!e.state.collapsed})},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)(i.a,{children:Object(v.jsxs)(se.a,{style:{minHeight:"100vh"},children:[Object(v.jsxs)(xr,{theme:"light",collapsible:!0,collapsed:this.state.collapsed,onCollapse:this.onCollapse,children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsxs)(re.a,{defaultSelectedKeys:["1"],mode:"inline",children:[Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(Ae.a,{}),children:[Object(v.jsx)("span",{children:"Hospitales"}),Object(v.jsx)(i.b,{to:"/hospitales"})]},"1"),Object(v.jsxs)(re.a.Item,{icon:Object(v.jsx)(jr.a,{}),children:[Object(v.jsx)("span",{children:"Registrar Hospital"}),Object(v.jsx)(i.b,{to:"/registrar"})]},"2")]})]}),Object(v.jsxs)(se.a,{children:[Object(v.jsx)(hr,{style:{background:"#fff",padding:0,paddingLeft:16},children:Object(v.jsx)(oe.a,{className:"trigger",style:{cursor:"pointer"},onClick:this.toggle})}),Object(v.jsxs)(Or,{style:{margin:"24px 16px",padding:24,background:"#fff",minHeight:280},children:[Object(v.jsx)(o.a,{exact:!0,path:"/registrar",component:br}),Object(v.jsx)(o.a,{path:"/hospitales",component:mr})]}),Object(v.jsx)(pr,{style:{textAlign:"center"},children:"Ant Design \xa92016 Created by Ant UED"})]})]})})}}]),t}(n.Component),gr=fr,yr=function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){return Object(ee.a)(this,t),a.apply(this,arguments)}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(gr,{})})}}]),t}(n.Component),vr=(t(813),function(e){Object(te.a)(t,e);var a=Object(ne.a)(t);function t(){var e;Object(ee.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=a.call.apply(a,[this].concat(s))).dataPie=[{type:"Covid",value:130737},{type:"Colesterol",value:21468},{type:"Diabetes",value:18098},{type:"Presion",value:17912},{type:"Oseo",value:15282},{type:"Migra\xf1a",value:11650}],e.configPie={appendPadding:10,data:e.dataPie,angleField:"value",colorField:"type",height:450,radius:.8,label:{type:"inner",offset:"-0.5",content:"{name} {percentage}",style:{fill:"#fff",fontSize:14,textAlign:"center"}}},e.dataLine=[{mes:"Junio",consultas:17945},{mes:"Julio",consultas:24011},{mes:"Agosto",consultas:46493},{mes:"Septiembre",consultas:105293},{mes:"Octubre",consultas:77190}],e.configLine={data:e.dataLine,height:410,xField:"mes",yField:"consultas",color:"#01B075",point:{size:5,shape:"diamond",color:"#01B075"},label:{style:{fill:"#aaa",fontSize:16,stroke:"#01B075"}}},e}return Object(ae.a)(t,[{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"contenedor",children:[Object(v.jsxs)(d.a,{gutter:30,children:[Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Hospitales",value:"4",valueStyle:{color:"white"},style:{backgroundColor:"#4BA6FE"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Medicos",value:"14",valueStyle:{color:"white"},style:{backgroundColor:"#FF838A"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Total Pacientes",value:"241",valueStyle:{color:"white"},style:{backgroundColor:"#18D0C2"},className:"cardsContenido"})})}),Object(v.jsx)(j.a,{xs:24,sm:12,lg:6,children:Object(v.jsx)(u.a,{className:"cardsContenedor",hoverable:!0,bordered:!1,children:Object(v.jsx)(Na.a,{title:"Citas Hoy",value:47,valueStyle:{color:"white"},style:{backgroundColor:"#847DFC"},className:"cardsContenido"})})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)(d.a,{gutter:20,children:[Object(v.jsx)(j.a,{xs:24,md:12,className:"graficaCircular",children:Object(v.jsx)(qa.a,Object(L.a)(Object(L.a)({},this.configPie),{},{style:{backgroundColor:"#1F263C"}}))}),Object(v.jsx)(j.a,{xs:24,md:12,children:Object(v.jsx)(Pa.a,Object(L.a)(Object(L.a)({},this.configLine),{},{style:{backgroundColor:"#1F263C",padding:"20px"}}))})]})]})]})}}]),t}(n.Component)),Cr=vr,Ir=function(){localStorage.removeItem("sessionToken"),localStorage.removeItem("userType"),window.location.href="/"};function Sr(){return Object(v.jsx)(Q.a,{bg:"light",expand:"lg",children:Object(v.jsxs)($.a,{children:[Object(v.jsxs)(Q.a.Brand,{href:"#home",children:[Object(v.jsx)("img",{src:Ra,width:"40",height:"35",className:"d-inline-block align-top",alt:"Recreamed logo"}),"Bienvenido Administrador"]}),Object(v.jsx)(Q.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(Q.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(W.a,{className:"me-auto",children:[Object(v.jsx)(W.a.Link,{href:"/",children:"Inicio"}),Object(v.jsx)(W.a.Link,{href:"/",children:"Farmacia"}),Object(v.jsx)(W.a.Link,{href:"#",children:"|"}),Object(v.jsx)(W.a.Link,{href:"/hospitales",children:"Hospitales"}),Object(v.jsx)(W.a.Link,{href:"/doctores",children:"Medicos"}),Object(v.jsx)(W.a.Link,{href:"pacientes",children:"Pacientes"})]})}),Object(v.jsx)(Q.a.Collapse,{className:"justify-content-end",children:Object(v.jsx)(O.a,{onClick:Ir,children:"Cerrar Sesion"})})]})})}function kr(){return Object(v.jsxs)(i.a,{children:[Object(v.jsx)(Sr,{}),Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/hospitales",children:Object(v.jsx)(yr,{})}),Object(v.jsx)(o.a,{path:"/doctores",children:Object(v.jsx)(lr,{})}),Object(v.jsx)(o.a,{path:"/expedientes",children:Object(v.jsx)(dr,{})}),Object(v.jsx)(o.a,{path:"/pacientes",children:Object(v.jsx)(Zs,{})}),Object(v.jsx)(o.a,{path:"/",children:Object(v.jsx)(Cr,{})})]})]})}var Fr={"Ritmo Cardiaco Elevado":!1,"Sentimientos de Ansiedad":!0,"Debilidad o Mareos ligeros":!1,"Sedacion o Somnolencia":!1,Nauseas:!1,"Vision Borrosa":!1,"Aumento de la Presi\xf3n Arterial":!1,Mareos:!1,"Dolor de cabeza":!1},wr={"1. \xbfParece que las cosas se mueven en c\xe1mara lenta ?":["No en absoluto","Leve, las cosas parecen un poco m\xe1s lentas, pero no muy notable.","Moderado, las cosas se mueven aproximadamente el doble que normalmente.","Grave, las cosas se mueven tan lentamente que apenas se mueven.","Extremo, las cosas se mueven tan lentamente, que tengo la percepci\xf3n de que todo se  detiene, como si el tiempo se detuviera."],"2. \xbfTe parecen irreales las cosas, como si estuvieras en un sue\xf1o?":["No en absoluto.","Leve, las cosas se ven un poco irreales, pero soy muy consciente de donde estoy.","Moderado, las cosas parecen un sue\xf1o, aunque s\xe9 que estoy despierto.","Grave, las cosas se parecen mucho a un sue\xf1o, aunque s\xe9 que estoy aqu\xed, tengo el sentimiento de que pudiera estar dormido.","Extremo, siento que nada es real, como si tuviera que pellizcarme para despertar, o preguntarle a alguien si esto es un sue\xf1o."]},_r={"3. \xbfTe sientes desconectado de tu propio cuerpo?":["No, en absoluto","Leve, Me siento un poco desconectado de mi mismo, pero b\xe1sicamente estoy completamente aqu\xed.","Moderado, Me siento algo desprendido de mi propio cuerpo, pero b\xe1sicamente todo unido.","Grave, me siento desprendido de mi propio cuerpo, pero no muy alejado de mi cuerpo, y siento como si estuviera yo ah\xed.","Extremo, Me siento como si estuviera completamente fuera de mi cuerpo, como si estuviera viendo mi propio cuerpo desde muy lejos, como si estuviera otra persona ah\xed."],"4. Sientes que ha cambiado el sentido de tu propio cuerpo?: por ejemplo, tu cuerpo se siente inusualmente largo o inusualmente peque\xf1o?":["No, en absoluto","Leve, Tengo un vago sentimiento de que algo en mi cuerpo ha cambiado, pero no puedo decir exactamente que es.","Moderado, Siento como que mi cuerpo ha aumentado o disminuido ligeramente de tama\xf1o, o se siente como si no fuera mi cuerpo.","Grave, Siento como si mi cuerpo ha aumentado el doble de si tama\xf1o normal, o disminuido el doble de su tama\xf1o normal.","Extremo, siento como si mi cuerpo se hubiera hinchado al menos diez veces de su tama\xf1o normal o como si fuera diez veces m\xe1s peque\xf1o, o como si mis brazos se hubieran convertido como palillos de dientes."]},Tr={"5. Te has distra\xeddo, o has perdido el rastro de alguna manera de lo que esta pasando durante esta experiencia?":["No en absoluto","Leve, He tenido algunos episodios de haber perdido la noci\xf3n sobre lo que est\xe1 pasando, pero he seguido todo la mayor parte del tiempo.","Moderado, He perdido al menos un minuto de tiempo, o perdido completamente la noci\xf3n de lo que est\xe1 pasando ahora.","Grave, He perdido varios segmentos de tiempo de un minuto o m\xe1s.","Extremo, he perdido largos segmentos de tiempo de al menos 15 minutos o m\xe1s."],"6. Tiene lagunas (vacios) en su memoria?":["No en lo absoluto","Leve, Hay algunas cosas recientes que no puedo recordar.","Moderado, Han habido algunas lagunas (vacios)  en mi memoria que duraron unos minutos","Grave, Han habido largas lagunas (vacios) en mi memoria que duraron m\xe1s de algunos minutos.","Extremo, No puedo reconstruir lo que est\xe1 pasando de un momento al siguiente, debido a largas lagunas (vacios)  en mi memoria."]};B.a.Option;function Er(e){var a=Object(n.useState)(null),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!0),i=Object(H.a)(c,2),o=i[0],d=i[1],j=Object(n.useState)({}),u=Object(H.a)(j,2),m=u[0],h=u[1],p=Object(n.useState)({}),x=Object(H.a)(p,2),f=x[0],g=x[1];Object(n.useEffect)((function(){y()}),[]);var y=function(){w("getuser/"+e.idpaciente).then((function(e){h(e)})),w("getuser/"+e.idmedico).then((function(e){g(e)})),w("encuestas/uuid/".concat(e.token)).then((function(e){console.log(e),r("The survey does not exist"===e.message)})).then((function(){d(!1),console.log("Not exists: ",s)}))},C={0:"0",10:"10"};return o?Object(v.jsx)("div",{style:{paddingTop:180},children:Object(v.jsx)("div",{style:{margin:"auto",width:"40%",textAlign:"center"},children:Object(v.jsx)("h3",{children:"Cargando"})})}):s?Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Lista de verificaci\xf3n para Efectos Secundarios  "}),Object(v.jsx)("br",{}),Object(v.jsxs)("h5",{children:["Medico: ",f.name]}),Object(v.jsxs)("h5",{children:["Paciente: ",m.name]}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"efectos_form",labelCol:{span:8},wrapperCol:{span:16},initialValues:Object(L.a)(Object(L.a)({},Fr),{},{ketamina:0,ketaminaiv:0,ketaminaivb:0}),onFinish:function(a){Object.keys(a).forEach((function(e){var t=e.replace(/ /g,"_");a[t]=a[e],e.includes(" ")&&delete a[e]}));var t={usuario:e.idpaciente,medico:e.idmedico,respuestas_ketamina:a,tipo:"ketamina",uuid:e.token};console.log("Efectos Form:",a),P("encuestas/add",t).then((function(e){console.log(e),l.b.success(e.message)})).then((function(){return y()}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object.keys(Fr).map((function(e,a){return Object(v.jsx)(b.a.Item,{label:e,name:e,rules:[{required:!1,message:"Selecciona una respuesta"}],children:Object(v.jsx)(qe.a,{checkedChildren:"Si",unCheckedChildren:"No",defaultChecked:!1})})})),Object(v.jsx)("h4",{children:"Escala de 6 elementos simplificada de s\xedntomas disociativos administrada por el m\xe9dico  (CADSS)"}),Object(v.jsx)("h5",{children:"Desrealizacion"}),Object.keys(wr).map((function(e,a){return Object(v.jsx)(b.a.Item,{label:e,name:"desrealizacion_"+a,rules:[{required:!0,message:"Selecciona una respuesta"}],children:Object(v.jsx)(bt.a.Group,{children:Object(v.jsx)(G.b,{direction:"vertical",children:wr[e].map((function(e,a){return Object(v.jsx)(bt.a,{value:a,children:e})}))})})})})),Object(v.jsx)("h5",{children:"Despersonalizacion"}),Object.keys(_r).map((function(e,a){return Object(v.jsx)(b.a.Item,{label:e,name:"despersonalizacion_"+a,rules:[{required:!0,message:"Selecciona una respuesta"}],children:Object(v.jsx)(bt.a.Group,{children:Object(v.jsx)(G.b,{direction:"vertical",children:_r[e].map((function(e,a){return Object(v.jsx)(bt.a,{value:a,children:e})}))})})})})),Object(v.jsx)("h5",{children:"Amnesia"}),Object.keys(Tr).map((function(e,a){return Object(v.jsx)(b.a.Item,{label:e,name:"amnesia_"+a,rules:[{required:!0,message:"Selecciona una respuesta"}],children:Object(v.jsx)(bt.a.Group,{children:Object(v.jsx)(G.b,{direction:"vertical",children:Tr[e].map((function(e,a){return Object(v.jsx)(bt.a,{value:a,children:e})}))})})})})),Object(v.jsx)(b.a.Item,{label:"a)\tEn general mi gusto por la ketamina IV es:",name:"ketamina",children:Object(v.jsx)(ut.a,{min:0,max:10,marks:C,dots:!0,defaultValue:0})}),Object(v.jsx)(b.a.Item,{label:"a.)\tEn general, cu\xe1nto anhela, apetece el tratamiento de la ketamina IV para otros efectos adem\xe1s de los efectos antidepresivos? ",name:"ketaminaiv",children:Object(v.jsx)(ut.a,{min:0,max:10,marks:C,dots:!0,defaultValue:"0"})}),Object(v.jsx)(b.a.Item,{label:"b.)\tCu\xe1nto desea usar la ketamina IV en cantidades mayores con m\xe1s frecuencia de lo que su psiquiatra le esta prescribiendo por razones distintas a esperar m\xe1s efecto antidepresivo?  ",name:"ketaminaivb",children:Object(v.jsx)(ut.a,{min:0,max:10,marks:C,dots:!0})}),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]}):Object(v.jsx)("div",{style:{paddingTop:180},children:Object(v.jsxs)("div",{style:{margin:"auto",width:"40%",textAlign:"center"},children:[Object(v.jsx)("h3",{children:"Gracias por contestar la encuesta"}),Object(v.jsx)("img",{width:256,src:R,alt:"recreamedLogo",style:{margin:"auto"}})]})})}function Nr(){var e=Object(o.f)(),a=e.idmedico,t=e.idpaciente,n=e.key;return console.log(n),Object(v.jsx)("div",{children:Object(v.jsx)(Er,{idmedico:a,idpaciente:t,token:n})})}var qr=[{n:1,pregunta:"Conciliar el sue\xf1o",respuestas:["Nunca tard\xe9 m\xe1s de 30 minutos en dormirme.","Tard\xe9 por lo menos 30 minutos en dormirme, menos de la mitad de las veces.","Tard\xe9 por lo menos 30 minutos en dormirme, m\xe1s de la mitad de las veces.","Tard\xe9 m\xe1s de 60 minutos en dormirme, m\xe1s de la mitad de la veces"]},{n:2,pregunta:"Al dormir durante la noche",respuestas:["No me despert\xe9 durante la noche.","Tuve el sue\xf1o liviano e intranquilo; me despert\xe9 unas cuantas veces todas las noches por corto tiempo.","Me despert\xe9 al menos una vez cada noche, pero volv\xed a dormirme f\xe1cilmente.","Me despert\xe9 m\xe1s de una vez cada noche y me qued\xe9 despierto/a durante 20 minutos o m\xe1s, m\xe1s de la mitad de las veces"]},{n:3,pregunta:" Despertarse demasiado temprano",respuestas:["La mayor\xeda de las veces me despert\xe9 no m\xe1s de 30 minutos antes de lo necesario.","M\xe1s de la mitad de las veces me despert\xe9 m\xe1s de 30 minutos antes de lo necesario.","Casi siempre me despert\xe9 por lo menos una hora antes de lo necesario, pero finalmente me dorm\xed nuevamente","Me despert\xe9 por lo menos una hora antes de lo necesario y no pude volver a dormirme"]},{n:4,pregunta:" Dormir demasiado",respuestas:["Dorm\xed no m\xe1s de 7-8 horas por noche, sin haber dormido la siesta durante el d\xeda.","Dorm\xed no m\xe1s de 10 horas en un per\xedodo de 24 horas, incluyendo las siestas.","Dorm\xed no m\xe1s de 12 horas en un per\xedodo de 24 horas, incluyendo las siestas.","Dorm\xed m\xe1s de 12 horas en un per\xedodo de 24 horas, incluyendo las siestas."]},{n:5,pregunta:"Sensaci\xf3n de tristeza",respuestas:["No me sent\xed triste.","Me sent\xed triste menos de la mitad de las veces.","Me sent\xed triste m\xe1s de la mitad de las veces.","Me sent\xed triste casi todo el tiempo."]}],Pr=["Mi apetito no disminuy\xf3.","Com\xed con considerable menor frecuencia o menor cantidad de comida de lo habitual.","Com\xed mucho menos de lo habitual y s\xf3lo haciendo un esfuerzo.","Casi no com\xed dentro de un per\xedodo de 24 horas, y s\xf3lo haciendo un tremendo esfuerzo o cuando los dem\xe1s me convencieron de comer"],Dr=["Mi apetito no aument\xf3.","Sent\xed la necesidad de comer con m\xe1s frecuencia de lo habitual.","A menudo com\xed con m\xe1s frecuencia y/o m\xe1s cantidad de comida de lo habitual.","Me sent\xed impulsado/a a comer de m\xe1s, tanto en las comidas como entre las comidas."],Ar=["No he perdido peso.","Siento que tuve una leve p\xe9rdida de peso.","He perdido 1 kg o m\xe1s.","He perdido 2 kg o m\xe1s."],Rr=["No he aumentado de peso.","Siento que tuve un leve aumento de peso.","He aumentado 1 kg o m\xe1s.","He aumentado 2 kg o m\xe1s."],Mr=[{n:10,pregunta:"Concentraci\xf3n/Toma de decisiones",respuestas:["No hubo cambio en mi capacidad habitual para concentrarme o tomar decisiones.","A veces me sent\xed indeciso/a o me di cuenta de que me distra\xeda.","La mayor parte del tiempo tuve que esforzarme para mantener la atenci\xf3n o para tomar decisiones.","No me pude concentrar suficientemente bien para leer ni tampoco pude tomar decisiones sin importancia"]},{n:11,pregunta:"Percepci\xf3n de m\xed mismo/a",respuestas:["Me consider\xe9 que valgo tanto y que tengo los mismos derechos que las dem\xe1s personas.","Me sent\xed m\xe1s culpable de lo habitual.","En gran medida, cre\xed que le caus\xe9 problemas a otras personas.","Pens\xe9 casi constantemente en mis defectos, tanto en los importantes como en los triviales."]},{n:12,pregunta:"Pensamientos de muerte o suicidio",respuestas:["No pens\xe9 en el suicidio o la muerte.","Sent\xed que mi vida estaba vac\xeda y me pregunt\xe9 si val\xeda la pena vivir.","Pens\xe9 en el suicidio o la muerte varias veces en la semana durante varios minutos.","Pens\xe9 en el suicidio o la muerte varias veces al d\xeda con cierto detalle, o hice planes de c\xf3mo suicidarme, o realmente intent\xe9 quitarme la vida."]},{n:13,pregunta:"Inter\xe9s general",respuestas:["No hubo cambio de lo habitual en cuanto a mi inter\xe9s en otras personas o actividades.","Not\xe9 que estaba menos interesado / a en la gente o en las actividades.","Me di cuenta que s\xf3lo me interesaban una o dos de las actividades que sol\xeda hacer.","No tuve pr\xe1cticamente ning\xfan inter\xe9s en las actividades que sol\xeda hacer."]},{n:14,pregunta:"Nivel de energ\xeda",respuestas:["No hubo cambio en mi nivel de energ\xeda habitual.","Me cans\xe9 m\xe1s f\xe1cilmente de lo habitual.","Tuve que hacer un gran esfuerzo para empezar o terminar mis actividades diarias habituales(porejemplo: hacer las compras, estudiar, cocinar o ir a trabajar).","Realmente, no pude realizar la mayor\xeda de mis actividades diarias habituales porque simplementeno tuve energ\xedas."]},{n:15,pregunta:" Sensaci\xf3n de estar m\xe1s lento/a",respuestas:["Pens\xe9, habl\xe9 y me mov\xed a mi nivel de velocidad habitual.","Me di cuenta de que mi pensamiento estaba m\xe1s lento de lo habitual o que mi voz sonabamon\xf3tona y achatada.","Tard\xe9 varios segundos para responder la mayor\xeda de las preguntas y estoy seguro / a de que mipensamiento estaba m\xe1s lento de lo habitual.","Con frecuencia no pude responder preguntas si no era haciendo un extremo esfuerzo."]},{n:16,pregunta:" Sensaci\xf3n de inquietud",respuestas:["No me sent\xed inquieto/a.","Con frecuencia me sent\xed intranquilo/a, me apretaba las manos o necesitaba cambiar la posici\xf3n enla que estaba sentado/a.","Tuve impulsos de estar en movimiento y me sent\xed bastante inquieto/a.","Por momentos, me result\xf3 imposible quedarme sentado/a y comenc\xe9 a dar vueltas."]}],Lr=t(842);B.a.Option;function zr(e){var a=Object(n.useState)(!1),t=Object(H.a)(a,2),s=t[0],r=t[1],c=Object(n.useState)(!1),i=Object(H.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(null),h=Object(H.a)(m,2),p=h[0],x=h[1],f=Object(n.useState)(!0),g=Object(H.a)(f,2),y=g[0],C=g[1],I=Object(n.useState)({}),S=Object(H.a)(I,2),k=S[0],F=S[1],_=Object(n.useState)({}),T=Object(H.a)(_,2),E=T[0],N=T[1];Object(n.useEffect)((function(){q()}),[]);var q=function(){w("getuser/"+e.idpaciente).then((function(e){F(e)})),w("getuser/"+e.idmedico).then((function(e){N(e)})),w("encuestas/uuid/".concat(e.token)).then((function(e){console.log(e),x("The survey does not exist"===e.message)})).then((function(){C(!1),console.log("Not exists: ",p)}))};return y?Object(v.jsx)("div",{style:{paddingTop:180},children:Object(v.jsx)("div",{style:{margin:"auto",width:"40%",textAlign:"center"},children:Object(v.jsx)("h3",{children:"Cargando"})})}):p?Object(v.jsxs)("div",{className:"mainContainer",children:[Object(v.jsx)("h4",{children:"Sintomatologia de Depresion"}),Object(v.jsx)("br",{}),Object(v.jsxs)("h5",{children:["Medico: ",E.name]}),Object(v.jsxs)("h5",{children:["Paciente: ",k.name]}),Object(v.jsx)("br",{}),Object(v.jsxs)(b.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(a){var t=0,n=0,s=0;console.log("Sintomatologia:",a);for(var r=1;r<5;r++)a[r]>n&&(n=a[r]);for(r=6;r<10;r++)a[r]>s&&(s=a[r]);for(r=10;r<15;r++)t+=a[r];a[15]>a[16]?t+=a[15]:t+=a[16],t=t+n+a[5]+s,console.log("score: ",t);var c={usuario:e.idpaciente,medico:e.idmedico,score:t,tipo:"depresion",uuid:e.token};console.log("Efectos body:",c),P("encuestas/add",c).then((function(e){console.log(e),l.b.success(e.message)})).then((function(){return q()}))},onFinishFailed:function(e){console.log("Failed:",e),e.errorFields.map((function(e){l.b.error("Conteste la pregunta "+e.name)}))},autoComplete:"off",children:[qr.map((function(e){return Object(v.jsx)(b.a.Item,{label:e.n+". "+e.pregunta,name:e.n,rules:[{required:!0,message:"Selecciona una opcion"}],children:Object(v.jsx)(bt.a.Group,{children:Object(v.jsx)(G.b,{direction:"vertical",children:e.respuestas.map((function(e,a){return Object(v.jsxs)(bt.a,{value:a,children:[" ",e," "]})}))})})})})),Object(v.jsxs)(Lr.a,{children:[Object(v.jsxs)(b.a.Item,{wrapperCol:{offset:8,span:16},children:["Disminucion apetito ",Object(v.jsx)(qe.a,{onChange:function(){return u(!o)}})," Aumento Apetito"]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:Object(v.jsx)(b.a.Item,{label:"Disminucion Apetito",name:"6",rules:[{required:!o,message:"Selecciona una opcion"}],children:Object(v.jsx)(bt.a.Group,{disabled:o,children:Object(v.jsx)(G.b,{direction:"vertical",children:Pr.map((function(e,a){return Object(v.jsxs)(bt.a,{value:a,children:[" ",e," "]})}))})})})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(b.a.Item,{label:"Aumento Apetito",name:"6",rules:[{required:o,message:"Selecciona una opcion"}],children:Object(v.jsx)(bt.a.Group,{disabled:!o,children:Object(v.jsx)(G.b,{direction:"vertical",children:Dr.map((function(e,a){return Object(v.jsxs)(bt.a,{value:a,children:[" ",e," "]})}))})})})})]})]}),Object(v.jsxs)(Lr.a,{children:[Object(v.jsxs)(b.a.Item,{wrapperCol:{offset:8,span:16},children:["Disminucion de Peso ",Object(v.jsx)(qe.a,{onChange:function(){return r(!s)}})," Aumento de Peso"]}),Object(v.jsxs)(d.a,{children:[Object(v.jsx)(j.a,{span:10,children:Object(v.jsx)(b.a.Item,{label:"Perdida de Peso",name:"8",rules:[{required:!s,message:"Selecciona una opcion"}],children:Object(v.jsx)(bt.a.Group,{disabled:s,children:Object(v.jsx)(G.b,{direction:"vertical",children:Ar.map((function(e,a){return Object(v.jsxs)(bt.a,{value:a,children:[" ",e," "]})}))})})})}),Object(v.jsx)(j.a,{children:Object(v.jsx)(b.a.Item,{label:"Aumento Peso",name:"8",rules:[{required:s,message:"Selecciona una opcion"}],children:Object(v.jsx)(bt.a.Group,{disabled:!s,children:Object(v.jsx)(G.b,{direction:"vertical",children:Rr.map((function(e,a){return Object(v.jsxs)(bt.a,{value:a,children:[" ",e," "]})}))})})})})]})]}),Object(v.jsx)("br",{}),Mr.map((function(e){return Object(v.jsx)(b.a.Item,{label:e.n+". "+e.pregunta,name:e.n,rules:[{required:!0,message:"Selecciona una opcion"}],children:Object(v.jsx)(bt.a.Group,{children:Object(v.jsx)(G.b,{direction:"vertical",children:e.respuestas.map((function(e,a){return Object(v.jsxs)(bt.a,{value:a,children:[" ",e," "]})}))})})})})),Object(v.jsx)(b.a.Item,{wrapperCol:{offset:8,span:16},children:Object(v.jsx)(O.a,{type:"primary",htmlType:"submit",children:"Guardar"})})]})]}):Object(v.jsx)("div",{style:{paddingTop:180},children:Object(v.jsxs)("div",{style:{margin:"auto",width:"40%",textAlign:"center"},children:[Object(v.jsx)("h3",{children:"Gracias por contestar la encuesta"}),Object(v.jsx)("img",{width:256,src:R,alt:"recreamedLogo",style:{margin:"auto"}})]})})}function Hr(){var e=Object(o.f)(),a=e.idmedico,t=e.idpaciente,n=e.key;return console.log(n),Object(v.jsx)("div",{children:Object(v.jsx)(zr,{idmedico:a,idpaciente:t,token:n})})}function Br(){var e=Object(o.f)(),a=e.idmedico,t=e.idpaciente,n=e.key;return console.log(n),Object(v.jsx)("div",{children:Object(v.jsx)(mt,{idmedico:a,idpaciente:t,token:n})})}var Gr=localStorage.getItem("userType");function Ur(){if(!localStorage.getItem("sessionToken"))return console.log("tok:",localStorage.getItem("sessionToken")),Object(v.jsx)(i.a,{children:Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{path:"/escalas_public/:idmedico/:idpaciente/:key",children:Object(v.jsx)(Nr,{})}),Object(v.jsx)(o.a,{path:"/depresion_public/:idmedico/:idpaciente/:key",children:Object(v.jsx)(Hr,{})}),Object(v.jsx)(o.a,{path:"/dolor_public/:idmedico/:idpaciente/:key",children:Object(v.jsx)(Br,{})}),Object(v.jsx)(o.a,{path:"/register",children:Object(v.jsx)(K,{})}),Object(v.jsx)(i.a,{path:"/",children:Object(v.jsx)(M,{})})]})});switch(Gr){case"SuperAdministrador":return Object(v.jsx)(kr,{});case"Administrador":return Object(v.jsx)(Ns,{});case"Recepcion":return Object(v.jsx)(qn,{});case"Paciente":return Object(v.jsx)(Zn,{});case"Medico":return Object(v.jsx)(kt,{});default:return"foo"}}c.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(Ur,{})}),document.getElementById("root"))}},[[814,1,2]]]);
//# sourceMappingURL=main.35225e76.chunk.js.map