{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Table,Avatar}from'antd';import{UserOutlined}from'@ant-design/icons';import{getData}from'../../resources';import Loading from'../../loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function HospitalTab(props){const[receptorsrData,setReceptorsData]=useState([]);const[loading,setLoading]=useState(false);// Before all, get DoctorsData\nuseEffect(()=>{getReceptorsData();},[]);const getReceptorsData=()=>{getData('users_by_rol/Recepcion').then(rs=>{setReceptorsData(rs);}).finally(()=>setLoading(false));};const columns=[{title:'Avatar',dataIndex:'avatar',key:'avatar',render:(_,_ref)=>{let{avatar}=_ref;return avatar.length>9?/*#__PURE__*/_jsx(\"img\",{width:64,src:'https://api.recreamed.com/images/'+avatar,alt:\"ProfilePic\"}):/*#__PURE__*/_jsx(Avatar,{size:64,icon:/*#__PURE__*/_jsx(UserOutlined,{}),className:\"btnIconCentered\"});}},{title:'Nombre',dataIndex:'name',key:'name'},{title:'Correo',dataIndex:'email',key:'email'},{title:'Telefono',dataIndex:'telefono',key:'telefono'}];const myReceptors=id_hospital=>{let doctorsFound=[];receptorsrData.forEach(doctor=>{doctor.horarios.forEach(horario=>{if(!doctorsFound.includes(doctor)&&horario.sucursal._id===id_hospital)doctorsFound.push(doctor);});});console.log(\"Founds for \".concat(id_hospital,\": \"),doctorsFound);return doctorsFound;};const doctoresData=myReceptors(props.id_hospital);// Get medicos data before render TAble\n// Filter doctors of each hospital\nif(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Recepcionistas del hospital \",props.hospital]}),/*#__PURE__*/_jsx(Table,{dataSource:doctoresData,columns:columns})]});}","map":{"version":3,"names":["React","useEffect","useState","Table","Avatar","UserOutlined","getData","Loading","jsx","_jsx","jsxs","_jsxs","HospitalTab","props","receptorsrData","setReceptorsData","loading","setLoading","getReceptorsData","then","rs","finally","columns","title","dataIndex","key","render","_","_ref","avatar","length","width","src","alt","size","icon","className","myReceptors","id_hospital","doctorsFound","forEach","doctor","horarios","horario","includes","sucursal","_id","push","console","log","concat","doctoresData","children","hospital","dataSource"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/admHospitalViews/receptionists/dash.receptionists.hospitalTab.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Table, Avatar } from 'antd'\r\nimport { UserOutlined } from '@ant-design/icons'\r\nimport { getData } from '../../resources'\r\nimport Loading from '../../loading'\r\n\r\nexport default function HospitalTab(props) {\r\n  const [receptorsrData, setReceptorsData] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  // Before all, get DoctorsData\r\n  useEffect(() => { getReceptorsData() }, [])\r\n  const getReceptorsData = () => {\r\n    getData('users_by_rol/Recepcion').then((rs) => { setReceptorsData(rs) }).finally(() => setLoading(false))\r\n  }\r\n  const columns = [\r\n    {\r\n      title: 'Avatar',\r\n      dataIndex: 'avatar',\r\n      key: 'avatar',\r\n      render: (_, { avatar }) => {\r\n        return avatar.length > 9 ?\r\n          <img width={64} src={'https://api.recreamed.com/images/' + avatar} alt='ProfilePic' /> :\r\n          <Avatar size={64} icon={<UserOutlined />} className='btnIconCentered' />\r\n      }\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Correo',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'Telefono',\r\n      dataIndex: 'telefono',\r\n      key: 'telefono',\r\n    },\r\n  ];\r\n  const myReceptors = (id_hospital) => {\r\n    let doctorsFound = [];\r\n    receptorsrData.forEach(doctor => {\r\n      doctor.horarios.forEach(horario => {\r\n        if (!doctorsFound.includes(doctor) && horario.sucursal._id === id_hospital) doctorsFound.push(doctor)\r\n      });\r\n    });\r\n    console.log(`Founds for ${id_hospital}: `, doctorsFound)\r\n    return doctorsFound;\r\n  }\r\n  const doctoresData = myReceptors(props.id_hospital); // Get medicos data before render TAble\r\n  // Filter doctors of each hospital\r\n\r\n\r\n  if (loading) return <Loading />\r\n\r\n  return <div>\r\n    <h6>Recepcionistas del hospital {props.hospital}</h6>\r\n    <Table dataSource={doctoresData} columns={columns} />\r\n  </div>\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}