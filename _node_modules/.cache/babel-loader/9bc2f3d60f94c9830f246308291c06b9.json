{"ast":null,"code":"var __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nimport { error } from '../utils/helper';\nimport { builtinlib } from '../lib/builtinlib';\nexport function useLibrary(namespace, publicLibrary) {\n  const library = Object.assign(Object.assign({}, builtinlib()), publicLibrary);\n  const create = type => {\n    if (typeof type !== 'string') return type;\n    const key = \"\".concat(namespace, \".\").concat(type);\n    return library[key] || error(\"Unknown Component: \".concat(key));\n  };\n  const use = (options, context) => {\n    const {\n        type\n      } = options,\n      rest = __rest(options, [\"type\"]);\n    if (!type) error(\"Plot type is required!\");\n    const currentLibrary = create(type);\n    return currentLibrary === null || currentLibrary === void 0 ? void 0 : currentLibrary(rest, context);\n  };\n  return [use, create];\n}\nexport function documentOf(library) {\n  const {\n    canvas,\n    group\n  } = library;\n  return (canvas === null || canvas === void 0 ? void 0 : canvas.document) || (group === null || group === void 0 ? void 0 : group.ownerDocument) || error(\"Cannot find library document\");\n}","map":{"version":3,"names":["error","builtinlib","useLibrary","namespace","publicLibrary","library","Object","assign","create","type","key","concat","use","options","context","rest","__rest","currentLibrary","documentOf","canvas","group","document","ownerDocument"],"sources":["src/runtime/library.ts"],"sourcesContent":[null],"mappings":";;;;;;;;AACA,SAASA,KAAK,QAAQ,iBAAiB;AACvC,SAASC,UAAU,QAAQ,mBAAmB;AAQ9C,OAAM,SAAUC,UAAUA,CAKxBC,SAAgC,EAChCC,aAAwB;EAExB,MAAMC,OAAO,GAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAQN,UAAU,EAAE,GAAKG,aAAa,CAAE;EAErD,MAAMI,MAAM,GAAIC,IAAe,IAAI;IACjC,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE,OAAOA,IAAI;IACzC,MAAMC,GAAG,MAAAC,MAAA,CAAMR,SAAS,OAAAQ,MAAA,CAAIF,IAAI,CAAE;IAClC,OAAOJ,OAAO,CAACK,GAAG,CAAC,IAAIV,KAAK,uBAAAW,MAAA,CAAuBD,GAAG,CAAE,CAAC;EAC3D,CAAC;EAED,MAAME,GAAG,GAAGA,CAACC,OAAU,EAAEC,OAAQ,KAAI;IACnC,MAAM;QAAEL;MAAI,IAAcI,OAAO;MAAhBE,IAAI,GAAAC,MAAA,CAAKH,OAAO,EAA3B,QAAiB,CAAU;IACjC,IAAI,CAACJ,IAAI,EAAET,KAAK,yBAAyB,CAAC;IAC1C,MAAMiB,cAAc,GAAGT,MAAM,CAACC,IAAI,CAAC;IACnC,OAAOQ,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAGF,IAAI,EAAED,OAAO,CAAC;EACxC,CAAC;EAED,OAAO,CAACF,GAAG,EAAEJ,MAAM,CAAC;AACtB;AAEA,OAAM,SAAUU,UAAUA,CAACb,OAAkB;EAC3C,MAAM;IAAEc,MAAM;IAAEC;EAAK,CAAE,GAAGf,OAAO;EACjC,OACE,CAAAc,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEE,QAAQ,MAChBD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEE,aAAa,KACpBtB,KAAK,+BAA+B,CAAC;AAEzC"},"metadata":{},"sourceType":"module"}