{"ast":null,"code":"import React,{useState,useEffect}from'react';import{API,deleteData,sendDataBody}from'../../resources';import{Calendar,dayjsLocalizer}from'react-big-calendar';import'react-big-calendar/lib/css/react-big-calendar.css';import{Modal,Popconfirm,Button,Select}from'antd';import dayjs from'dayjs';import CreateCita,{CreateCitaForm}from'./create-cita-for-medic';import Loading from'../../loading';import DetailsCita from'./details-cita';import RegisterPatientReception from'./register.patient';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const localizer=dayjsLocalizer(dayjs);// admin and receipt shares hospital-tab.citas and create-cita-for-medic and details.cita\n// ONLY RECEIPT CANT DELETE, SO, FIRST EDIT RECEIPTIONIST\nconst HospitalTab=_ref=>{let{id_hospital,hospital}=_ref;const[citaForEdit,setCitaForEdit]=useState({});const[isModalOpen,setIsModalOpen]=useState(false);const showModal=()=>{setIsModalOpen(true);};// Tools for createCita Modal\nconst[fecha_hora,setFecha_hora]=useState('');const[isCreateModalOpen,setIsCreateModalOpen]=useState(false);// for pass to create cita model\nconst[pacientesData,setPacientesData]=useState([]);const[serviceList,setServiceList]=useState(null);const[citasData,setCitasData]=useState(null);const[loadedSuccessfully,setLoadedSuccessfully]=useState(false);const[initialDates,setInitialDates]=useState(null);useEffect(()=>{getPatientsData();},[]);const getPatientsData=()=>{fetch(API+\"users/hospital/\".concat(id_hospital)).then(response=>response.json()).then(medicosResponse=>{console.log('medicos response: ',medicosResponse);let allServices=[];const idmeds=medicosResponse.map(doc=>{allServices=allServices.concat(doc.configuracion.tratamientos_ofrecidos);// Extract tratamientos ofrecdos to create an unique list\nreturn doc._id;});console.log('Services: ',allServices);setServiceList(allServices);// Llamada al segundo API\nreturn fetch(API+'pacientes/medicos',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({medicos:idmeds})});}).then(response=>response.json()).then(pacientesResponse=>{console.log('Pacientes response: ',pacientesResponse);pacientesResponse.forEach(paciente=>{paciente.label=paciente.name;paciente.value=paciente._id;});setPacientesData(pacientesResponse);}).catch(error=>{// Manejar errores\nconsole.error('Error:',error);});};useEffect(()=>{// Verificar si ambos sets de datos están disponibles y tienen contenido\nif(serviceList!==null&&serviceList.length>0&&pacientesData!==null){const fechaActual=new Date();// Calcular la fecha de hace una semana\nconst fechaHaceUnaSemana=new Date();fechaHaceUnaSemana.setDate(fechaActual.getDate()-7);// Calcular la fecha dentro de una semana\nconst fechaDentroDeUnaSemana=new Date();fechaDentroDeUnaSemana.setDate(fechaActual.getDate()+31);setInitialDates({start_date:fechaHaceUnaSemana,end_date:fechaDentroDeUnaSemana});// Nos servirá más adelante al crear citas\ngetCitasData(fechaHaceUnaSemana,fechaDentroDeUnaSemana);// setLoadedSuccessfully(true);\n}},[serviceList,pacientesData]);const getCitasData=async function(){let _start_date=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialDates.start_date;let _end_date=arguments.length>1&&arguments[1]!==undefined?arguments[1]:initialDates.end_date;const body={start_date:_start_date,end_date:_end_date};await sendDataBody(\"citas/sucursal/\".concat(id_hospital),body).then(rs=>{// console.log('resp ', rs)\nrs.forEach(cita=>{var _cita$duracion,_cita$usuario;const servicio=cita.id_servicio;// Colorze cita\nconst servicioInfo=serviceList.find(servicioItem=>servicioItem._id===servicio);if(servicioInfo){cita.color=servicioInfo.color;}cita.start=new Date(Date.parse(cita.fecha_hora));const endDate=new Date(Date.parse(cita.fecha_hora));endDate.setTime(endDate.getTime()+1*((_cita$duracion=cita.duracion)!==null&&_cita$duracion!==void 0?_cita$duracion:60)*60*1000);cita.end=new Date(Date.parse(endDate));cita.title=(_cita$usuario=cita.usuario)===null||_cita$usuario===void 0?void 0:_cita$usuario.name;cita.key=cita._id;});setCitasData(rs);console.log('Citas data at end ',citasData);setLoadedSuccessfully(true);// setLoading(false)\n});};// Select cita to show details and show confirm button\nconst selectEvent=e=>{console.log('For eedit',e);if(!e.doctor)e.doctor=e.medico;// For details\nif(!e.paciente)e.paciente=e.usuario;// For details\nif(e.medico&&e.medico._id)e.medico=e.medico._id;// For edit\nif(e.usuario&&e.usuario._id)e.usuario=e.usuario._id;// For edit\ne.fecha_hora=dayjs(e.fecha_hora);//For edit \nsetCitaForEdit(e);if(citaForEdit)showModal();};const handleSlotSelection=_ref2=>{let{start,end,action}=_ref2;setFecha_hora(dayjs(start));setIsCreateModalOpen(true);return{style:{backgroundColor:'red'}};};const eventStyleGetter=(event,start,end,isSelected)=>{var style={backgroundColor:event.color,borderRadius:'4px',opacity:0.8,color:'white',border:'0px',display:'block'};return{style:style};};if(serviceList===null||pacientesData===null){// Muestra un mensaje de carga mientras se obtienen los datos\nreturn/*#__PURE__*/_jsx(Loading,{});}if(loadedSuccessfully){// Mostrar el alert solo si los datos cargaron correctamente\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(RegisterPatientReception,{getPacientesData:getPatientsData}),/*#__PURE__*/_jsx(Calendar,{scrollToTime:new Date(Date.now()),selectable:\"true\",localizer:localizer,events:citasData,eventPropGetter:eventStyleGetter,startAccessor:\"start\",endAccessor:\"end\",style:{height:500},messages:{next:\"Sig\",previous:\"Ant\",today:\"Hoy\",month:\"Mes\",week:\"Semana\",day:\"Día\"},defaultView:\"week\",onDoubleClickEvent:e=>console.log(e),onSelectEvent:selectEvent,onSelecting:e=>console.log(e)// onSelectSlot={handleSlotSelection}\n,onSelectSlot:handleSlotSelection,onRangeChange:range=>{console.log('Start ',range);console.log('End ',range.end);}}),/*#__PURE__*/_jsx(DetailsCita,{citaForEdit:citaForEdit,getCitasData:getCitasData,id_hospital:id_hospital,isModalOpen:isModalOpen,pacientesData:pacientesData,setIsModalOpen:setIsModalOpen}),/*#__PURE__*/_jsx(CreateCita,{setIsModalOpen:setIsCreateModalOpen,isOpenModal:isCreateModalOpen,hospital:id_hospital,fecha_hora:fecha_hora,getCitasData:getCitasData,pacientesData:pacientesData})]});}// Si los datos no cargaron correctamente, muestra un mensaje de error\nreturn/*#__PURE__*/_jsx(\"p\",{children:\"Citas no cargadas correctamente\"});};export default HospitalTab;","map":{"version":3,"names":["React","useState","useEffect","API","deleteData","sendDataBody","Calendar","dayjsLocalizer","Modal","Popconfirm","Button","Select","dayjs","CreateCita","CreateCitaForm","Loading","DetailsCita","RegisterPatientReception","jsx","_jsx","jsxs","_jsxs","localizer","HospitalTab","_ref","id_hospital","hospital","citaForEdit","setCitaForEdit","isModalOpen","setIsModalOpen","showModal","fecha_hora","setFecha_hora","isCreateModalOpen","setIsCreateModalOpen","pacientesData","setPacientesData","serviceList","setServiceList","citasData","setCitasData","loadedSuccessfully","setLoadedSuccessfully","initialDates","setInitialDates","getPatientsData","fetch","concat","then","response","json","medicosResponse","console","log","allServices","idmeds","map","doc","configuracion","tratamientos_ofrecidos","_id","method","headers","body","JSON","stringify","medicos","pacientesResponse","forEach","paciente","label","name","value","catch","error","length","fechaActual","Date","fechaHaceUnaSemana","setDate","getDate","fechaDentroDeUnaSemana","start_date","end_date","getCitasData","_start_date","arguments","undefined","_end_date","rs","cita","_cita$duracion","_cita$usuario","servicio","id_servicio","servicioInfo","find","servicioItem","color","start","parse","endDate","setTime","getTime","duracion","end","title","usuario","key","selectEvent","e","doctor","medico","handleSlotSelection","_ref2","action","style","backgroundColor","eventStyleGetter","event","isSelected","borderRadius","opacity","border","display","children","getPacientesData","scrollToTime","now","selectable","events","eventPropGetter","startAccessor","endAccessor","height","messages","next","previous","today","month","week","day","defaultView","onDoubleClickEvent","onSelectEvent","onSelecting","onSelectSlot","onRangeChange","range","isOpenModal"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/admHospitalViews/citas/hospital-tab.citas.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { API, deleteData, sendDataBody } from '../../resources';\r\nimport { Calendar, dayjsLocalizer } from 'react-big-calendar';\r\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\r\nimport { Modal, Popconfirm, Button, Select } from 'antd'\r\nimport dayjs from 'dayjs';\r\nimport CreateCita, { CreateCitaForm } from './create-cita-for-medic';\r\nimport Loading from '../../loading';\r\nimport DetailsCita from './details-cita';\r\nimport RegisterPatientReception from './register.patient';\r\n\r\nconst localizer = dayjsLocalizer(dayjs)\r\n\r\n// admin and receipt shares hospital-tab.citas and create-cita-for-medic and details.cita\r\n// ONLY RECEIPT CANT DELETE, SO, FIRST EDIT RECEIPTIONIST\r\n\r\nconst HospitalTab = ({ id_hospital, hospital }) => {\r\n\r\n    const [citaForEdit, setCitaForEdit] = useState({})\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const showModal = () => { setIsModalOpen(true) }\r\n\r\n\r\n    // Tools for createCita Modal\r\n    const [fecha_hora, setFecha_hora] = useState('')\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false)\r\n    // for pass to create cita model\r\n    const [pacientesData, setPacientesData] = useState([])\r\n\r\n    const [serviceList, setServiceList] = useState(null);\r\n\r\n    const [citasData, setCitasData] = useState(null)\r\n\r\n    const [loadedSuccessfully, setLoadedSuccessfully] = useState(false);\r\n\r\n    const [initialDates, setInitialDates] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n        getPatientsData()\r\n    }, []);\r\n\r\n\r\n    const getPatientsData = () => {\r\n        fetch(API + `users/hospital/${id_hospital}`)\r\n            .then(response => response.json())\r\n            .then(medicosResponse => {\r\n                console.log('medicos response: ', medicosResponse)\r\n                let allServices = [];\r\n                const idmeds = medicosResponse.map(doc => {\r\n                    allServices = allServices.concat(doc.configuracion.tratamientos_ofrecidos) // Extract tratamientos ofrecdos to create an unique list\r\n                    return doc._id\r\n                })\r\n                console.log('Services: ', allServices)\r\n                setServiceList(allServices)\r\n\r\n                // Llamada al segundo API\r\n                return fetch(API + 'pacientes/medicos', {\r\n                    method: \"POST\",\r\n                    headers: { \"Content-Type\": \"application/json\" },\r\n                    body: JSON.stringify({ medicos: idmeds })\r\n                });\r\n            })\r\n            .then(response => response.json())\r\n            .then(pacientesResponse => {\r\n                console.log('Pacientes response: ', pacientesResponse)\r\n                pacientesResponse.forEach(paciente => {\r\n                    paciente.label = paciente.name; paciente.value = paciente._id;\r\n                })\r\n                setPacientesData(pacientesResponse);\r\n            })\r\n            .catch(error => {\r\n                // Manejar errores\r\n                console.error('Error:', error);\r\n            })\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        // Verificar si ambos sets de datos están disponibles y tienen contenido\r\n        if (serviceList !== null && serviceList.length > 0 && pacientesData !== null) {\r\n\r\n            const fechaActual = new Date();\r\n\r\n            // Calcular la fecha de hace una semana\r\n            const fechaHaceUnaSemana = new Date();\r\n            fechaHaceUnaSemana.setDate(fechaActual.getDate() - 7);\r\n\r\n            // Calcular la fecha dentro de una semana\r\n            const fechaDentroDeUnaSemana = new Date();\r\n            fechaDentroDeUnaSemana.setDate(fechaActual.getDate() + 31);\r\n            setInitialDates({ start_date: fechaHaceUnaSemana, end_date: fechaDentroDeUnaSemana }) // Nos servirá más adelante al crear citas\r\n            getCitasData(fechaHaceUnaSemana, fechaDentroDeUnaSemana)\r\n            // setLoadedSuccessfully(true);\r\n        }\r\n    }, [serviceList, pacientesData]);\r\n\r\n    const getCitasData = async (_start_date = initialDates.start_date, _end_date = initialDates.end_date) => {\r\n        const body = { start_date: _start_date, end_date: _end_date }\r\n\r\n        await sendDataBody(`citas/sucursal/${id_hospital}`, body).then((rs) => {\r\n            // console.log('resp ', rs)\r\n            rs.forEach((cita) => {\r\n                const servicio = cita.id_servicio; // Colorze cita\r\n                const servicioInfo = serviceList.find(servicioItem => servicioItem._id === servicio);\r\n                if (servicioInfo) {\r\n                    cita.color = servicioInfo.color;\r\n                }\r\n\r\n                cita.start = new Date(Date.parse(cita.fecha_hora));\r\n                const endDate = new Date(Date.parse(cita.fecha_hora));\r\n                endDate.setTime(endDate.getTime() + 1 * (cita.duracion ?? 60) * 60 * 1000)\r\n                cita.end = new Date(Date.parse(endDate));\r\n                cita.title = cita.usuario?.name;\r\n                cita.key = cita._id;\r\n            });\r\n            setCitasData(rs)\r\n            console.log('Citas data at end ', citasData)\r\n            setLoadedSuccessfully(true);\r\n\r\n            // setLoading(false)\r\n        })\r\n    }\r\n\r\n    // Select cita to show details and show confirm button\r\n    const selectEvent = (e) => {\r\n        console.log('For eedit', e)\r\n        if (!e.doctor) e.doctor = e.medico; // For details\r\n        if (!e.paciente) e.paciente = e.usuario; // For details\r\n        if (e.medico && e.medico._id) e.medico = e.medico._id;  // For edit\r\n        if (e.usuario && e.usuario._id) e.usuario = e.usuario._id;  // For edit\r\n        e.fecha_hora = dayjs(e.fecha_hora) //For edit \r\n        setCitaForEdit(e)\r\n        if (citaForEdit) showModal()\r\n    }\r\n\r\n\r\n    const handleSlotSelection = ({ start, end, action }) => {\r\n        setFecha_hora(dayjs(start))\r\n        setIsCreateModalOpen(true)\r\n        return { style: { backgroundColor: 'red' } };\r\n    };\r\n\r\n    const eventStyleGetter = (event, start, end, isSelected) => {\r\n\r\n        var style = {\r\n            backgroundColor: event.color,\r\n            borderRadius: '4px',\r\n            opacity: 0.8,\r\n            color: 'white',\r\n            border: '0px',\r\n            display: 'block'\r\n        };\r\n        return {\r\n            style: style\r\n        };\r\n    }\r\n\r\n    if (serviceList === null || pacientesData === null) {\r\n        // Muestra un mensaje de carga mientras se obtienen los datos\r\n        return <Loading />\r\n    }\r\n\r\n    if (loadedSuccessfully) {\r\n        // Mostrar el alert solo si los datos cargaron correctamente\r\n        return (\r\n            <div>\r\n\r\n                <RegisterPatientReception getPacientesData={getPatientsData} />\r\n\r\n                <Calendar\r\n                    scrollToTime={new Date(Date.now())}\r\n                    selectable='true'\r\n                    localizer={localizer}\r\n                    events={citasData}\r\n                    eventPropGetter={eventStyleGetter}\r\n                    startAccessor=\"start\"\r\n                    endAccessor=\"end\"\r\n                    style={{ height: 500 }}\r\n                    messages={{\r\n                        next: \"Sig\",\r\n                        previous: \"Ant\",\r\n                        today: \"Hoy\",\r\n                        month: \"Mes\",\r\n                        week: \"Semana\",\r\n                        day: \"Día\"\r\n                    }}\r\n                    defaultView=\"week\"\r\n                    onDoubleClickEvent={(e) => console.log(e)}\r\n                    onSelectEvent={selectEvent}\r\n                    onSelecting={(e) => console.log(e)}\r\n                    // onSelectSlot={handleSlotSelection}\r\n                    onSelectSlot={handleSlotSelection}\r\n                    onRangeChange={(range) => {\r\n\r\n                        console.log('Start ', range)\r\n                        console.log('End ', range.end)\r\n\r\n                    }}\r\n                />\r\n\r\n                <DetailsCita citaForEdit={citaForEdit} getCitasData={getCitasData} id_hospital={id_hospital} isModalOpen={isModalOpen} pacientesData={pacientesData} setIsModalOpen={setIsModalOpen} />\r\n\r\n                <CreateCita setIsModalOpen={setIsCreateModalOpen} isOpenModal={isCreateModalOpen} hospital={id_hospital} fecha_hora={fecha_hora} getCitasData={getCitasData} pacientesData={pacientesData} />\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Si los datos no cargaron correctamente, muestra un mensaje de error\r\n    return <p>Citas no cargadas correctamente</p>;\r\n}\r\n\r\nexport default HospitalTab;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,UAAU,CAAEC,YAAY,KAAQ,iBAAiB,CAC/D,OAASC,QAAQ,CAAEC,cAAc,KAAQ,oBAAoB,CAC7D,MAAO,mDAAmD,CAC1D,OAASC,KAAK,CAAEC,UAAU,CAAEC,MAAM,CAAEC,MAAM,KAAQ,MAAM,CACxD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,EAAIC,cAAc,KAAQ,yBAAyB,CACpE,MAAO,CAAAC,OAAO,KAAM,eAAe,CACnC,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,MAAO,CAAAC,wBAAwB,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1D,KAAM,CAAAC,SAAS,CAAGf,cAAc,CAACK,KAAK,CAAC,CAEvC;AACA;AAEA,KAAM,CAAAW,WAAW,CAAGC,IAAA,EAA+B,IAA9B,CAAEC,WAAW,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAE1C,KAAM,CAACG,WAAW,CAAEC,cAAc,CAAC,CAAG3B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAClD,KAAM,CAAC4B,WAAW,CAAEC,cAAc,CAAC,CAAG7B,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAA8B,SAAS,CAAGA,CAAA,GAAM,CAAED,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAGhD;AACA,KAAM,CAACE,UAAU,CAAEC,aAAa,CAAC,CAAGhC,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACiC,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlC,QAAQ,CAAC,KAAK,CAAC,CACjE;AACA,KAAM,CAACmC,aAAa,CAAEC,gBAAgB,CAAC,CAAGpC,QAAQ,CAAC,EAAE,CAAC,CAEtD,KAAM,CAACqC,WAAW,CAAEC,cAAc,CAAC,CAAGtC,QAAQ,CAAC,IAAI,CAAC,CAEpD,KAAM,CAACuC,SAAS,CAAEC,YAAY,CAAC,CAAGxC,QAAQ,CAAC,IAAI,CAAC,CAEhD,KAAM,CAACyC,kBAAkB,CAAEC,qBAAqB,CAAC,CAAG1C,QAAQ,CAAC,KAAK,CAAC,CAEnE,KAAM,CAAC2C,YAAY,CAAEC,eAAe,CAAC,CAAG5C,QAAQ,CAAC,IAAI,CAAC,CAGtDC,SAAS,CAAC,IAAM,CACZ4C,eAAe,CAAC,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAGN,KAAM,CAAAA,eAAe,CAAGA,CAAA,GAAM,CAC1BC,KAAK,CAAC5C,GAAG,mBAAA6C,MAAA,CAAqBvB,WAAW,CAAE,CAAC,CACvCwB,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,eAAe,EAAI,CACrBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEF,eAAe,CAAC,CAClD,GAAI,CAAAG,WAAW,CAAG,EAAE,CACpB,KAAM,CAAAC,MAAM,CAAGJ,eAAe,CAACK,GAAG,CAACC,GAAG,EAAI,CACtCH,WAAW,CAAGA,WAAW,CAACP,MAAM,CAACU,GAAG,CAACC,aAAa,CAACC,sBAAsB,CAAC,CAAC;AAC3E,MAAO,CAAAF,GAAG,CAACG,GAAG,CAClB,CAAC,CAAC,CACFR,OAAO,CAACC,GAAG,CAAC,YAAY,CAAEC,WAAW,CAAC,CACtChB,cAAc,CAACgB,WAAW,CAAC,CAE3B;AACA,MAAO,CAAAR,KAAK,CAAC5C,GAAG,CAAG,mBAAmB,CAAE,CACpC2D,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,OAAO,CAAEX,MAAO,CAAC,CAC5C,CAAC,CAAC,CACN,CAAC,CAAC,CACDP,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACmB,iBAAiB,EAAI,CACvBf,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEc,iBAAiB,CAAC,CACtDA,iBAAiB,CAACC,OAAO,CAACC,QAAQ,EAAI,CAClCA,QAAQ,CAACC,KAAK,CAAGD,QAAQ,CAACE,IAAI,CAAEF,QAAQ,CAACG,KAAK,CAAGH,QAAQ,CAACT,GAAG,CACjE,CAAC,CAAC,CACFxB,gBAAgB,CAAC+B,iBAAiB,CAAC,CACvC,CAAC,CAAC,CACDM,KAAK,CAACC,KAAK,EAAI,CACZ;AACAtB,OAAO,CAACsB,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAClC,CAAC,CAAC,CACV,CAAC,CAIDzE,SAAS,CAAC,IAAM,CACZ;AACA,GAAIoC,WAAW,GAAK,IAAI,EAAIA,WAAW,CAACsC,MAAM,CAAG,CAAC,EAAIxC,aAAa,GAAK,IAAI,CAAE,CAE1E,KAAM,CAAAyC,WAAW,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAE9B;AACA,KAAM,CAAAC,kBAAkB,CAAG,GAAI,CAAAD,IAAI,CAAC,CAAC,CACrCC,kBAAkB,CAACC,OAAO,CAACH,WAAW,CAACI,OAAO,CAAC,CAAC,CAAG,CAAC,CAAC,CAErD;AACA,KAAM,CAAAC,sBAAsB,CAAG,GAAI,CAAAJ,IAAI,CAAC,CAAC,CACzCI,sBAAsB,CAACF,OAAO,CAACH,WAAW,CAACI,OAAO,CAAC,CAAC,CAAG,EAAE,CAAC,CAC1DpC,eAAe,CAAC,CAAEsC,UAAU,CAAEJ,kBAAkB,CAAEK,QAAQ,CAAEF,sBAAuB,CAAC,CAAC,CAAC;AACtFG,YAAY,CAACN,kBAAkB,CAAEG,sBAAsB,CAAC,CACxD;AACJ,CACJ,CAAC,CAAE,CAAC5C,WAAW,CAAEF,aAAa,CAAC,CAAC,CAEhC,KAAM,CAAAiD,YAAY,CAAG,cAAAA,CAAA,CAAoF,IAA7E,CAAAC,WAAW,CAAAC,SAAA,CAAAX,MAAA,IAAAW,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG3C,YAAY,CAACuC,UAAU,IAAE,CAAAM,SAAS,CAAAF,SAAA,CAAAX,MAAA,IAAAW,SAAA,MAAAC,SAAA,CAAAD,SAAA,IAAG3C,YAAY,CAACwC,QAAQ,CAChG,KAAM,CAAApB,IAAI,CAAG,CAAEmB,UAAU,CAAEG,WAAW,CAAEF,QAAQ,CAAEK,SAAU,CAAC,CAE7D,KAAM,CAAApF,YAAY,mBAAA2C,MAAA,CAAmBvB,WAAW,EAAIuC,IAAI,CAAC,CAACf,IAAI,CAAEyC,EAAE,EAAK,CACnE;AACAA,EAAE,CAACrB,OAAO,CAAEsB,IAAI,EAAK,KAAAC,cAAA,CAAAC,aAAA,CACjB,KAAM,CAAAC,QAAQ,CAAGH,IAAI,CAACI,WAAW,CAAE;AACnC,KAAM,CAAAC,YAAY,CAAG1D,WAAW,CAAC2D,IAAI,CAACC,YAAY,EAAIA,YAAY,CAACrC,GAAG,GAAKiC,QAAQ,CAAC,CACpF,GAAIE,YAAY,CAAE,CACdL,IAAI,CAACQ,KAAK,CAAGH,YAAY,CAACG,KAAK,CACnC,CAEAR,IAAI,CAACS,KAAK,CAAG,GAAI,CAAAtB,IAAI,CAACA,IAAI,CAACuB,KAAK,CAACV,IAAI,CAAC3D,UAAU,CAAC,CAAC,CAClD,KAAM,CAAAsE,OAAO,CAAG,GAAI,CAAAxB,IAAI,CAACA,IAAI,CAACuB,KAAK,CAACV,IAAI,CAAC3D,UAAU,CAAC,CAAC,CACrDsE,OAAO,CAACC,OAAO,CAACD,OAAO,CAACE,OAAO,CAAC,CAAC,CAAG,CAAC,GAAAZ,cAAA,CAAID,IAAI,CAACc,QAAQ,UAAAb,cAAA,UAAAA,cAAA,CAAI,EAAE,CAAC,CAAG,EAAE,CAAG,IAAI,CAAC,CAC1ED,IAAI,CAACe,GAAG,CAAG,GAAI,CAAA5B,IAAI,CAACA,IAAI,CAACuB,KAAK,CAACC,OAAO,CAAC,CAAC,CACxCX,IAAI,CAACgB,KAAK,EAAAd,aAAA,CAAGF,IAAI,CAACiB,OAAO,UAAAf,aAAA,iBAAZA,aAAA,CAAcrB,IAAI,CAC/BmB,IAAI,CAACkB,GAAG,CAAGlB,IAAI,CAAC9B,GAAG,CACvB,CAAC,CAAC,CACFpB,YAAY,CAACiD,EAAE,CAAC,CAChBrC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEd,SAAS,CAAC,CAC5CG,qBAAqB,CAAC,IAAI,CAAC,CAE3B;AACJ,CAAC,CAAC,CACN,CAAC,CAED;AACA,KAAM,CAAAmE,WAAW,CAAIC,CAAC,EAAK,CACvB1D,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEyD,CAAC,CAAC,CAC3B,GAAI,CAACA,CAAC,CAACC,MAAM,CAAED,CAAC,CAACC,MAAM,CAAGD,CAAC,CAACE,MAAM,CAAE;AACpC,GAAI,CAACF,CAAC,CAACzC,QAAQ,CAAEyC,CAAC,CAACzC,QAAQ,CAAGyC,CAAC,CAACH,OAAO,CAAE;AACzC,GAAIG,CAAC,CAACE,MAAM,EAAIF,CAAC,CAACE,MAAM,CAACpD,GAAG,CAAEkD,CAAC,CAACE,MAAM,CAAGF,CAAC,CAACE,MAAM,CAACpD,GAAG,CAAG;AACxD,GAAIkD,CAAC,CAACH,OAAO,EAAIG,CAAC,CAACH,OAAO,CAAC/C,GAAG,CAAEkD,CAAC,CAACH,OAAO,CAAGG,CAAC,CAACH,OAAO,CAAC/C,GAAG,CAAG;AAC5DkD,CAAC,CAAC/E,UAAU,CAAGpB,KAAK,CAACmG,CAAC,CAAC/E,UAAU,CAAC,CAAC;AACnCJ,cAAc,CAACmF,CAAC,CAAC,CACjB,GAAIpF,WAAW,CAAEI,SAAS,CAAC,CAAC,CAChC,CAAC,CAGD,KAAM,CAAAmF,mBAAmB,CAAGC,KAAA,EAA4B,IAA3B,CAAEf,KAAK,CAAEM,GAAG,CAAEU,MAAO,CAAC,CAAAD,KAAA,CAC/ClF,aAAa,CAACrB,KAAK,CAACwF,KAAK,CAAC,CAAC,CAC3BjE,oBAAoB,CAAC,IAAI,CAAC,CAC1B,MAAO,CAAEkF,KAAK,CAAE,CAAEC,eAAe,CAAE,KAAM,CAAE,CAAC,CAChD,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAACC,KAAK,CAAEpB,KAAK,CAAEM,GAAG,CAAEe,UAAU,GAAK,CAExD,GAAI,CAAAJ,KAAK,CAAG,CACRC,eAAe,CAAEE,KAAK,CAACrB,KAAK,CAC5BuB,YAAY,CAAE,KAAK,CACnBC,OAAO,CAAE,GAAG,CACZxB,KAAK,CAAE,OAAO,CACdyB,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,OACb,CAAC,CACD,MAAO,CACHR,KAAK,CAAEA,KACX,CAAC,CACL,CAAC,CAED,GAAI/E,WAAW,GAAK,IAAI,EAAIF,aAAa,GAAK,IAAI,CAAE,CAChD;AACA,mBAAOjB,IAAA,CAACJ,OAAO,GAAE,CAAC,CACtB,CAEA,GAAI2B,kBAAkB,CAAE,CACpB;AACA,mBACIrB,KAAA,QAAAyG,QAAA,eAEI3G,IAAA,CAACF,wBAAwB,EAAC8G,gBAAgB,CAAEjF,eAAgB,CAAE,CAAC,cAE/D3B,IAAA,CAACb,QAAQ,EACL0H,YAAY,CAAE,GAAI,CAAAlD,IAAI,CAACA,IAAI,CAACmD,GAAG,CAAC,CAAC,CAAE,CACnCC,UAAU,CAAC,MAAM,CACjB5G,SAAS,CAAEA,SAAU,CACrB6G,MAAM,CAAE3F,SAAU,CAClB4F,eAAe,CAAEb,gBAAiB,CAClCc,aAAa,CAAC,OAAO,CACrBC,WAAW,CAAC,KAAK,CACjBjB,KAAK,CAAE,CAAEkB,MAAM,CAAE,GAAI,CAAE,CACvBC,QAAQ,CAAE,CACNC,IAAI,CAAE,KAAK,CACXC,QAAQ,CAAE,KAAK,CACfC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,KAAK,CACZC,IAAI,CAAE,QAAQ,CACdC,GAAG,CAAE,KACT,CAAE,CACFC,WAAW,CAAC,MAAM,CAClBC,kBAAkB,CAAGjC,CAAC,EAAK1D,OAAO,CAACC,GAAG,CAACyD,CAAC,CAAE,CAC1CkC,aAAa,CAAEnC,WAAY,CAC3BoC,WAAW,CAAGnC,CAAC,EAAK1D,OAAO,CAACC,GAAG,CAACyD,CAAC,CACjC;AAAA,CACAoC,YAAY,CAAEjC,mBAAoB,CAClCkC,aAAa,CAAGC,KAAK,EAAK,CAEtBhG,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAE+F,KAAK,CAAC,CAC5BhG,OAAO,CAACC,GAAG,CAAC,MAAM,CAAE+F,KAAK,CAAC3C,GAAG,CAAC,CAElC,CAAE,CACL,CAAC,cAEFvF,IAAA,CAACH,WAAW,EAACW,WAAW,CAAEA,WAAY,CAAC0D,YAAY,CAAEA,YAAa,CAAC5D,WAAW,CAAEA,WAAY,CAACI,WAAW,CAAEA,WAAY,CAACO,aAAa,CAAEA,aAAc,CAACN,cAAc,CAAEA,cAAe,CAAE,CAAC,cAEvLX,IAAA,CAACN,UAAU,EAACiB,cAAc,CAAEK,oBAAqB,CAACmH,WAAW,CAAEpH,iBAAkB,CAACR,QAAQ,CAAED,WAAY,CAACO,UAAU,CAAEA,UAAW,CAACqD,YAAY,CAAEA,YAAa,CAACjD,aAAa,CAAEA,aAAc,CAAE,CAAC,EAE5L,CAAC,CAEd,CAEA;AACA,mBAAOjB,IAAA,MAAA2G,QAAA,CAAG,iCAA+B,CAAG,CAAC,CACjD,CAAC,CAED,cAAe,CAAAvG,WAAW"},"metadata":{},"sourceType":"module"}