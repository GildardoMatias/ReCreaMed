{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gil\\\\Documents\\\\ReCreaMed\\\\src\\\\doctorViews\\\\pacientes\\\\code.generate.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Button, Modal, message } from 'antd';\nimport { QrcodeOutlined } from '@ant-design/icons';\nimport QRCode from \"react-qr-code\";\nimport { toBlob, toPng } from 'html-to-image';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CodeGenerate() {\n  _s();\n  const imageRef = useRef(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const url = 'https://sistema.recreamed.com/register';\n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n  const handleOk = () => {\n    setIsModalOpen(false);\n  };\n  const handleCancel = () => {\n    setIsModalOpen(false);\n  };\n  const handleDownload = async () => {\n    const dataUrl = await toPng(imageRef.current, {\n      width: 288\n    });\n\n    // download image\n    const link = document.createElement('a');\n    link.download = \"codigo-de-registro.png\";\n    link.href = dataUrl;\n    link.click();\n  };\n  const handleCopy = async () => {\n    message.info('Espere mientras se copia el codigo...');\n    toBlob(imageRef.current, {\n      width: 288\n    }).then(async function (blob) {\n      try {\n        await navigator.clipboard.write([\n        // eslint-disable-next-line no-undef\n        new ClipboardItem({\n          [blob.type]: blob\n        })]);\n        console.log(\"Image copied\");\n        message.success('Codigo Copiado al Portapapeles');\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"btnIconCentered\",\n      style: {\n        height: 30,\n        marginLeft: 6\n      },\n      onClick: showModal,\n      size: \"small\",\n      icon: /*#__PURE__*/_jsxDEV(QrcodeOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 122\n      }, this),\n      shape: \"round\",\n      type: \"primary\",\n      ghost: true,\n      children: \"Registrar con QR\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Registro por QR\",\n      open: isModalOpen,\n      onCancel: handleCancel,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: handleOk,\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 92\n      }, this)],\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Comparta el siguiente enlace para registrar un nuevo paciente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: imageRef,\n        style: {\n          background: 'white',\n          padding: '16px'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(QRCode, {\n          value: url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 83\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleDownload,\n        children: \"Descargar Codigo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleCopy,\n        style: {\n          marginLeft: 12\n        },\n        children: \"Copiar Codigo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 12\n  }, this);\n}\n_s(CodeGenerate, \"TQW7ds8lzXiYucVZvKagJsnSp/E=\");\n_c = CodeGenerate;\nvar _c;\n$RefreshReg$(_c, \"CodeGenerate\");","map":{"version":3,"names":["React","useState","useRef","Button","Modal","message","QrcodeOutlined","QRCode","toBlob","toPng","jsxDEV","_jsxDEV","CodeGenerate","_s","imageRef","isModalOpen","setIsModalOpen","url","showModal","handleOk","handleCancel","handleDownload","dataUrl","current","width","link","document","createElement","download","href","click","handleCopy","info","then","blob","navigator","clipboard","write","ClipboardItem","type","console","log","success","error","children","className","style","height","marginLeft","onClick","size","icon","fileName","_jsxFileName","lineNumber","columnNumber","shape","ghost","title","open","onCancel","footer","ref","background","padding","value","_c","$RefreshReg$"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/doctorViews/pacientes/code.generate.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport { Button, Modal, message } from 'antd'\r\nimport { QrcodeOutlined } from '@ant-design/icons';\r\nimport QRCode from \"react-qr-code\";\r\nimport { toBlob, toPng } from 'html-to-image';\r\n\r\nexport default function CodeGenerate() {\r\n\r\n    const imageRef = useRef(null);\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n    const url = 'https://sistema.recreamed.com/register'\r\n\r\n    const showModal = () => {\r\n        setIsModalOpen(true);\r\n    };\r\n    const handleOk = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n    const handleCancel = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const handleDownload = async () => {\r\n        const dataUrl = await toPng(imageRef.current, { width: 288 });\r\n\r\n        // download image\r\n        const link = document.createElement('a');\r\n        link.download = \"codigo-de-registro.png\";\r\n        link.href = dataUrl;\r\n        link.click();\r\n    }\r\n\r\n    const handleCopy = async () => {\r\n        message.info('Espere mientras se copia el codigo...')\r\n        toBlob(imageRef.current, { width: 288 })\r\n            .then(async function (blob) {\r\n                try {\r\n                    await navigator.clipboard.write([\r\n                        // eslint-disable-next-line no-undef\r\n                        new ClipboardItem({\r\n                            [blob.type]: blob\r\n                        })\r\n                    ]);\r\n                    console.log(\"Image copied\");\r\n                    message.success('Codigo Copiado al Portapapeles')\r\n                } catch (error) {\r\n                    console.error(error);\r\n                }\r\n            });\r\n    }\r\n    return <div>\r\n        <Button className='btnIconCentered' style={{ height: 30, marginLeft: 6 }} onClick={showModal} size='small' icon={<QrcodeOutlined />} shape='round' type=\"primary\" ghost >Registrar con QR</Button>\r\n\r\n        <Modal title=\"Registro por QR\" open={isModalOpen} onCancel={handleCancel} footer={[<Button type='primary' onClick={handleOk}>Cerrar</Button>]}\r\n        >\r\n\r\n            <p>Comparta el siguiente enlace para registrar un nuevo paciente</p>\r\n\r\n            <div ref={imageRef} style={{ background: 'white', padding: '16px' }}> <QRCode value={url} /> </div>\r\n            <Button onClick={handleDownload}>Descargar Codigo</Button>\r\n            <Button onClick={handleCopy} style={{ marginLeft: 12 }}>Copiar Codigo</Button>\r\n\r\n        </Modal>\r\n    </div>\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}