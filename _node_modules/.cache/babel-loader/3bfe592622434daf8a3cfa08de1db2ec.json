{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gil\\\\Documents\\\\ReCreaMed\\\\src\\\\superAdminViews\\\\hospitals\\\\dash.hospitals.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Table, Space, Button, Modal, Popconfirm } from 'antd';\nimport Loading from '../../loading';\nimport { API, deleteData } from '../../resources';\nimport Register from './register.hospital';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dash() {\n  _s();\n  const [isLoading, setILoading] = useState(true);\n  const [hospitalesData, setHospitalesData] = useState([]);\n  const [hospitalForEdit, setHospitalForEdit] = useState(null);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  useEffect(() => {\n    getHospitalesData();\n  }, []);\n  useEffect(() => {\n    getHospitalesData();\n  }, [isModalVisible]);\n  const getHospitalesData = () => {\n    fetch(API + 'sucursales').then(response => response.json()).then(data => {\n      console.log(data);\n      setHospitalesData(data);\n      setILoading(false);\n    });\n  };\n\n  // Edit Hospital\n  const editHospital = async h => {\n    await setHospitalForEdit(h);\n    setIsModalVisible(true);\n    console.log('Editar hospital: ', h);\n  };\n  // Confitmar Borrar\n  const confirm = e => {\n    console.log('toDel: ', e);\n    deleteData('sucursales/remove/' + e._id).then(() => getHospitalesData());\n  };\n  const cancel = e => {\n    console.log(e);\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n  };\n  const handleCancel = () => {\n    setIsModalVisible(false);\n  };\n\n  //Start tabla data\n  const columns = [{\n    title: 'Logo',\n    key: 'logo',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: 'https://api.recreamed.com/images/' + record.logo,\n      alt: \"Logo\",\n      width: 64\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: 'Sucursal',\n    dataIndex: 'nombre'\n  }, {\n    title: 'Ciudad_municipio',\n    dataIndex: 'ciudad_municipio',\n    defaultSortOrder: 'descend'\n  }, {\n    title: 'Colonia',\n    dataIndex: 'colonia'\n  }, {\n    title: 'calle',\n    dataIndex: 'calle'\n  }, {\n    title: 'Telefono',\n    dataIndex: 'telefono',\n    defaultSortOrder: 'descend'\n  }, {\n    title: 'Opciones',\n    key: 'action',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      size: \"middle\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        onClick: () => {\n          editHospital(record);\n        },\n        children: \"Editar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Popconfirm, {\n        title: \"Seguro que quiere borrar esta sucursal?\",\n        onConfirm: () => confirm(record),\n        onCancel: cancel,\n        okText: \"Si\",\n        cancelText: \"No\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          danger: true,\n          size: \"small\",\n          children: \"Borrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this)\n  }];\n  const onChange = (pagination, filters, sorter, extra) => {\n    console.log('params', pagination, filters, sorter, extra);\n  };\n  //End tabla data\n\n  return isLoading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 17\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Hospitales\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: hospitalesData,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      width: 800,\n      title: \"Editar Hospital\",\n      visible: isModalVisible,\n      onOk: handleOk,\n      onCancel: handleCancel,\n      destroyOnClose: true,\n      footer: [],\n      children: /*#__PURE__*/_jsxDEV(Register, {\n        hospital: hospitalForEdit,\n        setModalVisible: setIsModalVisible\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 7\n  }, this);\n}\n_s(Dash, \"dnHsofhx7h7UBfqEjjPxvXQUX7Q=\");\n_c = Dash;\nvar _c;\n$RefreshReg$(_c, \"Dash\");","map":{"version":3,"names":["React","useEffect","useState","Table","Space","Button","Modal","Popconfirm","Loading","API","deleteData","Register","jsxDEV","_jsxDEV","Dash","_s","isLoading","setILoading","hospitalesData","setHospitalesData","hospitalForEdit","setHospitalForEdit","isModalVisible","setIsModalVisible","getHospitalesData","fetch","then","response","json","data","console","log","editHospital","h","confirm","e","_id","cancel","handleOk","handleCancel","columns","title","key","render","_","record","src","logo","alt","width","fileName","_jsxFileName","lineNumber","columnNumber","dataIndex","defaultSortOrder","size","children","onClick","onConfirm","onCancel","okText","cancelText","danger","onChange","pagination","filters","sorter","extra","dataSource","visible","onOk","destroyOnClose","footer","hospital","setModalVisible","_c","$RefreshReg$"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/superAdminViews/hospitals/dash.hospitals.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Table, Space, Button, Modal, Popconfirm } from 'antd';\r\nimport Loading from '../../loading'\r\nimport { API, deleteData } from '../../resources'\r\nimport Register from './register.hospital';\r\n\r\nexport default function Dash() {\r\n\r\n  const [isLoading, setILoading] = useState(true);\r\n  const [hospitalesData, setHospitalesData] = useState([]);\r\n  const [hospitalForEdit, setHospitalForEdit] = useState(null)\r\n  const [isModalVisible, setIsModalVisible] = useState(false)\r\n\r\n  useEffect(() => {\r\n    getHospitalesData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    getHospitalesData()\r\n  }, [isModalVisible])\r\n\r\n  const getHospitalesData = () => {\r\n    fetch(API + 'sucursales')\r\n      .then(response => response.json())\r\n      .then(data => { console.log(data); setHospitalesData(data); setILoading(false); });\r\n  }\r\n\r\n  // Edit Hospital\r\n  const editHospital = async (h) => {\r\n    await setHospitalForEdit(h)\r\n    setIsModalVisible(true);\r\n    console.log('Editar hospital: ', h)\r\n  }\r\n  // Confitmar Borrar\r\n  const confirm = (e) => {\r\n    console.log('toDel: ', e);\r\n    deleteData('sucursales/remove/' + e._id).then(() => getHospitalesData())\r\n  };\r\n  const cancel = (e) => {\r\n    console.log(e);\r\n  };\r\n\r\n  const handleOk = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIsModalVisible(false);\r\n  };\r\n\r\n  //Start tabla data\r\n  const columns = [\r\n    {\r\n      title: 'Logo',\r\n      key: 'logo',\r\n      render: (_, record) => (\r\n        <img src={'https://api.recreamed.com/images/' + record.logo} alt=\"Logo\" width={64} />\r\n      ),\r\n    },\r\n    {\r\n      title: 'Sucursal',\r\n      dataIndex: 'nombre'\r\n    },\r\n    {\r\n      title: 'Ciudad_municipio',\r\n      dataIndex: 'ciudad_municipio',\r\n      defaultSortOrder: 'descend',\r\n    },\r\n    {\r\n      title: 'Colonia',\r\n      dataIndex: 'colonia',\r\n    },\r\n\r\n    {\r\n      title: 'calle',\r\n      dataIndex: 'calle',\r\n    },\r\n    {\r\n      title: 'Telefono',\r\n      dataIndex: 'telefono',\r\n      defaultSortOrder: 'descend',\r\n    },\r\n    {\r\n      title: 'Opciones',\r\n      key: 'action',\r\n      render: (_, record) => (\r\n        <Space size=\"middle\">\r\n          <Button size='small' onClick={() => { editHospital(record) }}>\r\n            Editar\r\n          </Button>\r\n          <Popconfirm\r\n            title=\"Seguro que quiere borrar esta sucursal?\"\r\n            onConfirm={() => confirm(record)}\r\n            onCancel={cancel}\r\n            okText=\"Si\"\r\n            cancelText=\"No\"\r\n          >\r\n            <Button danger size='small'>\r\n              Borrar\r\n            </Button>\r\n          </Popconfirm>\r\n\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const onChange = (pagination, filters, sorter, extra) => {\r\n    console.log('params', pagination, filters, sorter, extra);\r\n  }\r\n  //End tabla data\r\n\r\n  return (\r\n    isLoading ? <Loading /> :\r\n      <div>\r\n        <h1>Hospitales</h1>\r\n        <Table columns={columns} dataSource={hospitalesData} onChange={onChange} />\r\n\r\n        <Modal width={800} title=\"Editar Hospital\" visible={isModalVisible} onOk={handleOk} onCancel={handleCancel} destroyOnClose={true} footer={[]}>\r\n          <Register hospital={hospitalForEdit} setModalVisible={setIsModalVisible} />\r\n        </Modal>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}