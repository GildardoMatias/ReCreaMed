{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Card,Tabs,Row,Col,Button}from'antd';import Padecimiento from'./padecimiento';import{getData}from'../../resources';import{PlusOutlined}from'@ant-design/icons';import NuevaNota from'./nuevaNota';import FDetalleReceta from'./detalleReceta';import LastCita from'../expedientes/lastCita';import Bitacora from'./bitacora';import Goniometria from'./goniometria';import ExamenManMusc from'./examenManMusc';import PrintNota from'./printNota';// It's called nota, but actually is the complete expedient \n// The expedient as it, is a list of notas or expediente_fisio\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NotaFisio(_ref){let{id_paciente,pacienteData}=_ref;// PacienteData is used for Recetas\nconst mobile=window.matchMedia(\"(max-width: 500px)\").matches;const[expedienteData,setExpedienteData]=useState(null);const[addExpedienteModalOpen,setAddExpedienteModalOpen]=useState(false);useEffect(()=>{getExpedienteData();},[id_paciente]);useEffect(()=>{getExpedienteData();},[addExpedienteModalOpen]);const getExpedienteData=()=>{getData(\"fexpedientes/\".concat(id_paciente)).then(rs=>{console.log('ExpedienteData ',rs);setExpedienteData(rs);});};const onChange=key=>{console.log(key);};const Question=_ref2=>{let{label,answer,bkg}=_ref2;return/*#__PURE__*/_jsxs(Row,{style:{height:16,backgroundColor:bkg?'#f5f8fc':'white'},children:[/*#__PURE__*/_jsx(Col,{span:12,style:{fontSize:12,color:'#515a6e',fontWeight:500},children:label}),/*#__PURE__*/_jsx(Col,{style:{fontSize:12},children:answer})]});};const items=expedienteData?expedienteData.map((nota,i)=>{// 1 nota = 1 expedient ----- N notas = expedient = array of notas\nreturn{label:\"Nota \".concat(i+1),key:nota._id,children:/*#__PURE__*/_jsxs(Row,{gutter:8,style:{backgroundColor:'white'},children:[/*#__PURE__*/_jsxs(Col,{span:5,children:[/*#__PURE__*/_jsx(LastCita,{paciente:id_paciente}),/*#__PURE__*/_jsx(FDetalleReceta,{id_nota:nota._id,paciente:id_paciente},'DetRecFisio'),/*#__PURE__*/_jsx(Bitacora,{bitacoras:nota.bitacoras,id_nota:nota._id,getExpedienteData:getExpedienteData})]}),/*#__PURE__*/_jsxs(Col,{span:19,children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Padecimiento,{fisio_data:nota}),/*#__PURE__*/_jsxs(\"div\",{className:mobile?'columna':'fila',children:[/*#__PURE__*/_jsx(Goniometria,{id_expediente:nota._id,goniometria:nota.goniometria,getExpedienteData:getExpedienteData}),/*#__PURE__*/_jsx(ExamenManMusc,{id_expediente:nota._id,examenes:nota.examenes,getExpedienteData:getExpedienteData})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10},children:[nota.observaciones&&/*#__PURE__*/_jsx(Question,{label:\"Observaciones o comentarios\",answer:nota.observaciones,bkg:true}),nota.diagnostico&&/*#__PURE__*/_jsx(Question,{label:\"Diagnostico fisioterapeutico\",answer:nota.diagnostico}),nota.objetivos&&/*#__PURE__*/_jsx(Question,{label:\"Objetivos\",answer:nota.objetivos,bkg:true}),nota.plan_tratamiento&&/*#__PURE__*/_jsx(Question,{label:\"Plan de tratamiento\",answer:nota.plan_tratamiento})]})]}),/*#__PURE__*/_jsx(PrintNota,{nota:nota})]})]})};}):[];return/*#__PURE__*/_jsxs(Card,{style:{marginTop:15},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirectrion:'row',gap:10,alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Notas \"}),/*#__PURE__*/_jsx(Button,{className:\"btnIconCentered\",onClick:()=>{setAddExpedienteModalOpen(true);},size:\"small\",type:\"primary\",shape:\"circle\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),ghost:true})]}),/*#__PURE__*/_jsx(Tabs,{defaultActiveKey:\"1\",items:items,onChange:onChange}),/*#__PURE__*/_jsx(NuevaNota,{id_paciente:id_paciente,isModalOpen:addExpedienteModalOpen,setIsModalOpen:setAddExpedienteModalOpen})]});}","map":{"version":3,"names":["React","useEffect","useState","Card","Tabs","Row","Col","Button","Padecimiento","getData","PlusOutlined","NuevaNota","FDetalleReceta","LastCita","Bitacora","Goniometria","ExamenManMusc","PrintNota","jsx","_jsx","jsxs","_jsxs","NotaFisio","_ref","id_paciente","pacienteData","mobile","window","matchMedia","matches","expedienteData","setExpedienteData","addExpedienteModalOpen","setAddExpedienteModalOpen","getExpedienteData","concat","then","rs","console","log","onChange","key","Question","_ref2","label","answer","bkg","style","height","backgroundColor","children","span","fontSize","color","fontWeight","items","map","nota","i","_id","gutter","paciente","id_nota","bitacoras","fisio_data","className","id_expediente","goniometria","examenes","marginTop","observaciones","diagnostico","objetivos","plan_tratamiento","display","flexDirectrion","gap","alignItems","onClick","size","type","shape","icon","ghost","defaultActiveKey","isModalOpen","setIsModalOpen"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/doctorViews/expedieteFisio/nota.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Card, Tabs, Row, Col, Button } from 'antd';\r\nimport Padecimiento from './padecimiento';\r\nimport { getData } from '../../resources'\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport NuevaNota from './nuevaNota';\r\nimport FDetalleReceta from './detalleReceta';\r\nimport LastCita from '../expedientes/lastCita';\r\nimport Bitacora from './bitacora';\r\nimport Goniometria from './goniometria';\r\nimport ExamenManMusc from './examenManMusc';\r\nimport PrintNota from './printNota';\r\n\r\n// It's called nota, but actually is the complete expedient \r\n// The expedient as it, is a list of notas or expediente_fisio\r\n\r\nexport default function NotaFisio({ id_paciente, pacienteData }) { // PacienteData is used for Recetas\r\n\r\n    const mobile = window.matchMedia(\"(max-width: 500px)\").matches;\r\n\r\n    const [expedienteData, setExpedienteData] = useState(null)\r\n\r\n    const [addExpedienteModalOpen, setAddExpedienteModalOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        getExpedienteData()\r\n    }, [id_paciente])\r\n\r\n    useEffect(() => {\r\n        getExpedienteData()\r\n    }, [addExpedienteModalOpen])\r\n\r\n    const getExpedienteData = () => {\r\n        getData(`fexpedientes/${id_paciente}`).then((rs) => {\r\n            console.log('ExpedienteData ', rs)\r\n            setExpedienteData(rs)\r\n        })\r\n    }\r\n\r\n    const onChange = (key) => {\r\n        console.log(key);\r\n    };\r\n\r\n    const Question = ({ label, answer, bkg }) => {\r\n        return <Row style={{ height: 16, backgroundColor: bkg ? '#f5f8fc' : 'white' }}>\r\n            <Col span={12} style={{ fontSize: 12, color: '#515a6e', fontWeight: 500 }}>{label}</Col>\r\n            <Col style={{ fontSize: 12 }}>{answer}</Col>\r\n        </Row>\r\n    }\r\n\r\n    const items = expedienteData ? expedienteData.map((nota, i) => { // 1 nota = 1 expedient ----- N notas = expedient = array of notas\r\n        return {\r\n            label: `Nota ${i + 1}`,\r\n            key: nota._id,\r\n            children: <Row gutter={8} style={{ backgroundColor: 'white' }}>\r\n\r\n                {/* Mitad de la pantalla para Receta y last cita*/}\r\n                <Col span={5} >\r\n\r\n                    <LastCita paciente={id_paciente} />\r\n\r\n                    <FDetalleReceta id_nota={nota._id} paciente={id_paciente} key='DetRecFisio' />\r\n\r\n                    <Bitacora bitacoras={nota.bitacoras} id_nota={nota._id} getExpedienteData={getExpedienteData} />\r\n                </Col>\r\n\r\n                {/* la otra mitad de la pantalla para NOTA*/}\r\n                <Col span={19}>\r\n                    <Card>\r\n\r\n                        <Padecimiento fisio_data={nota} />\r\n\r\n                        <div className={mobile ? 'columna' : 'fila'}>\r\n                            <Goniometria id_expediente={nota._id} goniometria={nota.goniometria} getExpedienteData={getExpedienteData} />\r\n                            <ExamenManMusc id_expediente={nota._id} examenes={nota.examenes} getExpedienteData={getExpedienteData} />\r\n                        </div>\r\n\r\n                        <div style={{ marginTop: 10 }}>\r\n                            {nota.observaciones && <Question label='Observaciones o comentarios' answer={nota.observaciones} bkg />}\r\n                            {nota.diagnostico && <Question label='Diagnostico fisioterapeutico' answer={nota.diagnostico} />}\r\n                            {nota.objetivos && <Question label='Objetivos' answer={nota.objetivos} bkg />}\r\n                            {nota.plan_tratamiento && <Question label='Plan de tratamiento' answer={nota.plan_tratamiento} />}\r\n                        </div>\r\n\r\n                    </Card>\r\n                    <PrintNota nota={nota} />\r\n                </Col>\r\n\r\n            </Row>\r\n        }\r\n    }) : []\r\n\r\n\r\n    return <Card style={{ marginTop: 15 }} >\r\n\r\n        <div style={{ display: 'flex', flexDirectrion: 'row', gap: 10, alignItems: 'center' }}>\r\n            <h5>Notas </h5>\r\n            {\r\n                <Button className='btnIconCentered' onClick={() => { setAddExpedienteModalOpen(true) }} size='small' type=\"primary\" shape=\"circle\" icon={<PlusOutlined />} ghost />\r\n            }\r\n        </div>\r\n\r\n\r\n        <Tabs defaultActiveKey=\"1\" items={items} onChange={onChange} />\r\n\r\n        <NuevaNota id_paciente={id_paciente} isModalOpen={addExpedienteModalOpen} setIsModalOpen={setAddExpedienteModalOpen} />\r\n    </Card>\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}