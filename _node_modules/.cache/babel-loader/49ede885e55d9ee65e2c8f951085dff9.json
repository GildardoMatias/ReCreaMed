{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Button,Modal,Form,Input,Select,message,DatePicker,InputNumber}from'antd';import{getData,sendDataBody,updateData}from'../../resources';// ADMIN CREATE INGRESO\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CreateBalanceHosptal(_ref){let{id_hospital,tipo,balanceForEdit,setBalanceForEdit,setIsModalOpen,isModalOpen,getIngresos}=_ref;const isCreating=!balanceForEdit||Object.keys(balanceForEdit).length===0;const[pacientesData,setPacientesData]=useState([]);const[loading,setLoading]=useState(true);const handleOk=()=>{setIsModalOpen(false);};const handleCancel=()=>{setIsModalOpen(false);// setBalanceForEdit(null) \n};// Form methods\nconst onFinish=values=>{values.tipo=tipo;values.sucusal=id_hospital;console.log('Ready to send:',values);console.log('For Edit: ',balanceForEdit);if(isCreating){sendDataBody(\"balances/add\",values).then(rs=>{console.log(rs);message.success(rs.message||rs.error);}).finally(()=>{getIngresos();setIsModalOpen(false);});}else{updateData(\"/balances/update/\".concat(balanceForEdit._id),values).then(rs=>{getIngresos();// setBalanceForEdit({}); \nsetIsModalOpen(false);});}};const onFinishFailed=errorInfo=>{console.log('Failed:',errorInfo);};return/*#__PURE__*/_jsx(Modal,{title:\"Agergar ingreso del hospital\",open:isModalOpen,onOk:handleOk,onCancel:handleCancel,destroyOnClose:true,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",form:\"edit_balance\",children:\"Guardar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCancel,children:\"Cancelar\"})],children:/*#__PURE__*/_jsxs(Form,{name:\"edit_balance\",labelCol:{span:8},wrapperCol:{span:16},initialValues:balanceForEdit,onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Form.Item,{label:\"Monto\",name:\"monto\",rules:[{required:true,message:'Ingresa el monto'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{label:\"abono\",name:\"abono\",rules:[{required:true,message:'Ingresa el abobo'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Forma de Pago\",name:\"forma_de_pago\",children:/*#__PURE__*/_jsx(Select// onChange={handleDoctorChange}\n,{options:[{value:'efectivo',label:'Efectivo'},{value:'tarjeta',label:'Tarjeta'},{value:'transferencia',label:'Transferencia'}]})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Estado\",name:\"estado\",rules:[{required:true,message:'Ingresa el monto'}],children:/*#__PURE__*/_jsx(Select,{options:[{value:'pendiente',label:'Pendiente'},{value:'pagado',label:'Pagado'},{value:'pago parcial',label:'Pago parcial'}]})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Concepto\",name:\"concepto\",rules:[{required:true,message:'Ingresa el concepto'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Fecha y Hora\",name:\"fecha_hora\",rules:[{required:true,message:'Selecciona Fecha y Hora'}],children:/*#__PURE__*/_jsx(DatePicker,{showTime:true,format:\"DD-MM-YYYY HH:mm\"})})]})});}","map":{"version":3,"names":["React","useState","useEffect","Button","Modal","Form","Input","Select","message","DatePicker","InputNumber","getData","sendDataBody","updateData","jsx","_jsx","jsxs","_jsxs","CreateBalanceHosptal","_ref","id_hospital","tipo","balanceForEdit","setBalanceForEdit","setIsModalOpen","isModalOpen","getIngresos","isCreating","Object","keys","length","pacientesData","setPacientesData","loading","setLoading","handleOk","handleCancel","onFinish","values","sucusal","console","log","then","rs","success","error","finally","concat","_id","onFinishFailed","errorInfo","title","open","onOk","onCancel","destroyOnClose","footer","type","htmlType","form","children","onClick","name","labelCol","span","wrapperCol","initialValues","autoComplete","Item","label","rules","required","style","width","options","value","showTime","format"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/admHospitalViews/ingresos/create-ingreso-hosptal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Button, Modal, Form, Input, Select, message, DatePicker, InputNumber } from 'antd';\r\nimport { getData, sendDataBody, updateData } from '../../resources';\r\n// ADMIN CREATE INGRESO\r\nexport default function CreateBalanceHosptal({id_hospital, tipo, balanceForEdit, setBalanceForEdit, setIsModalOpen, isModalOpen, getIngresos}) {\r\n\r\n    const isCreating = !balanceForEdit || Object.keys(balanceForEdit).length === 0;\r\n    const [pacientesData, setPacientesData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n\r\n    const handleOk = () => { setIsModalOpen(false) };\r\n    const handleCancel = () => {\r\n        setIsModalOpen(false);\r\n        // setBalanceForEdit(null) \r\n    };\r\n\r\n\r\n\r\n    // Form methods\r\n    const onFinish = (values) => {\r\n\r\n        values.tipo = tipo;\r\n        values.sucusal = id_hospital;\r\n        console.log('Ready to send:', values);\r\n        console.log('For Edit: ', balanceForEdit);\r\n        if (isCreating) {\r\n            sendDataBody(`balances/add`, values).then((rs) => { console.log(rs); message.success(rs.message || rs.error) }).finally(() => { getIngresos(); setIsModalOpen(false) })\r\n        } else {\r\n            updateData(`/balances/update/${balanceForEdit._id}`, values).then((rs) => {\r\n                getIngresos();\r\n                // setBalanceForEdit({}); \r\n                setIsModalOpen(false);\r\n            })\r\n        }\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => { console.log('Failed:', errorInfo) };\r\n\r\n    return (\r\n        <Modal title=\"Agergar ingreso del hospital\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel} destroyOnClose\r\n            footer={[\r\n                <Button type=\"primary\" htmlType=\"submit\" form='edit_balance'>\r\n                    Guardar\r\n                </Button>,\r\n                <Button onClick={handleCancel}>\r\n                    Cancelar\r\n                </Button>\r\n            ]}>\r\n            <Form\r\n                name=\"edit_balance\"\r\n                labelCol={{ span: 8 }}\r\n                wrapperCol={{ span: 16 }}\r\n                initialValues={balanceForEdit}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n                autoComplete=\"off\"\r\n            >\r\n                <Form.Item label=\"Monto\" name=\"monto\" rules={[{ required: true, message: 'Ingresa el monto' }]} >\r\n                    <InputNumber style={{ width: '100%' }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"abono\" name=\"abono\" rules={[{ required: true, message: 'Ingresa el abobo' }]} >\r\n                    <InputNumber style={{ width: '100%' }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Forma de Pago\" name=\"forma_de_pago\" >\r\n                    <Select\r\n                        // onChange={handleDoctorChange}\r\n                        options={[\r\n                            {\r\n                                value: 'efectivo',\r\n                                label: 'Efectivo',\r\n                            },\r\n                            {\r\n                                value: 'tarjeta',\r\n                                label: 'Tarjeta',\r\n                            },\r\n                            {\r\n                                value: 'transferencia',\r\n                                label: 'Transferencia',\r\n                            },\r\n                        ]}\r\n                    />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    label=\"Estado\"\r\n                    name=\"estado\"\r\n                    rules={[{ required: true, message: 'Ingresa el monto' }]}\r\n                >\r\n                    <Select options={[\r\n                        {\r\n                            value: 'pendiente',\r\n                            label: 'Pendiente',\r\n                        },\r\n                        {\r\n                            value: 'pagado',\r\n                            label: 'Pagado',\r\n                        },\r\n                        {\r\n                            value: 'pago parcial',\r\n                            label: 'Pago parcial',\r\n                        },\r\n                    ]}\r\n                    />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    label=\"Concepto\"\r\n                    name=\"concepto\"\r\n                    rules={[{ required: true, message: 'Ingresa el concepto' }]}\r\n                >\r\n                    <Input />\r\n                </Form.Item>\r\n\r\n\r\n                <Form.Item\r\n                    label=\"Fecha y Hora\"\r\n                    name=\"fecha_hora\"\r\n                    rules={[{ required: true, message: 'Selecciona Fecha y Hora' }]}\r\n                >\r\n                    <DatePicker showTime format=\"DD-MM-YYYY HH:mm\" />\r\n                </Form.Item>\r\n\r\n            </Form>\r\n        </Modal>\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}