{"ast":null,"code":"import React,{useEffect,useState}from'react';import{EncuestaLoading,ThanksMessage,checkEncuesta,onFinishFailed}from'../utils';import{Form,Input,Button,message,Radio}from'antd';import{sendDataBody}from'../../resources';import{phq9_catalog}from'./phq9p.catalog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Phq9pEncuesta(_ref){let{idpaciente,idmedico,token,protocolo,momento}=_ref;const[encuestaNotExists,setEncuestaNotExists]=useState(null);const[checking,setChecking]=useState(true);const[pacienteData,setPacienteData]=useState({});const[medicoData,setMedicoData]=useState({});useEffect(()=>{init();},[]);function init(){checkEncuesta(token,idpaciente,setPacienteData,idmedico,setMedicoData,setEncuestaNotExists,setChecking);}const onFinish=values=>{console.log('Orginal values: ',values);const body={usuario:idpaciente,medico:idmedico,phq9p:Object.values(values),tipo:'phq9p',uuid:token,cat:[protocolo,momento]};console.log('Body:',body);// sendDataBody('encuestas/add', body).then((rs) => {\n//     console.log('add enc resp', rs)\n//     message.success(rs.message)\n// }).then(() => init())\n};const onChange=e=>{console.log('radio checked',e.target.value);};if(checking)return/*#__PURE__*/_jsx(EncuestaLoading,{});if(!encuestaNotExists)return/*#__PURE__*/_jsx(ThanksMessage,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Encuesta PHQ9P\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Medico: \",medicoData.name]}),/*#__PURE__*/_jsxs(\"h5\",{children:[\"Paciente: \",pacienteData.name]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h5\",{children:\"Cuestionario sobre la salud del paciente-9\"}),/*#__PURE__*/_jsx(\"h6\",{children:\"(US Spanish version of the PHQ)\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"name\",children:\"Durante las ultimas dos semanas, \\xBFqu\\xE9 tan seguido ha tenido molestias por alguna de las siguientes dificultades?\"}),/*#__PURE__*/_jsxs(Form,{layout:\"vertical\",name:\"phq9p_enc\"// labelCol={{ span: 24 }}\n// wrapperCol={{ span: 24 }}\n,initialValues:[],onFinish:onFinish,onFinishFailed:onFinishFailed,autoComplete:\"off\",children:[phq9_catalog.map((q,i)=>/*#__PURE__*/_jsx(Form.Item,{label:q,name:i,rules:[{required:true,message:'Please input your username!'}],children:/*#__PURE__*/_jsxs(Radio.Group,{onChange:onChange,children:[/*#__PURE__*/_jsx(Radio,{value:0,children:\"\\\"No del todo\\\"\"}),/*#__PURE__*/_jsx(Radio,{value:1,children:\"\\\"Varios d\\xEDas\\\"\"}),/*#__PURE__*/_jsx(Radio,{value:2,children:\"\\\"M\\xE1s de la mitad de los d\\xEDas\\\"\"}),/*#__PURE__*/_jsx(Radio,{value:3,children:\"\\\"Casi todos los d\\xEDas\\\"\"})]})})),/*#__PURE__*/_jsx(Form.Item,{label:\"Si usted marc\\xF3 cualquiera de los problemas, \\xBFqu\\xE9 tan dif\\xEDcil han afectado estos problemas en hacer su trabajo, encargarse de tareas del hogar, o llevarse bien con otras personas?\",name:9,rules:[{required:true,message:'Please input your username!'}],children:/*#__PURE__*/_jsxs(Radio.Group,{onChange:onChange,children:[/*#__PURE__*/_jsx(Radio,{value:0,children:\"Para nada dificil\"}),/*#__PURE__*/_jsx(Radio,{value:1,children:\"Un poco dif\\xEDcil\"}),/*#__PURE__*/_jsx(Radio,{value:2,children:\"Muy dif\\xEDcil\"}),/*#__PURE__*/_jsx(Radio,{value:3,children:\"Extremaadamente dif\\xEDcil\"})]})}),/*#__PURE__*/_jsx(Form.Item,{wrapperCol:{offset:8,span:16},children:/*#__PURE__*/_jsx(Button,{form:\"phq9p_enc\",type:\"primary\",htmlType:\"submit\",children:\"Enviar respuestas\"})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","EncuestaLoading","ThanksMessage","checkEncuesta","onFinishFailed","Form","Input","Button","message","Radio","sendDataBody","phq9_catalog","jsx","_jsx","jsxs","_jsxs","Phq9pEncuesta","_ref","idpaciente","idmedico","token","protocolo","momento","encuestaNotExists","setEncuestaNotExists","checking","setChecking","pacienteData","setPacienteData","medicoData","setMedicoData","init","onFinish","values","console","log","body","usuario","medico","phq9p","Object","tipo","uuid","cat","onChange","e","target","value","className","children","name","layout","initialValues","autoComplete","map","q","i","Item","label","rules","required","Group","wrapperCol","offset","span","form","type","htmlType"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/escalas/phq9p/phq9p.encuesta.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { EncuestaLoading, ThanksMessage, checkEncuesta, onFinishFailed } from '../utils'\r\nimport { Form, Input, Button, message, Radio } from 'antd'\r\nimport { sendDataBody } from '../../resources'\r\nimport { phq9_catalog } from './phq9p.catalog'\r\nexport default function Phq9pEncuesta({ idpaciente, idmedico, token, protocolo, momento }) {\r\n\r\n    const [encuestaNotExists, setEncuestaNotExists] = useState(null)\r\n    const [checking, setChecking] = useState(true)\r\n    const [pacienteData, setPacienteData] = useState({})\r\n    const [medicoData, setMedicoData] = useState({})\r\n\r\n    useEffect(() => {\r\n        init()\r\n    }, [])\r\n\r\n    function init() {\r\n        checkEncuesta(token, idpaciente, setPacienteData, idmedico, setMedicoData, setEncuestaNotExists, setChecking)\r\n    }\r\n\r\n    const onFinish = (values) => {\r\n        console.log('Orginal values: ', values)\r\n        const body = {\r\n            usuario: idpaciente,\r\n            medico: idmedico,\r\n            phq9p: Object.values(values),\r\n            tipo: 'phq9p',\r\n            uuid: token,\r\n            cat: [protocolo, momento]\r\n        }\r\n        console.log('Body:', body);\r\n        // sendDataBody('encuestas/add', body).then((rs) => {\r\n        //     console.log('add enc resp', rs)\r\n        //     message.success(rs.message)\r\n        // }).then(() => init())\r\n    };\r\n\r\n    const onChange = (e) => {\r\n        console.log('radio checked', e.target.value);\r\n    };\r\n\r\n    if (checking) return <EncuestaLoading />\r\n\r\n    if (!encuestaNotExists) return <ThanksMessage />\r\n\r\n    return (\r\n        <div className='mainContainer'>\r\n            <h4>Encuesta PHQ9P</h4>\r\n            <br />\r\n            <h5>Medico: {medicoData.name}</h5>\r\n            <h5>Paciente: {pacienteData.name}</h5>\r\n\r\n            <br />\r\n            <h5>Cuestionario sobre la salud del paciente-9</h5>\r\n            <h6>(US Spanish version of the PHQ)</h6>\r\n            <br />\r\n\r\n            <p className='name'>Durante las ultimas dos semanas, ¿qué tan seguido ha tenido molestias por alguna de las siguientes dificultades?</p>\r\n\r\n            <Form\r\n                layout='vertical'\r\n                name=\"phq9p_enc\"\r\n                // labelCol={{ span: 24 }}\r\n                // wrapperCol={{ span: 24 }}\r\n                initialValues={[]}\r\n                onFinish={onFinish}\r\n                onFinishFailed={onFinishFailed}\r\n                autoComplete=\"off\"\r\n            >\r\n\r\n                {\r\n                    phq9_catalog.map((q, i) => <Form.Item\r\n                        label={q}\r\n                        name={i}\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your username!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Radio.Group onChange={onChange} >\r\n                            <Radio value={0}>\"No del todo\"</Radio>\r\n                            <Radio value={1}>\"Varios días\"</Radio>\r\n                            <Radio value={2}>\"Más de la mitad de los días\"</Radio>\r\n                            <Radio value={3}>\"Casi todos los días\"</Radio>\r\n                        </Radio.Group>\r\n                    </Form.Item>)\r\n                }\r\n\r\n                <Form.Item\r\n                    label=\"Si usted marcó cualquiera de los problemas, ¿qué tan difícil han afectado estos problemas en hacer su trabajo, encargarse de tareas del hogar, o llevarse bien con otras personas?\"\r\n                    name={9}\r\n                    rules={[\r\n                        {\r\n                            required: true,\r\n                            message: 'Please input your username!',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <Radio.Group onChange={onChange} >\r\n                        <Radio value={0}>Para nada dificil</Radio>\r\n                        <Radio value={1}>Un poco difícil</Radio>\r\n                        <Radio value={2}>Muy difícil</Radio>\r\n                        <Radio value={3}>Extremaadamente difícil</Radio>\r\n                    </Radio.Group>\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    wrapperCol={{\r\n                        offset: 8,\r\n                        span: 16,\r\n                    }}\r\n                >\r\n                    <Button form='phq9p_enc' type=\"primary\" htmlType=\"submit\">\r\n                        Enviar respuestas\r\n                    </Button>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}