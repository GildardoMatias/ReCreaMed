{"ast":null,"code":"import{Form,Input,Button,Checkbox,Row,Col,Card,message}from'antd';import{UserOutlined,LockOutlined}from'@ant-design/icons';import{S_API}from'../resources';import logo from'../assets/Logo.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function Login(){const onFinish=values=>{delete values.remember;console.log('Received values of form: ',values);// Inicio de sesion\nfetch(S_API+'login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(values)}).then(data=>{console.log(\"data\",data);return data.json();}).then(res=>{console.log(\"resp\",res);if(res.message===\"Bienvenido\"){localStorage.setItem(\"userType\",res.user.rol);localStorage.setItem('sessionToken',res.data.token);localStorage.setItem('userData',JSON.stringify(res.user));if(res.user.rol==='Recepcion')// Save login time to schedule\nlocalStorage.setItem('fecha_hora_entrada',new Date());window.location.href='/';}else message.info(res.error||res.message);}).catch(err=>window.alert(\"Error: \",err));};return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{lg:{span:8,offset:8},md:{span:10,offset:7},sm:{span:16,offset:4},xs:{span:16,offset:4},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Card,{hoverable:true,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Row,{justify:\"center\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",width:160})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Row,{justify:\"center\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Inicio de Sesion\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form,{name:\"normal_login\",className:\"login-form\",initialValues:{remember:true},onFinish:onFinish,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"email\",rules:[{required:true,message:'Por favor ingresa el correo de tu cuenta!'}],children:/*#__PURE__*/_jsx(Input,{prefix:/*#__PURE__*/_jsx(UserOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Usuario\"})}),/*#__PURE__*/_jsx(Form.Item,{name:\"password\",rules:[{required:true,message:'Por favor ingresa tu contrase単a!'}],children:/*#__PURE__*/_jsx(Input.Password,{prefix:/*#__PURE__*/_jsx(LockOutlined,{className:\"site-form-item-icon\"}),placeholder:\"Contrase\\xF1a\"})}),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Form.Item,{name:\"remember\",valuePropName:\"checked\",noStyle:true,children:/*#__PURE__*/_jsx(Checkbox,{children:\"Mantener la sesion\"})}),/*#__PURE__*/_jsx(\"a\",{className:\"login-form-forgot\",href:\"\",children:\"Recuperar contrase\\xF1a\"})]}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsx(Button,{block:true,type:\"primary\",htmlType:\"submit\",className:\"login-form-button\",children:\"Iniciar Sesion\"})}),/*#__PURE__*/_jsx(Form.Item,{children:/*#__PURE__*/_jsxs(Row,{justify:\"center\",children:[\" O \",/*#__PURE__*/_jsx(\"a\",{href:\"register\",style:{marginLeft:4},children:\"Registrarse\"})]})})]})]})]})});};","map":{"version":3,"names":["Form","Input","Button","Checkbox","Row","Col","Card","message","UserOutlined","LockOutlined","S_API","logo","jsx","_jsx","jsxs","_jsxs","Login","onFinish","values","remember","console","log","fetch","method","headers","body","JSON","stringify","then","data","json","res","localStorage","setItem","user","rol","token","Date","window","location","href","info","error","catch","err","alert","children","lg","span","offset","md","sm","xs","hoverable","justify","src","alt","width","name","className","initialValues","Item","rules","required","prefix","placeholder","Password","valuePropName","noStyle","block","type","htmlType","style","marginLeft"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/session/login.jsx"],"sourcesContent":["import { Form, Input, Button, Checkbox, Row, Col, Card, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { S_API } from '../resources'\r\nimport logo from '../assets/Logo.png';\r\n\r\nexport function Login() {\r\n\r\n  const onFinish = (values) => {\r\n    delete values.remember;\r\n    console.log('Received values of form: ', values);\r\n\r\n    // Inicio de sesion\r\n    fetch(S_API + 'login', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(values)\r\n    })\r\n      .then((data) => { console.log(\"data\", data); return data.json() })\r\n      .then(res => {\r\n        console.log(\"resp\", res);\r\n        if (res.message === \"Bienvenido\") {\r\n          localStorage.setItem(\"userType\", res.user.rol);\r\n          localStorage.setItem('sessionToken', res.data.token);\r\n          localStorage.setItem('userData', JSON.stringify(res.user));\r\n\r\n          if (res.user.rol === 'Recepcion') // Save login time to schedule\r\n            localStorage.setItem('fecha_hora_entrada', new Date());\r\n\r\n          window.location.href = '/';\r\n        } else (message.info(res.error || res.message))\r\n      })\r\n      .catch(err => window.alert(\"Error: \", err))\r\n\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col lg={{ span: 8, offset: 8 }} md={{ span: 10, offset: 7 }} sm={{ span: 16, offset: 4 }} xs={{ span: 16, offset: 4 }}>\r\n        <br />\r\n        <br />\r\n        <Card hoverable>\r\n          <br />\r\n          <Row justify=\"center\"> <img src={logo} alt=\"Logo\" width={160} /></Row>\r\n          <br />\r\n          <Row justify=\"center\">\r\n            <h3>Inicio de Sesion</h3>\r\n          </Row>\r\n          <br />\r\n          <br />\r\n          <Form\r\n            name=\"normal_login\"\r\n            className=\"login-form\"\r\n            initialValues={{\r\n              remember: true,\r\n            }}\r\n            onFinish={onFinish}\r\n          >\r\n            <Form.Item\r\n              name=\"email\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Por favor ingresa el correo de tu cuenta!',\r\n                },\r\n              ]}\r\n            >\r\n              <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Usuario\" />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              rules={[\r\n                {\r\n                  required: true,\r\n                  message: 'Por favor ingresa tu contrase単a!',\r\n                },\r\n              ]}\r\n            >\r\n              <Input.Password\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />} placeholder=\"Contrase単a\" />\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                <Checkbox>Mantener la sesion</Checkbox>\r\n              </Form.Item>\r\n\r\n              <a className=\"login-form-forgot\" href=\"\">\r\n                Recuperar contrase単a\r\n              </a>\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button block type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n                Iniciar Sesion\r\n              </Button>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Row justify=\"center\"> O <a href=\"register\" style={{ marginLeft: 4 }}>Registrarse</a></Row>\r\n\r\n            </Form.Item>\r\n          </Form>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n\r\n  );\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}