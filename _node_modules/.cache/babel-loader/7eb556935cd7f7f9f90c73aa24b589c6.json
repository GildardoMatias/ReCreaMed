{"ast":null,"code":"import{useState,useEffect}from'react';import{Calendar,dayjsLocalizer}from'react-big-calendar';import{getData,usuario,deleteData}from'../../resources';import Loading from'../../loading';import CreateCita,{CreateCitaForm}from'./cita.create';import{Button,Modal,Popconfirm}from'antd';import dayjs from'dayjs';import{GoogleOutlined}from'@ant-design/icons';import AuthButton from'./auth.button';// import CitaGoogle from './cita.google';\n// import '@dayjs/locale/es-mx';\n// require('@dayjs/locale/es-mx');\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const localizer=dayjsLocalizer(dayjs);const{configuracion:{tratamientos_ofrecidos}={}}=usuario||{};// const today = new Date();\n// To set rage for calendar\n// start time 8:00am\n// const min = new Date(\n//     today.getFullYear(),\n//     today.getMonth(),\n//     today.getDate(),\n//     8\n// )\n// end time 5:00pm\n// const max = new Date(\n//     today.getFullYear(),\n//     today.getMonth(),\n//     today.getDate(),\n//     21\n// )\nexport default function Citas(){const[citasData,setCitasData]=useState([]);const[loading,setLoading]=useState(true);const[editingCita,setEditingCita]=useState(false);// Modal for details\nconst[isModalOpen,setIsModalOpen]=useState(false);const showModal=()=>{setIsModalOpen(true);};const handleOk=()=>{setIsModalOpen(false);setEditingCita(false);setEditingCita(false);};const handleCancel=()=>{setIsModalOpen(false);setEditingCita(false);setEditingCita(false);};// Modal for edit and create\nconst[citaForEdit,setCitaForEdit]=useState(null);const[fecha_hora,setFecha_hora]=useState(null);const[isCreateModalOpen,setIsCreateModalOpen]=useState(false);useEffect(()=>{getCitasData();},[]);const getCitasData=()=>{if(usuario)getData(\"citas/medico/\".concat(usuario._id)).then(rs=>{rs.forEach(cita=>{var _cita$duracion;const servicio=cita.id_servicio;const servicioInfo=tratamientos_ofrecidos.find(servicioItem=>servicioItem._id===servicio);if(servicioInfo){cita.color=servicioInfo.color;}cita.start=new Date(Date.parse(cita.fecha_hora));const endDate=new Date(cita.fecha_hora);endDate.setTime(endDate.getTime()+1*((_cita$duracion=cita.duracion)!==null&&_cita$duracion!==void 0?_cita$duracion:60)*60*1000);cita.end=new Date(Date.parse(endDate));cita.title=cita.usuario.name;cita.id=cita._id;cita.key=cita._id;});console.log('getCitasData medico',rs);setCitasData(rs);}).finally(()=>setLoading(false));};// Select cita to show details and to confirm\nconst selectEvent=async e=>{if(!e.hospital)e.hospital=e.sucursal._id;// For Edit\nif(e.sucursa&&e.sucursal._id)e.sucursal=e.sucursal._id;// For Edit\nif(!e.paciente)e.paciente=e.usuario;// For details\nif(e.usuario&&e.usuario._id)e.usuario=e.usuario._id;// For Editing\ne.fecha_hora=dayjs(e.fecha_hora);//For edit\nsetCitaForEdit(e);showModal();};// Select time hour, where cita will be created \nconst handleSlotSelection=_ref=>{let{start,end,action}=_ref;setFecha_hora(dayjs(start));setIsCreateModalOpen(true);return{style:{backgroundColor:'red'}};};// Confirm servicio\n// const confirmService = () => {\n//     console.log('To confirm service', citaForEdit)\n//     updateData(`balances/update/cita/${citaForEdit._id}`, { estado: 'pagado' })\n// }\n// Delete button\nconst confirm=e=>{deleteData(\"citas/remove/\".concat(citaForEdit._id)).then(rs=>{console.log(rs);getCitasData();handleCancel();});deleteData(\"balances/remove/cita/\".concat(citaForEdit._id));};const cancel=e=>{console.log(e);};const eventStyleGetter=(event,start,end,isSelected)=>{// const index = serviceList.indexOf(event.servicio);\n// var backgroundColor = '#' + pre_colors[index]; \n// var backgroundColor = '##03fc8c';\nvar style={backgroundColor:event.color,borderRadius:'4px',opacity:0.8,color:'white',border:'0px',display:'block'};return{style:style};};if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(AuthButton,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Calendar// min={min}\n// max={max}\n,{scrollToTime:new Date(Date.now()),defaultDate:new Date(Date.now()),selectable:\"true\",localizer:localizer,events:citasData,eventPropGetter:eventStyleGetter,startAccessor:\"start\",endAccessor:\"end\",style:{height:500},messages:{next:\"Sig\",previous:\"Ant\",today:\"Hoy\",month:\"Mes\",week:\"Semana\",day:\"Día\"},defaultView:\"week\",onDoubleClickEvent:e=>console.log(e),onSelectEvent:selectEvent// details cita\n,onSelecting:e=>console.log(e),onSelectSlot:handleSlotSelection// create cita\n}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Modal,{title:\"Detalles Cita\",open:isModalOpen,onOk:handleOk,onCancel:handleCancel,destroyOnClose:true,footer:[/*#__PURE__*/_jsx(Popconfirm,{title:\"Eliminar Cita\",description:\"Seguro que quiere eliminar la cita?\",onConfirm:confirm,onCancel:cancel,okText:\"Si\",cancelText:\"No\",children:/*#__PURE__*/_jsx(Button,{danger:true,children:\"Eliminar\"})}),/*#__PURE__*/_jsx(Button,{onClick:()=>setEditingCita(!editingCita),children:editingCita?\"Cancelar\":\"Modificar\"}),/*#__PURE__*/_jsx(Button,{onClick:handleCancel,children:\"Cerrar\"})],children:editingCita?/*#__PURE__*/_jsx(CreateCitaForm,{cita:citaForEdit,setIsModalOpen:setIsModalOpen,getCitasData:getCitasData,setEditingCita:setEditingCita}):/*#__PURE__*/_jsx(\"div\",{children:citaForEdit&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Paciente \"}),citaForEdit.paciente?citaForEdit.paciente.name:'Sin paciente']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fecha \"}),new Date(citaForEdit.fecha_hora).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Hora \"}),new Date(citaForEdit.fecha_hora).toLocaleTimeString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Servicio \"}),citaForEdit.servicio]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Comentarios \"}),citaForEdit.comentarios]})]})})}),/*#__PURE__*/_jsx(CreateCita,{setIsModalOpen:setIsCreateModalOpen,isOpenModal:isCreateModalOpen,fecha_hora:fecha_hora,getCitasData:getCitasData})]});}","map":{"version":3,"names":["useState","useEffect","Calendar","dayjsLocalizer","getData","usuario","deleteData","Loading","CreateCita","CreateCitaForm","Button","Modal","Popconfirm","dayjs","GoogleOutlined","AuthButton","jsx","_jsx","jsxs","_jsxs","localizer","configuracion","tratamientos_ofrecidos","Citas","citasData","setCitasData","loading","setLoading","editingCita","setEditingCita","isModalOpen","setIsModalOpen","showModal","handleOk","handleCancel","citaForEdit","setCitaForEdit","fecha_hora","setFecha_hora","isCreateModalOpen","setIsCreateModalOpen","getCitasData","concat","_id","then","rs","forEach","cita","_cita$duracion","servicio","id_servicio","servicioInfo","find","servicioItem","color","start","Date","parse","endDate","setTime","getTime","duracion","end","title","name","id","key","console","log","finally","selectEvent","e","hospital","sucursal","sucursa","paciente","handleSlotSelection","_ref","action","style","backgroundColor","confirm","cancel","eventStyleGetter","event","isSelected","borderRadius","opacity","border","display","className","children","scrollToTime","now","defaultDate","selectable","events","eventPropGetter","startAccessor","endAccessor","height","messages","next","previous","today","month","week","day","defaultView","onDoubleClickEvent","onSelectEvent","onSelecting","onSelectSlot","open","onOk","onCancel","destroyOnClose","footer","description","onConfirm","okText","cancelText","danger","onClick","toLocaleDateString","toLocaleTimeString","comentarios","isOpenModal"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/doctorViews/citas/citas.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Calendar, dayjsLocalizer } from 'react-big-calendar';\r\nimport { getData, usuario, deleteData } from '../../resources';\r\nimport Loading from '../../loading'\r\nimport CreateCita, { CreateCitaForm } from './cita.create'\r\nimport { Button, Modal, Popconfirm } from 'antd'\r\nimport dayjs from 'dayjs';\r\nimport { GoogleOutlined } from '@ant-design/icons'\r\nimport AuthButton from './auth.button';\r\n// import CitaGoogle from './cita.google';\r\n// import '@dayjs/locale/es-mx';\r\n// require('@dayjs/locale/es-mx');\r\n\r\nconst localizer = dayjsLocalizer(dayjs)\r\n\r\nconst { configuracion: { tratamientos_ofrecidos } = {} } = usuario || {};\r\n\r\n// const today = new Date();\r\n\r\n// To set rage for calendar\r\n// start time 8:00am\r\n// const min = new Date(\r\n//     today.getFullYear(),\r\n//     today.getMonth(),\r\n//     today.getDate(),\r\n//     8\r\n// )\r\n\r\n// end time 5:00pm\r\n// const max = new Date(\r\n//     today.getFullYear(),\r\n//     today.getMonth(),\r\n//     today.getDate(),\r\n//     21\r\n// )\r\n\r\n\r\nexport default function Citas() {\r\n    const [citasData, setCitasData] = useState([])\r\n    const [loading, setLoading] = useState(true)\r\n    const [editingCita, setEditingCita] = useState(false)\r\n\r\n    // Modal for details\r\n    const [isModalOpen, setIsModalOpen] = useState(false)\r\n    const showModal = () => { setIsModalOpen(true) }\r\n    const handleOk = () => { setIsModalOpen(false); setEditingCita(false); setEditingCita(false) }\r\n    const handleCancel = () => { setIsModalOpen(false); setEditingCita(false); setEditingCita(false) }\r\n    // Modal for edit and create\r\n    const [citaForEdit, setCitaForEdit] = useState(null)\r\n    const [fecha_hora, setFecha_hora] = useState(null)\r\n    const [isCreateModalOpen, setIsCreateModalOpen] = useState(false)\r\n\r\n\r\n\r\n    useEffect(() => { getCitasData() }, [])\r\n\r\n    const getCitasData = () => {\r\n        if (usuario)\r\n\r\n            getData(`citas/medico/${usuario._id}`).then((rs) => {\r\n                rs.forEach(cita => {\r\n\r\n                    const servicio = cita.id_servicio;\r\n                    const servicioInfo = tratamientos_ofrecidos.find(servicioItem => servicioItem._id === servicio);\r\n                    if (servicioInfo) {\r\n                        cita.color = servicioInfo.color;\r\n                    }\r\n\r\n                    cita.start = new Date(Date.parse(cita.fecha_hora));\r\n                    const endDate = new Date(cita.fecha_hora);\r\n                    endDate.setTime(endDate.getTime() + 1 * (cita.duracion ?? 60) * 60 * 1000)\r\n                    cita.end = new Date(Date.parse(endDate));\r\n                    cita.title = cita.usuario.name;\r\n                    cita.id = cita._id;\r\n                    cita.key = cita._id;\r\n                });\r\n                console.log('getCitasData medico', rs)\r\n                setCitasData(rs)\r\n            }\r\n            ).finally(() => setLoading(false))\r\n    }\r\n\r\n    // Select cita to show details and to confirm\r\n    const selectEvent = async (e) => {\r\n        if (!e.hospital) e.hospital = e.sucursal._id; // For Edit\r\n        if (e.sucursa && e.sucursal._id) e.sucursal = e.sucursal._id; // For Edit\r\n        if (!e.paciente) e.paciente = e.usuario; // For details\r\n        if (e.usuario && e.usuario._id) e.usuario = e.usuario._id; // For Editing\r\n        e.fecha_hora = dayjs(e.fecha_hora) //For edit\r\n        setCitaForEdit(e)\r\n        showModal()\r\n    }\r\n\r\n    // Select time hour, where cita will be created \r\n    const handleSlotSelection = ({ start, end, action }) => {\r\n        setFecha_hora(dayjs(start))\r\n        setIsCreateModalOpen(true)\r\n        return { style: { backgroundColor: 'red' } };\r\n    };\r\n\r\n    // Confirm servicio\r\n    // const confirmService = () => {\r\n    //     console.log('To confirm service', citaForEdit)\r\n    //     updateData(`balances/update/cita/${citaForEdit._id}`, { estado: 'pagado' })\r\n    // }\r\n\r\n    // Delete button\r\n    const confirm = (e) => {\r\n        deleteData(`citas/remove/${citaForEdit._id}`).then((rs) => { console.log(rs); getCitasData(); handleCancel() })\r\n        deleteData(`balances/remove/cita/${citaForEdit._id}`)\r\n\r\n    };\r\n\r\n    const cancel = (e) => { console.log(e) }\r\n\r\n    const eventStyleGetter = (event, start, end, isSelected) => {\r\n        // const index = serviceList.indexOf(event.servicio);\r\n        // var backgroundColor = '#' + pre_colors[index]; \r\n        // var backgroundColor = '##03fc8c';\r\n        var style = {\r\n            backgroundColor: event.color,\r\n            borderRadius: '4px',\r\n            opacity: 0.8,\r\n            color: 'white',\r\n            border: '0px',\r\n            display: 'block'\r\n        };\r\n        return {\r\n            style: style\r\n        };\r\n    }\r\n\r\n    if (loading) return <Loading />;\r\n\r\n    return <div className='mainContainer'>\r\n        <br />\r\n        {/* <CitaGoogle />\r\n        <br /> */}\r\n\r\n        <AuthButton />\r\n\r\n        {/* <Button icon={<GoogleOutlined />} >\r\n            Sincronzar calendario\r\n        </Button> */}\r\n\r\n        <br />\r\n        <br />\r\n\r\n        <Calendar\r\n            // min={min}\r\n            // max={max}\r\n            scrollToTime={new Date(Date.now())}\r\n            defaultDate={new Date(Date.now())}\r\n            selectable='true'\r\n            localizer={localizer}\r\n            events={citasData}\r\n            eventPropGetter={eventStyleGetter}\r\n            startAccessor=\"start\"\r\n            endAccessor=\"end\"\r\n            style={{ height: 500 }}\r\n            messages={{\r\n                next: \"Sig\",\r\n                previous: \"Ant\",\r\n                today: \"Hoy\",\r\n                month: \"Mes\",\r\n                week: \"Semana\",\r\n                day: \"Día\",\r\n            }}\r\n            defaultView=\"week\"\r\n            onDoubleClickEvent={(e) => console.log(e)}\r\n            onSelectEvent={selectEvent} // details cita\r\n            onSelecting={(e) => console.log(e)}\r\n            onSelectSlot={handleSlotSelection} // create cita\r\n        />\r\n        <br />\r\n\r\n\r\n\r\n        <Modal title=\"Detalles Cita\" open={isModalOpen} onOk={handleOk} onCancel={handleCancel} destroyOnClose\r\n            footer={[\r\n                <Popconfirm\r\n                    title=\"Eliminar Cita\"\r\n                    description=\"Seguro que quiere eliminar la cita?\"\r\n                    onConfirm={confirm}\r\n                    onCancel={cancel}\r\n                    okText=\"Si\"\r\n                    cancelText=\"No\"\r\n                >\r\n                    <Button danger>Eliminar</Button>\r\n                </Popconfirm>,\r\n                <Button onClick={() => setEditingCita(!editingCita)}>{editingCita ? \"Cancelar\" : \"Modificar\"}</Button>,\r\n                <Button onClick={handleCancel}>Cerrar</Button>\r\n            ]}>\r\n            {editingCita ?\r\n                <CreateCitaForm cita={citaForEdit} setIsModalOpen={setIsModalOpen} getCitasData={getCitasData} setEditingCita={setEditingCita} />\r\n                : <div>{citaForEdit && <div>\r\n                    <p><strong>Paciente </strong>{citaForEdit.paciente ? citaForEdit.paciente.name : 'Sin paciente'}</p>\r\n                    <p><strong>Fecha </strong>{new Date(citaForEdit.fecha_hora).toLocaleDateString()}</p>\r\n                    <p><strong>Hora </strong>{new Date(citaForEdit.fecha_hora).toLocaleTimeString()}</p>\r\n                    <p><strong>Servicio </strong>{citaForEdit.servicio}</p>\r\n                    <p><strong>Comentarios </strong>{citaForEdit.comentarios}</p>\r\n                    {/* <Button type='primary' onClick={confirmService}>Confirmar Servicio</Button>, */}\r\n                </div>\r\n                }\r\n                </div>\r\n            }\r\n        </Modal>\r\n\r\n        <CreateCita setIsModalOpen={setIsCreateModalOpen} isOpenModal={isCreateModalOpen} fecha_hora={fecha_hora} getCitasData={getCitasData} />\r\n\r\n    </div>\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}