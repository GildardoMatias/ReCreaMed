{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Card,Tabs,Row,Col,Button}from'antd';import Padecimiento from'./padecimiento';import{getData}from'../../resources';import{PlusOutlined}from'@ant-design/icons';import NuevaNota from'./nuevaNota';import FDetalleReceta from'./detalleReceta';import LastCita from'../expedientes/lastCita';import Bitacora from'./bitacora';import Goniometria from'./goniometria';import ExamenManMusc from'./examenManMusc';import DetalleReceta from'../expedientes/detalleReceta';// It's called nota, but actually is the complete expedient \nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NotaFisio(_ref){let{id_paciente,pacienteData}=_ref;// PacienteData is used for Recetas\nconst mobile=window.matchMedia(\"(max-width: 500px)\").matches;const[expedienteData,setExpedienteData]=useState(null);const[addExpedienteModalOpen,setAddExpedienteModalOpen]=useState(false);useEffect(()=>{getExpedienteData();},[id_paciente]);useEffect(()=>{getExpedienteData();},[addExpedienteModalOpen]);const getExpedienteData=()=>{getData(\"fexpedientes/\".concat(id_paciente)).then(rs=>{console.log('ExpedienteData ',rs);setExpedienteData(rs);});};const onChange=key=>{console.log(key);};const items=expedienteData?expedienteData.map((nota,i)=>{// 1 nota = 1 expedient ----- N notas = expedient = array of notas\nreturn{label:\"Nota \".concat(i+1),key:nota._id,children:/*#__PURE__*/_jsxs(Row,{gutter:8,style:{backgroundColor:'white'},children:[/*#__PURE__*/_jsxs(Col,{span:5,children:[/*#__PURE__*/_jsx(LastCita,{paciente:id_paciente}),/*#__PURE__*/_jsx(Bitacora,{bitacoras:nota.bitacoras,id_nota:nota._id,getExpedienteData:getExpedienteData})]}),/*#__PURE__*/_jsx(Col,{span:19,children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Padecimiento,{fisio_data:nota}),/*#__PURE__*/_jsxs(\"div\",{className:mobile?'columna':'fila',children:[/*#__PURE__*/_jsx(Goniometria,{id_expediente:nota._id,goniometria:nota.goniometria,getExpedienteData:getExpedienteData}),/*#__PURE__*/_jsx(ExamenManMusc,{id_expediente:nota._id,examenes:nota.examenes,getExpedienteData:getExpedienteData})]})]})})]})};}):[];return/*#__PURE__*/_jsxs(Card,{style:{marginTop:15},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirectrion:'row',gap:10,alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Notas \"}),/*#__PURE__*/_jsx(Button,{className:\"btnIconCentered\",onClick:()=>{setAddExpedienteModalOpen(true);},size:\"small\",type:\"primary\",shape:\"circle\",icon:/*#__PURE__*/_jsx(PlusOutlined,{}),ghost:true})]}),/*#__PURE__*/_jsx(Tabs,{defaultActiveKey:\"1\",items:items,onChange:onChange}),/*#__PURE__*/_jsx(NuevaNota,{id_paciente:id_paciente,isModalOpen:addExpedienteModalOpen,setIsModalOpen:setAddExpedienteModalOpen})]});}","map":{"version":3,"names":["React","useEffect","useState","Card","Tabs","Row","Col","Button","Padecimiento","getData","PlusOutlined","NuevaNota","FDetalleReceta","LastCita","Bitacora","Goniometria","ExamenManMusc","DetalleReceta","jsx","_jsx","jsxs","_jsxs","NotaFisio","_ref","id_paciente","pacienteData","mobile","window","matchMedia","matches","expedienteData","setExpedienteData","addExpedienteModalOpen","setAddExpedienteModalOpen","getExpedienteData","concat","then","rs","console","log","onChange","key","items","map","nota","i","label","_id","children","gutter","style","backgroundColor","span","paciente","bitacoras","id_nota","fisio_data","className","id_expediente","goniometria","examenes","marginTop","display","flexDirectrion","gap","alignItems","onClick","size","type","shape","icon","ghost","defaultActiveKey","isModalOpen","setIsModalOpen"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/doctorViews/expedieteFisio/nota.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Card, Tabs, Row, Col, Button } from 'antd';\r\nimport Padecimiento from './padecimiento';\r\nimport { getData } from '../../resources'\r\nimport { PlusOutlined } from '@ant-design/icons';\r\nimport NuevaNota from './nuevaNota';\r\nimport FDetalleReceta from './detalleReceta';\r\nimport LastCita from '../expedientes/lastCita';\r\nimport Bitacora from './bitacora';\r\nimport Goniometria from './goniometria';\r\nimport ExamenManMusc from './examenManMusc';\r\nimport DetalleReceta from '../expedientes/detalleReceta'\r\n\r\n// It's called nota, but actually is the complete expedient \r\n\r\nexport default function NotaFisio({ id_paciente, pacienteData }) { // PacienteData is used for Recetas\r\n\r\n    const mobile = window.matchMedia(\"(max-width: 500px)\").matches;\r\n\r\n    const [expedienteData, setExpedienteData] = useState(null)\r\n\r\n    const [addExpedienteModalOpen, setAddExpedienteModalOpen] = useState(false)\r\n\r\n    useEffect(() => {\r\n        getExpedienteData()\r\n    }, [id_paciente])\r\n\r\n    useEffect(() => {\r\n        getExpedienteData()\r\n    }, [addExpedienteModalOpen])\r\n\r\n    const getExpedienteData = () => {\r\n        getData(`fexpedientes/${id_paciente}`).then((rs) => {\r\n            console.log('ExpedienteData ', rs)\r\n            setExpedienteData(rs)\r\n        })\r\n    }\r\n\r\n    const onChange = (key) => {\r\n        console.log(key);\r\n    };\r\n\r\n    const items = expedienteData ? expedienteData.map((nota, i) => { // 1 nota = 1 expedient ----- N notas = expedient = array of notas\r\n        return {\r\n            label: `Nota ${i + 1}`,\r\n            key: nota._id,\r\n            children: <Row gutter={8} style={{ backgroundColor: 'white' }}>\r\n\r\n                {/* Mitad de la pantalla para Receta y last cita*/}\r\n                <Col span={5} >\r\n\r\n            \r\n                    <LastCita paciente={id_paciente} />\r\n\r\n                    <Bitacora bitacoras={nota.bitacoras} id_nota={nota._id} getExpedienteData={getExpedienteData} />\r\n                </Col>\r\n\r\n                {/* la otra mitad de la pantalla para NOTA*/}\r\n                <Col span={19}>\r\n                    <Card>\r\n\r\n                        <Padecimiento fisio_data={nota} />\r\n\r\n                        <div className={mobile ? 'columna' : 'fila'}>\r\n                            <Goniometria id_expediente={nota._id} goniometria={nota.goniometria} getExpedienteData={getExpedienteData} />\r\n                            <ExamenManMusc id_expediente={nota._id} examenes={nota.examenes} getExpedienteData={getExpedienteData} />\r\n                        </div>\r\n\r\n\r\n\r\n                    </Card>\r\n                </Col>\r\n\r\n            </Row>\r\n        }\r\n    }) : []\r\n\r\n\r\n    return <Card style={{ marginTop: 15 }} >\r\n\r\n        <div style={{ display: 'flex', flexDirectrion: 'row', gap: 10, alignItems: 'center' }}>\r\n            <h5>Notas </h5>\r\n            {\r\n                <Button className='btnIconCentered' onClick={() => { setAddExpedienteModalOpen(true) }} size='small' type=\"primary\" shape=\"circle\" icon={<PlusOutlined />} ghost />\r\n            }\r\n        </div>\r\n\r\n\r\n        <Tabs defaultActiveKey=\"1\" items={items} onChange={onChange} />\r\n\r\n        <NuevaNota id_paciente={id_paciente} isModalOpen={addExpedienteModalOpen} setIsModalOpen={setAddExpedienteModalOpen} />\r\n    </Card>\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,IAAI,CAAEC,GAAG,CAAEC,GAAG,CAAEC,MAAM,KAAQ,MAAM,CACnD,MAAO,CAAAC,YAAY,KAAM,gBAAgB,CACzC,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,YAAY,KAAQ,mBAAmB,CAChD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,cAAc,KAAM,iBAAiB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,yBAAyB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,aAAa,KAAM,8BAA8B,CAExD;AAAA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEA,cAAe,SAAS,CAAAC,SAASA,CAAAC,IAAA,CAAgC,IAA/B,CAAEC,WAAW,CAAEC,YAAa,CAAC,CAAAF,IAAA,CAAI;AAE/D,KAAM,CAAAG,MAAM,CAAGC,MAAM,CAACC,UAAU,CAAC,oBAAoB,CAAC,CAACC,OAAO,CAE9D,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAG7B,QAAQ,CAAC,IAAI,CAAC,CAE1D,KAAM,CAAC8B,sBAAsB,CAAEC,yBAAyB,CAAC,CAAG/B,QAAQ,CAAC,KAAK,CAAC,CAE3ED,SAAS,CAAC,IAAM,CACZiC,iBAAiB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACV,WAAW,CAAC,CAAC,CAEjBvB,SAAS,CAAC,IAAM,CACZiC,iBAAiB,CAAC,CAAC,CACvB,CAAC,CAAE,CAACF,sBAAsB,CAAC,CAAC,CAE5B,KAAM,CAAAE,iBAAiB,CAAGA,CAAA,GAAM,CAC5BzB,OAAO,iBAAA0B,MAAA,CAAiBX,WAAW,CAAE,CAAC,CAACY,IAAI,CAAEC,EAAE,EAAK,CAChDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAEF,EAAE,CAAC,CAClCN,iBAAiB,CAACM,EAAE,CAAC,CACzB,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAG,QAAQ,CAAIC,GAAG,EAAK,CACtBH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CACpB,CAAC,CAED,KAAM,CAAAC,KAAK,CAAGZ,cAAc,CAAGA,cAAc,CAACa,GAAG,CAAC,CAACC,IAAI,CAAEC,CAAC,GAAK,CAAE;AAC7D,MAAO,CACHC,KAAK,SAAAX,MAAA,CAAUU,CAAC,CAAG,CAAC,CAAE,CACtBJ,GAAG,CAAEG,IAAI,CAACG,GAAG,CACbC,QAAQ,cAAE3B,KAAA,CAAChB,GAAG,EAAC4C,MAAM,CAAE,CAAE,CAACC,KAAK,CAAE,CAAEC,eAAe,CAAE,OAAQ,CAAE,CAAAH,QAAA,eAG1D3B,KAAA,CAACf,GAAG,EAAC8C,IAAI,CAAE,CAAE,CAAAJ,QAAA,eAGT7B,IAAA,CAACN,QAAQ,EAACwC,QAAQ,CAAE7B,WAAY,CAAE,CAAC,cAEnCL,IAAA,CAACL,QAAQ,EAACwC,SAAS,CAAEV,IAAI,CAACU,SAAU,CAACC,OAAO,CAAEX,IAAI,CAACG,GAAI,CAACb,iBAAiB,CAAEA,iBAAkB,CAAE,CAAC,EAC/F,CAAC,cAGNf,IAAA,CAACb,GAAG,EAAC8C,IAAI,CAAE,EAAG,CAAAJ,QAAA,cACV3B,KAAA,CAAClB,IAAI,EAAA6C,QAAA,eAED7B,IAAA,CAACX,YAAY,EAACgD,UAAU,CAAEZ,IAAK,CAAE,CAAC,cAElCvB,KAAA,QAAKoC,SAAS,CAAE/B,MAAM,CAAG,SAAS,CAAG,MAAO,CAAAsB,QAAA,eACxC7B,IAAA,CAACJ,WAAW,EAAC2C,aAAa,CAAEd,IAAI,CAACG,GAAI,CAACY,WAAW,CAAEf,IAAI,CAACe,WAAY,CAACzB,iBAAiB,CAAEA,iBAAkB,CAAE,CAAC,cAC7Gf,IAAA,CAACH,aAAa,EAAC0C,aAAa,CAAEd,IAAI,CAACG,GAAI,CAACa,QAAQ,CAAEhB,IAAI,CAACgB,QAAS,CAAC1B,iBAAiB,CAAEA,iBAAkB,CAAE,CAAC,EACxG,CAAC,EAIJ,CAAC,CACN,CAAC,EAEL,CACT,CAAC,CACL,CAAC,CAAC,CAAG,EAAE,CAGP,mBAAOb,KAAA,CAAClB,IAAI,EAAC+C,KAAK,CAAE,CAAEW,SAAS,CAAE,EAAG,CAAE,CAAAb,QAAA,eAElC3B,KAAA,QAAK6B,KAAK,CAAE,CAAEY,OAAO,CAAE,MAAM,CAAEC,cAAc,CAAE,KAAK,CAAEC,GAAG,CAAE,EAAE,CAAEC,UAAU,CAAE,QAAS,CAAE,CAAAjB,QAAA,eAClF7B,IAAA,OAAA6B,QAAA,CAAI,QAAM,CAAI,CAAC,cAEX7B,IAAA,CAACZ,MAAM,EAACkD,SAAS,CAAC,iBAAiB,CAACS,OAAO,CAAEA,CAAA,GAAM,CAAEjC,yBAAyB,CAAC,IAAI,CAAC,CAAC,CAAE,CAACkC,IAAI,CAAC,OAAO,CAACC,IAAI,CAAC,SAAS,CAACC,KAAK,CAAC,QAAQ,CAACC,IAAI,cAAEnD,IAAA,CAACT,YAAY,GAAE,CAAE,CAAC6D,KAAK,MAAE,CAAC,EAEtK,CAAC,cAGNpD,IAAA,CAACf,IAAI,EAACoE,gBAAgB,CAAC,GAAG,CAAC9B,KAAK,CAAEA,KAAM,CAACF,QAAQ,CAAEA,QAAS,CAAE,CAAC,cAE/DrB,IAAA,CAACR,SAAS,EAACa,WAAW,CAAEA,WAAY,CAACiD,WAAW,CAAEzC,sBAAuB,CAAC0C,cAAc,CAAEzC,yBAA0B,CAAE,CAAC,EACrH,CAAC,CACX"},"metadata":{},"sourceType":"module"}