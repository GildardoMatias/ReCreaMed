{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Table,Avatar,Button,message}from'antd';import{UserOutlined}from'@ant-design/icons';import{getData}from'../../resources';import Loading from'../../loading';import ReportsDoctors from'./reports.doctors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function HospitalTab(props){const[doctorsData,setDoctorsData]=useState([]);const[loading,setLoading]=useState(false);// Modal for details\nconst[medicForDetails,setMedicForDetails]=useState(null);const[isModalOpen,setIsModalOpen]=useState(false);const handleOk=()=>{setIsModalOpen(false);};// Before all, get DoctorsData\nuseEffect(()=>{getDoctorsData();},[]);const getDoctorsData=()=>{getData(\"users/hospital/\".concat(props.id_hospital)).then(rs=>{setDoctorsData(rs);}).finally(()=>setLoading(false));};const columns=[{title:'Avatar',dataIndex:'avatar',key:'avatar',render:(_,_ref)=>{let{avatar}=_ref;return avatar.length>9?/*#__PURE__*/_jsx(\"img\",{width:64,src:'https://api.recreamed.com/images/'+avatar,alt:\"ProfilePic\",style:{borderRadius:6}}):/*#__PURE__*/_jsx(Avatar,{size:64,icon:/*#__PURE__*/_jsx(UserOutlined,{}),className:\"btnIconCentered\"});}},{title:'Nombre',dataIndex:'name',key:'name'},{title:'Correo',dataIndex:'email',key:'email'},{title:'Telefono',dataIndex:'telefono',key:'telefono'},{title:'Reporte mensual de citas',dataIndex:'reporte',key:'reporte',render:(_,_ref2)=>{let{_id}=_ref2;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{onClick:()=>{message.info(_id);setMedicForDetails(_id);setIsModalOpen(true);},children:\"Ver reporte\"})});}}];if(loading)return/*#__PURE__*/_jsx(Loading,{});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h6\",{children:[\"Doctores del hospital \",props.hospital]}),/*#__PURE__*/_jsx(Table,{dataSource:doctorsData,columns:columns}),/*#__PURE__*/_jsx(ReportsDoctors,{isModalOpen:isModalOpen,handleOk:handleOk,id_medico:medicForDetails})]});}","map":{"version":3,"names":["React","useEffect","useState","Table","Avatar","Button","message","UserOutlined","getData","Loading","ReportsDoctors","jsx","_jsx","jsxs","_jsxs","HospitalTab","props","doctorsData","setDoctorsData","loading","setLoading","medicForDetails","setMedicForDetails","isModalOpen","setIsModalOpen","handleOk","getDoctorsData","concat","id_hospital","then","rs","finally","columns","title","dataIndex","key","render","_","_ref","avatar","length","width","src","alt","style","borderRadius","size","icon","className","_ref2","_id","children","onClick","info","hospital","dataSource","id_medico"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/admHospitalViews/doctors/dash.doctors.hospitalTab.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Table, Avatar, Button,message } from 'antd'\r\nimport { UserOutlined } from '@ant-design/icons'\r\nimport { getData } from '../../resources'\r\nimport Loading from '../../loading'\r\nimport ReportsDoctors from './reports.doctors'\r\n\r\nexport default function HospitalTab(props) {\r\n  const [doctorsData, setDoctorsData] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  // Modal for details\r\n  const [medicForDetails, setMedicForDetails] = useState(null)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const handleOk = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  // Before all, get DoctorsData\r\n  useEffect(() => { getDoctorsData() }, [])\r\n  const getDoctorsData = () => {\r\n    getData(`users/hospital/${props.id_hospital}`).then((rs) => { setDoctorsData(rs) }).finally(() => setLoading(false))\r\n  }\r\n  const columns = [\r\n    {\r\n      title: 'Avatar',\r\n      dataIndex: 'avatar',\r\n      key: 'avatar',\r\n      render: (_, { avatar }) => {\r\n        return avatar.length > 9 ?\r\n          <img width={64} src={'https://api.recreamed.com/images/' + avatar} alt='ProfilePic' style={{borderRadius: 6}} /> :\r\n          <Avatar size={64} icon={<UserOutlined />} className='btnIconCentered' />\r\n      }\r\n    },\r\n    {\r\n      title: 'Nombre',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n    },\r\n    {\r\n      title: 'Correo',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: 'Telefono',\r\n      dataIndex: 'telefono',\r\n      key: 'telefono',\r\n    },\r\n    {\r\n      title: 'Reporte mensual de citas',\r\n      dataIndex: 'reporte',\r\n      key: 'reporte',\r\n      render: (_, { _id }) => {\r\n        return <div>\r\n          <Button onClick={() => {message.info(_id) ; setMedicForDetails(_id); setIsModalOpen(true) }}>\r\n            Ver reporte\r\n          </Button>\r\n        </div>\r\n      }\r\n    },\r\n\r\n  ];\r\n\r\n  if (loading) return <Loading />\r\n\r\n  return <div>\r\n    <h6>Doctores del hospital {props.hospital}</h6>\r\n\r\n    <Table dataSource={doctorsData} columns={columns} />\r\n\r\n    <ReportsDoctors isModalOpen={isModalOpen} handleOk={handleOk} id_medico={medicForDetails} />\r\n  </div>\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}