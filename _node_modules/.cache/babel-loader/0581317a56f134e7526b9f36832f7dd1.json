{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gil\\\\Documents\\\\ReCreaMed\\\\src\\\\doctorViews\\\\pacientes\\\\code.generate.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { Button, Modal, message } from 'antd';\nimport { QrcodeOutlined } from '@ant-design/icons';\nimport QRCode from \"react-qr-code\";\nimport { toBlob, toPng } from 'html-to-image';\nimport { usuario } from '../../resources';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CodeGenerate() {\n  _s();\n  const imageRef = useRef(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const url = `https://sistema.recreamed.com/register/${usuario._id}/patient`;\n  // const url = `localhost:3000/register/${usuario._id}/patient`\n\n  const showModal = () => {\n    setIsModalOpen(true);\n  };\n  const handleOk = () => {\n    setIsModalOpen(false);\n  };\n  const handleCancel = () => {\n    setIsModalOpen(false);\n  };\n  const copyLink = () => {\n    navigator.clipboard.writeText(url);\n    message.success('Enlace Copiado al Portapapeles!');\n  };\n  const handleDownload = async () => {\n    const dataUrl = await toPng(imageRef.current, {\n      width: 288\n    });\n\n    // download image\n    const link = document.createElement('a');\n    link.download = \"codigo-de-registro.png\";\n    link.href = dataUrl;\n    link.click();\n  };\n  const handleCopy = async () => {\n    message.info('Espere mientras se copia el codigo...');\n    toBlob(imageRef.current, {\n      width: 288\n    }).then(async function (blob) {\n      try {\n        await navigator.clipboard.write([\n        // eslint-disable-next-line no-undef\n        new ClipboardItem({\n          [blob.type]: blob\n        })]);\n        console.log(\"Image copied\");\n        message.success('Codigo Copiado al Portapapeles');\n      } catch (error) {\n        console.error(error);\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      className: \"btnIconCentered\",\n      style: {\n        height: 30,\n        marginLeft: 6\n      },\n      onClick: showModal,\n      size: \"small\",\n      icon: /*#__PURE__*/_jsxDEV(QrcodeOutlined, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 122\n      }, this),\n      shape: \"round\",\n      type: \"primary\",\n      ghost: true,\n      children: \"Registrar con QR\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Registro por QR\",\n      open: isModalOpen,\n      onCancel: handleCancel,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: handleOk,\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 92\n      }, this)],\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Comparta el siguiente \", /*#__PURE__*/_jsxDEV(Button, {\n          title: \"Haga click para copiar el enlace\",\n          type: \"link\",\n          onClick: copyLink,\n          style: {\n            marginRight: 0,\n            marginLeft: 0,\n            padding: 0\n          },\n          children: \"enlace\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 39\n        }, this), \" para registrar un nuevo paciente:\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columna\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: imageRef,\n          style: {\n            background: 'white',\n            padding: '16px'\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(QRCode, {\n            value: url\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 87\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleDownload,\n            children: \"Descargar Codigo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleCopy,\n            style: {\n              marginLeft: 12\n            },\n            children: \"Copiar Codigo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 12\n  }, this);\n}\n_s(CodeGenerate, \"TQW7ds8lzXiYucVZvKagJsnSp/E=\");\n_c = CodeGenerate;\nvar _c;\n$RefreshReg$(_c, \"CodeGenerate\");","map":{"version":3,"names":["React","useState","useRef","Button","Modal","message","QrcodeOutlined","QRCode","toBlob","toPng","usuario","jsxDEV","_jsxDEV","CodeGenerate","_s","imageRef","isModalOpen","setIsModalOpen","url","_id","showModal","handleOk","handleCancel","copyLink","navigator","clipboard","writeText","success","handleDownload","dataUrl","current","width","link","document","createElement","download","href","click","handleCopy","info","then","blob","write","ClipboardItem","type","console","log","error","children","className","style","height","marginLeft","onClick","size","icon","fileName","_jsxFileName","lineNumber","columnNumber","shape","ghost","title","open","onCancel","footer","marginRight","padding","ref","background","value","_c","$RefreshReg$"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/doctorViews/pacientes/code.generate.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react'\r\nimport { Button, Modal, message } from 'antd'\r\nimport { QrcodeOutlined } from '@ant-design/icons';\r\nimport QRCode from \"react-qr-code\";\r\nimport { toBlob, toPng } from 'html-to-image';\r\nimport { usuario } from '../../resources';\r\n\r\nexport default function CodeGenerate() {\r\n\r\n    const imageRef = useRef(null);\r\n\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n    const url = `https://sistema.recreamed.com/register/${usuario._id}/patient`\r\n    // const url = `localhost:3000/register/${usuario._id}/patient`\r\n\r\n    const showModal = () => {\r\n        setIsModalOpen(true);\r\n    };\r\n    const handleOk = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n    const handleCancel = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const copyLink = () => {\r\n        navigator.clipboard.writeText(url)\r\n        message.success('Enlace Copiado al Portapapeles!')\r\n    }\r\n\r\n    const handleDownload = async () => {\r\n        const dataUrl = await toPng(imageRef.current, { width: 288 });\r\n\r\n        // download image\r\n        const link = document.createElement('a');\r\n        link.download = \"codigo-de-registro.png\";\r\n        link.href = dataUrl;\r\n        link.click();\r\n    }\r\n\r\n    const handleCopy = async () => {\r\n        message.info('Espere mientras se copia el codigo...')\r\n        toBlob(imageRef.current, { width: 288 })\r\n            .then(async function (blob) {\r\n                try {\r\n                    await navigator.clipboard.write([\r\n                        // eslint-disable-next-line no-undef\r\n                        new ClipboardItem({\r\n                            [blob.type]: blob\r\n                        })\r\n                    ]);\r\n                    console.log(\"Image copied\");\r\n                    message.success('Codigo Copiado al Portapapeles')\r\n                } catch (error) {\r\n                    console.error(error);\r\n                }\r\n            });\r\n    }\r\n\r\n    return <div>\r\n        <Button className='btnIconCentered' style={{ height: 30, marginLeft: 6 }} onClick={showModal} size='small' icon={<QrcodeOutlined />} shape='round' type=\"primary\" ghost >Registrar con QR</Button>\r\n\r\n        <Modal title=\"Registro por QR\" open={isModalOpen} onCancel={handleCancel} footer={[<Button type='primary' onClick={handleOk}>Cerrar</Button>]}        >\r\n\r\n            <p>Comparta el siguiente {<Button title='Haga click para copiar el enlace' type='link' onClick={copyLink} style={{ marginRight: 0, marginLeft: 0, padding: 0 }}>enlace</Button>} para registrar un nuevo paciente:</p>\r\n            {/* <a href={url} target='_blank' rel='noreferrer'>Ir al enlace</a> */}\r\n            {/* <Button onClick={copyLink}>Copiar enlace</Button> */}\r\n\r\n\r\n            <div className='columna'>\r\n                <div ref={imageRef} style={{ background: 'white', padding: '16px' }}> <QRCode value={url} /> </div>\r\n                <div>\r\n                    <Button onClick={handleDownload}>Descargar Codigo</Button>\r\n                    <Button onClick={handleCopy} style={{ marginLeft: 12 }}>Copiar Codigo</Button>\r\n                </div>\r\n            </div>\r\n\r\n        </Modal>\r\n    </div>\r\n\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}