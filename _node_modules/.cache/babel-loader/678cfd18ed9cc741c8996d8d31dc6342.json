{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gil\\\\Documents\\\\ReCreaMed\\\\src\\\\doctorViews\\\\perfil\\\\service.add.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Form, Input, Button, InputNumber, Modal, ColorPicker } from 'antd';\nimport { updateData, pre_colors } from '../../resources';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddService({\n  isOpen,\n  handleClose,\n  service,\n  profileData,\n  getProfileData\n}) {\n  _s();\n  const [initialService, setinitialService] = useState(null);\n  useEffect(() => {\n    console.log('before', profileData);\n    setinitialService(service);\n  }, [service]);\n  const onFinish = async values => {\n    if (values.color.metaColor) values.color = '#' + values.color.metaColor.originalInput;\n    console.log(values);\n    const newData = profileData.configuracion ? {\n      configuracion: {\n        tratamientos_ofrecidos: [...profileData.configuracion.tratamientos_ofrecidos, values]\n      }\n    } : {\n      configuracion: {\n        tratamientos_ofrecidos: values\n      }\n    };\n    await updateData(`/users/updateUser/${profileData._id}`, newData).then(rs => {\n      console.log(rs);\n      getProfileData();\n      handleClose();\n    });\n  };\n  const onFinishEdit = async values => {\n    if (values.color.metaColor) values.color = '#' + values.color.metaColor.originalInput;\n    console.log(values);\n    const {\n      configuracion: {\n        tratamientos_ofrecidos\n      }\n    } = profileData;\n    const foundIndex = tratamientos_ofrecidos.findIndex(svc => svc._id === service._id);\n    tratamientos_ofrecidos[foundIndex] = values;\n    profileData.configuracion.tratamientos_ofrecidos = tratamientos_ofrecidos;\n    console.log(\"after: \", profileData);\n    await updateData(`/users/updateUser/${profileData._id}`, profileData).then(rs => {\n      console.log(rs);\n      getProfileData();\n      handleClose();\n    });\n  };\n  useEffect(() => {\n    return () => {\n      setinitialService(null);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: service ? \"Editar Servicio\" : \"Agregar Servicio\",\n    open: isOpen,\n    onCancel: handleClose,\n    destroyOnClose: true,\n    footer: [/*#__PURE__*/_jsxDEV(Button, {\n      type: \"primary\",\n      htmlType: \"submit\",\n      form: \"add_tratamiento_medic\",\n      children: service ? \"Guardar\" : \"Agregar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: handleClose,\n      children: \"Cerrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this)],\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      name: \"add_tratamiento_medic\",\n      onFinish: service ? onFinishEdit : onFinish,\n      labelCol: {\n        span: 8\n      },\n      wrapperCol: {\n        span: 16\n      },\n      style: {\n        maxWidth: 600\n      },\n      initialValues: service ? service : {\n        color: '#3174ad'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"tratamiento\",\n        label: \"Tratamiento\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Ingresa Descripcion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"observaciones\",\n        label: \"Observaciones\",\n        rules: [{\n          required: false\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          placeholder: \"Ingresa Observaciones\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"costo\",\n        label: \"Costo\",\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(InputNumber, {\n          placeholder: \"Costo\",\n          style: {\n            width: '100%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"color\",\n        label: \"Color en calendario\",\n        rules: [{\n          required: false\n        }],\n        children: /*#__PURE__*/_jsxDEV(ColorPicker, {\n          presets: [{\n            label: 'Colores recomendados',\n            colors: pre_colors\n          }, {\n            label: 'Recientes',\n            colors: []\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(AddService, \"A3K3mZfM+QAYpzHB/wRYEa4AQDc=\");\n_c = AddService;\nvar _c;\n$RefreshReg$(_c, \"AddService\");","map":{"version":3,"names":["React","useEffect","useState","Form","Input","Button","InputNumber","Modal","ColorPicker","updateData","pre_colors","jsxDEV","_jsxDEV","AddService","isOpen","handleClose","service","profileData","getProfileData","_s","initialService","setinitialService","console","log","onFinish","values","color","metaColor","originalInput","newData","configuracion","tratamientos_ofrecidos","_id","then","rs","onFinishEdit","foundIndex","findIndex","svc","title","open","onCancel","destroyOnClose","footer","type","htmlType","form","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","name","labelCol","span","wrapperCol","style","maxWidth","initialValues","Item","label","rules","required","placeholder","width","presets","colors","_c","$RefreshReg$"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/doctorViews/perfil/service.add.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Form, Input, Button, InputNumber, Modal, ColorPicker } from 'antd';\r\nimport { updateData, pre_colors } from '../../resources';\r\n\r\nexport default function AddService({ isOpen, handleClose, service, profileData, getProfileData }) {\r\n\r\n    const [initialService, setinitialService] = useState(null)\r\n\r\n    useEffect(() => {\r\n        console.log('before', profileData)\r\n        setinitialService(service)\r\n    }, [service])\r\n\r\n    const onFinish = async (values) => {\r\n        if (values.color.metaColor) values.color = '#' + values.color.metaColor.originalInput;\r\n        console.log(values)\r\n        const newData = profileData.configuracion ? { configuracion: { tratamientos_ofrecidos: [...profileData.configuracion.tratamientos_ofrecidos, values] } } : { configuracion: { tratamientos_ofrecidos: values } }\r\n        await updateData(`/users/updateUser/${profileData._id}`, newData).then((rs) => { console.log(rs); getProfileData(); handleClose() })\r\n    };\r\n\r\n    const onFinishEdit = async (values) => {\r\n        if (values.color.metaColor) values.color = '#' + values.color.metaColor.originalInput;\r\n        console.log(values)\r\n        const { configuracion: { tratamientos_ofrecidos } } = profileData;\r\n        const foundIndex = tratamientos_ofrecidos.findIndex((svc => svc._id === service._id));\r\n        tratamientos_ofrecidos[foundIndex] = values;\r\n        profileData.configuracion.tratamientos_ofrecidos = tratamientos_ofrecidos;\r\n        console.log(\"after: \", profileData)\r\n        await updateData(`/users/updateUser/${profileData._id}`, profileData).then((rs) => { console.log(rs); getProfileData(); handleClose() })\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            setinitialService(null)\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <Modal title={service ? \"Editar Servicio\" : \"Agregar Servicio\"} open={isOpen} onCancel={handleClose} destroyOnClose\r\n            footer={[\r\n                <Button type=\"primary\" htmlType=\"submit\" form='add_tratamiento_medic'>\r\n                    {service ? \"Guardar\" : \"Agregar\"}\r\n                </Button>,\r\n                <Button onClick={handleClose}>Cerrar</Button>\r\n            ]}\r\n        >\r\n            <Form\r\n                name=\"add_tratamiento_medic\"\r\n                onFinish={service ? onFinishEdit : onFinish}\r\n                labelCol={{ span: 8 }} wrapperCol={{ span: 16 }} style={{ maxWidth: 600 }}\r\n                initialValues={service ? service : { color: '#3174ad' }}\r\n            >\r\n\r\n                {/* {JSON.stringify(service)} */}\r\n\r\n                <Form.Item name=\"tratamiento\" label=\"Tratamiento\" rules={[{ required: true }]}  >\r\n                    <Input placeholder=\"Ingresa Descripcion\" />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"observaciones\" label=\"Observaciones\" rules={[{ required: false }]}  >\r\n                    <Input placeholder=\"Ingresa Observaciones\" />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"costo\" label=\"Costo\" rules={[{ required: true }]}  >\r\n                    <InputNumber placeholder=\"Costo\" style={{ width: '100%' }} />\r\n                </Form.Item>\r\n\r\n                <Form.Item name=\"color\" label=\"Color en calendario\" rules={[{ required: false }]}  >\r\n                    <ColorPicker\r\n                        presets={[\r\n                            {\r\n                                label: 'Colores recomendados',\r\n                                colors: pre_colors,\r\n                            },\r\n                            {\r\n                                label: 'Recientes',\r\n                                colors: [],\r\n                            },\r\n                        ]}\r\n                    />\r\n                </Form.Item>\r\n\r\n            </Form>\r\n        </Modal>\r\n\r\n    )\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}