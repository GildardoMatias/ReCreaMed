{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Form,Input,Button,message,Space,Divider,Upload,Switch,DatePicker}from'antd';import{InputNumber,Select,Modal}from'antd';import{S_API,API,getData}from'../../resources';import{usuario,estados}from'../../resources';import{UploadOutlined,PlusOutlined,MinusCircleOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const{Option}=Select;const id_sucursales=usuario&&usuario.horarios.map(function(item){return item['sucursal']['_id'];});export default function Register(props){const[form]=Form.useForm();const[avatar,setAvatar]=useState(props.paciente?props.paciente.avatar:'noimg.jpg');const[medicosData,setMedicosData]=useState([]);useEffect(()=>{getData('users_by_rol/Medico').then(rs=>{setMedicosData(findMyDoctors(rs));});},[]);// EScoger solo los medicos que compartan siucursal y darlse formato pÃ¡ra el select\nconst findMyDoctors=arr=>{let doctorsFound=[];arr.forEach(doctor=>{doctor.horarios.forEach(h=>{if(id_sucursales.includes(h.sucursal._id)&&!doctorsFound.includes(doctor)){doctor.label=doctor.name;doctor.value=doctor._id;doctorsFound.push(doctor);}});});return doctorsFound;};async function addHistoria(){return await fetch(API+'historias/add',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({historial:\"Historia clinica al \"+new Date()})}).then(res=>res.json()).then(response=>{console.log('Story Created: ',response);return response;}).catch(error=>console.error('Error:',error));}const createPAtientData=async usr=>{const historia=await addHistoria();console.log('historia on Register: ',historia);const postBody={usuario:usr,historia:historia.id_historia,notas:[],recetas:[]};console.log('postBodyForExpedient: ',postBody);await fetch(API+'expedientes/add',{method:'POST',body:JSON.stringify(postBody),headers:{'Content-Type':'application/json'}}).then(res=>res.json()).then(response=>{console.log('Success:',response);message.success(response.message||response.error);// if (response.message && response.message === 'Expediente creado correctamente') {\n//   props.setAdding(false)\n// }\n}).catch(error=>console.error('Error:',error));};const onFinish=async values=>{// Register patient\nvalues.avatar=avatar;values.estatus='1';values.rol='Paciente';values.password=''+values.telefono;values.universidades=[];values.certificacion='';values.cedula='';values.horarios=[];// values.medicos_asignados = props.paciente ? props.paciente.medicos_asignados : [usuario._id];\nvalues.responsable=props.paciente?props.paciente.responsable:{nombre:values.res_name,telefono:values.res_phone};delete values.prefix;delete values.res_name;delete values.res_phone;const url=props.paciente?API+'users/updateUser/'+props.paciente._id:S_API+'register';console.log(values);console.log('url: ',url);await fetch(url,{method:props.paciente?'PUT':'POST',body:JSON.stringify(values),headers:{'Content-Type':'application/json'}}).then(res=>res.json()).then(response=>{message.success(response.message||response.error);props.paciente?console.log('Editing, not creating patient'):createPAtientData(response.user_id);response.message==='Usuario creado correctamente'?window.location.reload(false):console.log(response);// props.setAdding(false) : console.log(response);\nresponse.message==='Usuario actualizado correctamente'?props.setAdding(false):console.log(response);}).catch(error=>console.error('Error:',error)).finally(()=>{if(props.getPacientesData)props.getPacientesData();});};const onFinishFailed=errorInfo=>{console.log('Failed:',errorInfo);errorInfo.errorFields.forEach(p=>{message.error('Ingrese el campo '+p.name);});};//Start upload props Upload File\nconst dragDropProps={name:'file',multiple:false,action:API+'imagenes/upload',onChange(info){const{status}=info.file;if(status!=='uploading'){console.log(info.file,info.fileList);}if(status==='done'){message.success(\"\".concat(info.file.name,\" file uploaded successfully.\"));console.log('New Files: ',info.file.response.file);setAvatar(info.file.response.file);}else if(status==='error'){message.error(\"\".concat(info.file.name,\" file upload failed.\"));}}// onDrop(e) {\n//   console.log('Dropped files', e.dataTransfer.files);\n// },\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"mainContainer\",children:[props.paciente?/*#__PURE__*/_jsx(\"h4\",{children:\"Editar paciente\"}):/*#__PURE__*/_jsx(\"h4\",{children:\"Registrar Paciente\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Upload,{...dragDropProps,children:/*#__PURE__*/_jsx(Button,{type:\"dashed\",icon:/*#__PURE__*/_jsx(UploadOutlined,{style:{fontSize:24,color:'#0d6efd'}}),style:{width:400,height:80},block:true,children:\"Selecciona la foto de perfil\"})})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Form// {...formItemLayout}\n,{labelCol:{span:6},wrapperCol:{span:16},form:form,name:\"register\",onFinish:onFinish,onFinishFailed:onFinishFailed,initialValues:props.paciente,scrollToFirstError:true,children:[/*#__PURE__*/_jsx(Form.Item,{name:\"name\",label:\"Nombre\",rules:[{required:true,message:'Ingresa Nombre y apellidos'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"email\",label:\"Correo\",rules:[{type:'email',message:'Ingresa un correo electronico vaido!'},{required:true,message:'Ingresa un correo electronico'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"telefono\",label:\"Telefono\",rules:[{required:true,message:'Ingresa tu numero de telefono'}],children:/*#__PURE__*/_jsx(InputNumber// addonBefore={prefixSelector}\n,{style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{name:\"medicos_asignados\",label:\"Medicos Asignados\",rules:[{required:true,message:'Agrega al mennos un medico'}],children:/*#__PURE__*/_jsx(Form.List,{name:\"medicos_asignados\",children:(fields,_ref,_ref2)=>{let{add,remove}=_ref;let{errors}=_ref2;return/*#__PURE__*/_jsxs(_Fragment,{children:[fields.map((field,index)=>/*#__PURE__*/_jsxs(Form.Item,{label:\"\",required:false,children:[/*#__PURE__*/_jsx(Form.Item,{...field,noStyle:true,validateTrigger:['onChange','onBlur'],rules:[{required:true,whitespace:true,message:\"Selecciona un Medico o elimina este campo\"}],children:/*#__PURE__*/_jsx(Select,{options:medicosData,placeholder:\"Selecciona Medico\",style:{width:fields.length>1?'90%':'100%'}})}),fields.length>1?/*#__PURE__*/_jsx(MinusCircleOutlined,{className:\"dynamic-delete-button\",onClick:()=>remove(field.name)}):null]},field.key)),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{type:\"dashed\",onClick:()=>add(),icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"Agregar Medico\"}),/*#__PURE__*/_jsx(Form.ErrorList,{errors:errors})]})]});}})}),/*#__PURE__*/_jsx(Divider,{children:\"Responsable (opcional) \"}),/*#__PURE__*/_jsx(Form.Item,{name:\"res_name\",label:\"Nombre Responsable\",children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"res_phone\",label:\"Telefono Responsable\",children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Form.Item,{name:\"calle\",label:\"Calle\",rules:[{required:false,message:'Ingresa calle',whitespace:true}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"numexterior\",label:\"Num Exterior\",rules:[{required:false,message:'Ingresa numero exterior'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"numinterior\",label:\"Num Interior\",rules:[{required:false,message:'Ingresa numinterior'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{label:\"Colonia\",name:\"colonia\",rules:[{required:false,message:'Ingresa '}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"estado\",label:\"Estado\",rules:[{required:false,message:'Apellido materno'}],children:/*#__PURE__*/_jsx(Select,{placeholder:\"Elije tu estado\",showSearch:true,children:estados.map(e=>/*#__PURE__*/_jsx(Option,{value:e,children:e}))})}),/*#__PURE__*/_jsx(Form.Item,{name:\"municipio\",label:\"Municipio\",rules:[{required:false,message:'Ingresa tu municipio'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"codigopostal\",label:\"Codigo Postal\",rules:[{required:false,message:'Ingresa codigopostal'}],children:/*#__PURE__*/_jsx(InputNumber,{style:{width:'100%'}})}),/*#__PURE__*/_jsx(Form.Item,{name:\"sexo\",label:\"sexo\",rules:[{required:false,message:'Selecciona una opcion'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Elije el sexo\",children:[/*#__PURE__*/_jsx(Option,{value:\"H\",children:\"H\"}),/*#__PURE__*/_jsx(Option,{value:\"M\",children:\"M\"}),/*#__PURE__*/_jsx(Option,{value:\"Otro\",children:\"Otro\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"edad\",label:\"Edad\",rules:[{required:false,message:'Ingresa edad'}],children:/*#__PURE__*/_jsx(InputNumber,{min:1,max:120})}),/*#__PURE__*/_jsx(Form.Item,{name:\"diagnostico\",label:\"Diagnostico\",rules:[{required:false,message:'Ingresa el diagnostico'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"peso\",label:\"Peso\",rules:[{required:false,message:'Ingresa el peso'}],children:/*#__PURE__*/_jsx(InputNumber,{min:1,max:200})}),/*#__PURE__*/_jsx(Form.Item,{name:\"talla\",label:\"Talla\",rules:[{required:false,message:'Ingresa la talla'}],children:/*#__PURE__*/_jsx(InputNumber,{min:1,max:200})}),/*#__PURE__*/_jsx(Form.Item,{name:\"ocupacion\",label:\"Ocupacion\",rules:[{required:false,message:'Ingresa ocupacion'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"estado_civil\",label:\"Estado Civil\",rules:[{required:false,message:'Ingresa estado civil'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Elije el estado civil\",children:[/*#__PURE__*/_jsx(Option,{value:\"Soltero\",children:\"Soltero\"}),/*#__PURE__*/_jsx(Option,{value:\"Casado\",children:\"Casado\"}),/*#__PURE__*/_jsx(Option,{value:\"Divorciado\",children:\"Divorciado\"}),/*#__PURE__*/_jsx(Option,{value:\"Separaci\\xF3n en proceso judicial\",children:\"Separaci\\xF3n en proceso judicial\"}),/*#__PURE__*/_jsx(Option,{value:\"Viudo\",children:\"Viudo\"}),/*#__PURE__*/_jsx(Option,{value:\"Concubinato\",children:\"Concubinato\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"escolaridad\",label:\"Escolaridad\",rules:[{required:false,message:'Ingresa escolaridad'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Elije escolaridad\",children:[/*#__PURE__*/_jsx(Option,{value:\"Ninguno\",children:\"Ninguno\"}),/*#__PURE__*/_jsx(Option,{value:\"Preescolar\",children:\"Preescolar\"}),/*#__PURE__*/_jsx(Option,{value:\"Primaria\",children:\"Primaria\"}),/*#__PURE__*/_jsx(Option,{value:\"Secundaria\",children:\"Secundaria\"}),/*#__PURE__*/_jsx(Option,{value:\"Medio Superior\",children:\"Medio Superior\"}),/*#__PURE__*/_jsx(Option,{value:\"Superior\",children:\"Superior\"}),/*#__PURE__*/_jsx(Option,{value:\"Posgrado\",children:\"Posgrado\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"lugar_de_nacimiento\",label:\"Lugar De Nacimiento\",rules:[{required:false,message:'Ingresa el lugar de nacimiento'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"fecha_nacimiento\",label:\"Fecha De Nacimiento\",rules:[{required:false,message:'Ingresa la fecha de nacimiento'}],children:/*#__PURE__*/_jsx(DatePicker,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"ciudad\",label:\"Ciudad de residencia\",rules:[{required:false,message:'Ingresa ciudad'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"fuma\",label:\"Fuma\",rules:[{required:false,message:'Ingresa tu universidad'}],children:/*#__PURE__*/_jsx(Switch,{defaultChecked:false})}),/*#__PURE__*/_jsx(Form.Item,{name:\"alcohol\",label:\"Alcohol\",rules:[{required:false,message:'Ingresa tu universidad'}],children:/*#__PURE__*/_jsx(Switch,{defaultChecked:false})}),/*#__PURE__*/_jsx(Form.Item,{name:\"drogas\",label:\"Drogas\",rules:[{required:false,message:'Selecciona una opcion'}],children:/*#__PURE__*/_jsxs(Select,{placeholder:\"Elije una opcion\",children:[/*#__PURE__*/_jsx(Option,{value:\"Antes\",children:\"Antes\"}),/*#__PURE__*/_jsx(Option,{value:\"Ahora\",children:\"Ahora\"}),/*#__PURE__*/_jsx(Option,{value:\"Nunca\",children:\"Nunca\"})]})}),/*#__PURE__*/_jsx(Form.Item,{name:\"cuales_drogas\",label:\"Cuales Drogas\",rules:[{required:false,message:'Selecciona una opcion'}],children:/*#__PURE__*/_jsx(Input,{})}),/*#__PURE__*/_jsx(Form.Item,{name:\"enfermedades_familiares\",label:\"Enfermedades Familiares\",rules:[{required:false,message:'Ingresa tu universidad'}],children:/*#__PURE__*/_jsx(Form.List,{name:\"enfermedades_familiares\",children:(fields,_ref3,_ref4)=>{let{add,remove}=_ref3;let{errors}=_ref4;return/*#__PURE__*/_jsxs(_Fragment,{children:[fields.map((field,index)=>/*#__PURE__*/_jsxs(Form.Item,{label:\"\",required:false,children:[/*#__PURE__*/_jsx(Form.Item,{...field,noStyle:true,validateTrigger:['onChange','onBlur'],rules:[{required:true,whitespace:true,message:\"Ingresa la enfermedad o elimina este campo\"}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Ingresa enfermedad\",style:{width:fields.length>1?'90%':'100%'}})}),fields.length>1?/*#__PURE__*/_jsx(MinusCircleOutlined,{className:\"dynamic-delete-button\",onClick:()=>remove(field.name)}):null]},field.key)),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{type:\"dashed\",onClick:()=>add(),icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"Agregar Enfermedad Familiar\"}),/*#__PURE__*/_jsx(Form.ErrorList,{errors:errors})]})]});}})}),/*#__PURE__*/_jsx(Form.Item,{name:\"enfermedades_medicas\",label:\"Enfermedades Medicas\",rules:[{required:false,message:'Ingresa tu universidad'}],children:/*#__PURE__*/_jsx(Form.List,{name:\"enfermedades_medicas\",children:(fields,_ref5,_ref6)=>{let{add,remove}=_ref5;let{errors}=_ref6;return/*#__PURE__*/_jsxs(_Fragment,{children:[fields.map((field,index)=>/*#__PURE__*/_jsxs(Form.Item,{label:\"\",required:false,children:[/*#__PURE__*/_jsx(Form.Item,{...field,noStyle:true,validateTrigger:['onChange','onBlur'],rules:[{required:true,whitespace:true,message:\"Ingresa la enfermedad o elimina este campo\"}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Ingresa enfermedad\",style:{width:fields.length>1?'90%':'100%'}})}),fields.length>1?/*#__PURE__*/_jsx(MinusCircleOutlined,{className:\"dynamic-delete-button\",onClick:()=>remove(field.name)}):null]},field.key)),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{type:\"dashed\",onClick:()=>add(),icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"Agregar Enfermedad Medica\"}),/*#__PURE__*/_jsx(Form.ErrorList,{errors:errors})]})]});}})}),/*#__PURE__*/_jsx(Form.Item,{name:\"tratamiento_actual\",label:\"Tratamiento actual\",rules:[{required:false,message:'Ingresa tu universidad'}],children:/*#__PURE__*/_jsx(Form.List,{name:\"tratamiento_actual\",children:(fields,_ref7,_ref8)=>{let{add,remove}=_ref7;let{errors}=_ref8;return/*#__PURE__*/_jsxs(_Fragment,{children:[fields.map((field,index)=>/*#__PURE__*/_jsxs(Form.Item,{// label={`Tratamiento ${index + 1}`} \nlabel:\"\",required:false,children:[/*#__PURE__*/_jsx(Form.Item,{...field,noStyle:true,validateTrigger:['onChange','onBlur'],rules:[{required:true,whitespace:true,message:\"Ingresa la enfermedad o elimina este campo\"}],children:/*#__PURE__*/_jsx(Input,{placeholder:\"Ingresa enfermedad\",style:{width:fields.length>1?'90%':'100%'}})}),fields.length>1?/*#__PURE__*/_jsx(MinusCircleOutlined,{className:\"dynamic-delete-button\",onClick:()=>remove(field.name)}):null]},field.key)),/*#__PURE__*/_jsxs(Form.Item,{children:[/*#__PURE__*/_jsx(Button,{type:\"dashed\",onClick:()=>add(),icon:/*#__PURE__*/_jsx(PlusOutlined,{}),children:\"Agregar Tratamiento\"}),/*#__PURE__*/_jsx(Form.ErrorList,{errors:errors})]})]});}})}),/*#__PURE__*/_jsx(Form.Item,{labelCol:{span:6},wrapperCol:{offset:6,span:16},children:/*#__PURE__*/_jsxs(Space,{children:[/*#__PURE__*/_jsx(Button,{type:\"primary\",htmlType:\"submit\",children:props.paciente?'Guardar':'Registrar'}),props.setAdding&&/*#__PURE__*/_jsx(Button,{onClick:()=>props.setAdding(false),children:\"Cancelar\"})]})})]})]});}export function RegisterModal(_ref9){let{paciente,setIsModalOpen,isModalOpen,getPacientesData}=_ref9;// copyng the medic register patient technique \nconst handleOk=()=>{setIsModalOpen(false);};const handleCancel=()=>{setIsModalOpen(false);};return/*#__PURE__*/_jsx(Modal,{width:800,title:paciente?'Editar Paciente':'Registrar Paciente',open:isModalOpen,onOk:handleOk,onCancel:handleCancel,destroyOnClose:true,footer:[// <Button onClick={() => setIsModalOpen(false)}>Cancelar</Button>,\n// <Button type=\"primary\" htmlType=\"submit\" form='register_patient_medic'>\n//   Guardar\n// </Button>\n],children:/*#__PURE__*/_jsx(Register,{paciente:paciente,setAdding:setIsModalOpen,getPacientesData:getPacientesData})});}","map":{"version":3,"names":["React","useState","useEffect","Form","Input","Button","message","Space","Divider","Upload","Switch","DatePicker","InputNumber","Select","Modal","S_API","API","getData","usuario","estados","UploadOutlined","PlusOutlined","MinusCircleOutlined","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Option","id_sucursales","horarios","map","item","Register","props","form","useForm","avatar","setAvatar","paciente","medicosData","setMedicosData","then","rs","findMyDoctors","arr","doctorsFound","forEach","doctor","h","includes","sucursal","_id","label","name","value","push","addHistoria","fetch","method","headers","body","JSON","stringify","historial","Date","res","json","response","console","log","catch","error","createPAtientData","usr","historia","postBody","id_historia","notas","recetas","success","onFinish","values","estatus","rol","password","telefono","universidades","certificacion","cedula","responsable","nombre","res_name","res_phone","prefix","url","user_id","window","location","reload","setAdding","finally","getPacientesData","onFinishFailed","errorInfo","errorFields","p","dragDropProps","multiple","action","onChange","info","status","file","fileList","concat","className","children","style","display","alignItems","justifyContent","type","icon","fontSize","color","width","height","block","labelCol","span","wrapperCol","initialValues","scrollToFirstError","Item","rules","required","List","fields","_ref","_ref2","add","remove","errors","field","index","noStyle","validateTrigger","whitespace","options","placeholder","length","onClick","key","ErrorList","showSearch","e","min","max","defaultChecked","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","offset","htmlType","RegisterModal","_ref9","setIsModalOpen","isModalOpen","handleOk","handleCancel","title","open","onOk","onCancel","destroyOnClose","footer"],"sources":["C:/Users/Gil/Documents/ReCreaMed/src/recepcionViews/pacientes/register.user.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Form, Input, Button, message, Space, Divider, Upload, Switch, DatePicker } from 'antd'\r\nimport { InputNumber, Select, Modal } from 'antd';\r\nimport { S_API, API, getData } from '../../resources'\r\nimport { usuario, estados } from '../../resources'\r\nimport { UploadOutlined, PlusOutlined, MinusCircleOutlined } from '@ant-design/icons'\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nconst id_sucursales = usuario && usuario.horarios.map(function (item) {\r\n  return item['sucursal']['_id'];\r\n})\r\n\r\nexport default function Register(props) {\r\n\r\n  const [form] = Form.useForm();\r\n  const [avatar, setAvatar] = useState(props.paciente ? props.paciente.avatar : 'noimg.jpg')\r\n  const [medicosData, setMedicosData] = useState([])\r\n\r\n  useEffect(() => {\r\n    getData('users_by_rol/Medico').then((rs) => {\r\n      setMedicosData(findMyDoctors(rs))\r\n    })\r\n  }, [])\r\n\r\n  // EScoger solo los medicos que compartan siucursal y darlse formato pÃ¡ra el select\r\n  const findMyDoctors = (arr) => {\r\n    let doctorsFound = [];\r\n    arr.forEach((doctor) => {\r\n      doctor.horarios.forEach(h => {\r\n        if (id_sucursales.includes(h.sucursal._id) && !doctorsFound.includes(doctor)) {\r\n          doctor.label = doctor.name;\r\n          doctor.value = doctor._id;\r\n          doctorsFound.push(doctor)\r\n        }\r\n      })\r\n    })\r\n    return doctorsFound;\r\n  }\r\n\r\n  async function addHistoria() {\r\n    return await fetch(API + 'historias/add', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        historial: \"Historia clinica al \" + new Date()\r\n      })\r\n    }).then(res => res.json())\r\n      .then(response => {\r\n        console.log('Story Created: ', response);\r\n        return response\r\n      })\r\n      .catch(error => console.error('Error:', error))\r\n  }\r\n\r\n  const createPAtientData = async (usr) => {\r\n    const historia = await addHistoria();\r\n    console.log('historia on Register: ', historia);\r\n    const postBody = {\r\n      usuario: usr,\r\n      historia: historia.id_historia,\r\n      notas: [],\r\n      recetas: []\r\n    }\r\n    console.log('postBodyForExpedient: ', postBody);\r\n    await fetch(API + 'expedientes/add', {\r\n      method: 'POST',\r\n      body: JSON.stringify(postBody),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(res => res.json())\r\n      .then(response => {\r\n        console.log('Success:', response);\r\n        message.success(response.message || response.error);\r\n        // if (response.message && response.message === 'Expediente creado correctamente') {\r\n        //   props.setAdding(false)\r\n        // }\r\n      })\r\n      .catch(error => console.error('Error:', error))\r\n  }\r\n\r\n  const onFinish = async (values) => {\r\n\r\n    // Register patient\r\n    values.avatar = avatar;\r\n    values.estatus = '1';\r\n    values.rol = 'Paciente';\r\n    values.password = '' + values.telefono;\r\n    values.universidades = [];\r\n    values.certificacion = '';\r\n    values.cedula = '';\r\n    values.horarios = [];\r\n    // values.medicos_asignados = props.paciente ? props.paciente.medicos_asignados : [usuario._id];\r\n    values.responsable = props.paciente ? props.paciente.responsable : { nombre: values.res_name, telefono: values.res_phone }\r\n\r\n    delete values.prefix;\r\n    delete values.res_name;\r\n    delete values.res_phone;\r\n\r\n    const url = props.paciente ? API + 'users/updateUser/' + props.paciente._id : S_API + 'register';\r\n\r\n    console.log(values)\r\n    console.log('url: ', url);\r\n\r\n    await fetch(url, {\r\n      method: props.paciente ? 'PUT' : 'POST',\r\n      body: JSON.stringify(values),\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(res => res.json())\r\n      .then(response => {\r\n        message.success(response.message || response.error);\r\n        props.paciente ? console.log('Editing, not creating patient') : createPAtientData(response.user_id);\r\n        response.message === 'Usuario creado correctamente' ?\r\n          window.location.reload(false) : console.log(response)\r\n        // props.setAdding(false) : console.log(response);\r\n        response.message === 'Usuario actualizado correctamente' ?\r\n          props.setAdding(false) : console.log(response);\r\n\r\n      })\r\n      .catch(error => console.error('Error:', error))\r\n      .finally(() => { if (props.getPacientesData) props.getPacientesData() })\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log('Failed:', errorInfo);\r\n    errorInfo.errorFields.forEach((p) => {\r\n      message.error('Ingrese el campo ' + p.name)\r\n    })\r\n  };\r\n\r\n\r\n  //Start upload props Upload File\r\n  const dragDropProps = {\r\n    name: 'file',\r\n    multiple: false,\r\n    action: API + 'imagenes/upload',\r\n\r\n    onChange(info) {\r\n      const { status } = info.file;\r\n\r\n      if (status !== 'uploading') {\r\n        console.log(info.file, info.fileList);\r\n      }\r\n\r\n      if (status === 'done') {\r\n        message.success(`${info.file.name} file uploaded successfully.`);\r\n        console.log('New Files: ', info.file.response.file)\r\n        setAvatar(info.file.response.file)\r\n      } else if (status === 'error') {\r\n        message.error(`${info.file.name} file upload failed.`);\r\n      }\r\n    },\r\n\r\n    // onDrop(e) {\r\n    //   console.log('Dropped files', e.dataTransfer.files);\r\n    // },\r\n  };\r\n  return (\r\n    <div className='mainContainer'>\r\n      {\r\n        props.paciente ? <h4>Editar paciente</h4> : <h4>Registrar Paciente</h4>\r\n      }\r\n\r\n      <br />\r\n\r\n\r\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n        <Upload {...dragDropProps}>\r\n          <Button type=\"dashed\" icon={<UploadOutlined style={{ fontSize: 24, color: '#0d6efd' }} />} style={{ width: 400, height: 80 }} block>Selecciona la foto de perfil</Button>\r\n        </Upload>\r\n      </div>\r\n      <br />\r\n      <Form\r\n        // {...formItemLayout}\r\n        labelCol={{ span: 6 }} wrapperCol={{ span: 16 }}\r\n        form={form}\r\n        name=\"register\"\r\n        onFinish={onFinish}\r\n        onFinishFailed={onFinishFailed}\r\n        initialValues={props.paciente}\r\n        scrollToFirstError\r\n      >\r\n\r\n        <Form.Item\r\n          name=\"name\"\r\n          label=\"Nombre\"\r\n          rules={[{ required: true, message: 'Ingresa Nombre y apellidos' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"Correo\"\r\n          rules={[{ type: 'email', message: 'Ingresa un correo electronico vaido!' }, { required: true, message: 'Ingresa un correo electronico' }]}>\r\n          <Input />\r\n        </Form.Item>\r\n\r\n\r\n        <Form.Item\r\n          name=\"telefono\"\r\n          label=\"Telefono\"\r\n          rules={[{ required: true, message: 'Ingresa tu numero de telefono' }]}\r\n        >\r\n          <InputNumber\r\n            // addonBefore={prefixSelector}\r\n            style={{ width: '100%' }}\r\n          />\r\n        </Form.Item>\r\n\r\n        {/* Start Adding Medicos ASignados */}\r\n        <Form.Item name=\"medicos_asignados\" label=\"Medicos Asignados\" rules={[{ required: true, message: 'Agrega al mennos un medico' }]} >\r\n          <Form.List name=\"medicos_asignados\" >\r\n            {(fields, { add, remove }, { errors }) => (\r\n              <>\r\n                {fields.map((field, index) => (\r\n                  <Form.Item label='' required={false} key={field.key}>\r\n                    <Form.Item {...field} noStyle\r\n                      validateTrigger={['onChange', 'onBlur']}\r\n                      rules={[{ required: true, whitespace: true, message: \"Selecciona un Medico o elimina este campo\" }]}\r\n                    >\r\n                      <Select options={medicosData} placeholder=\"Selecciona Medico\" style={{ width: fields.length > 1 ? '90%' : '100%' }} />\r\n                    </Form.Item>\r\n                    {fields.length > 1 ? (\r\n                      <MinusCircleOutlined\r\n                        className=\"dynamic-delete-button\"\r\n                        onClick={() => remove(field.name)}\r\n                      />\r\n                    ) : null}\r\n                  </Form.Item>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\r\n                    Agregar Medico\r\n                  </Button>\r\n\r\n                  <Form.ErrorList errors={errors} />\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        </Form.Item>\r\n        {/* End of Adding Medicos ASignados */}\r\n\r\n        <Divider>Responsable (opcional) </Divider>\r\n        <Form.Item name=\"res_name\" label=\"Nombre Responsable\" >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"res_phone\" label=\"Telefono Responsable\">\r\n          <Input />\r\n        </Form.Item>\r\n        <Divider />\r\n\r\n        <Form.Item\r\n          name=\"calle\"\r\n          label=\"Calle\"\r\n          rules={[{ required: false, message: 'Ingresa calle', whitespace: true }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"numexterior\"\r\n          label=\"Num Exterior\"\r\n          rules={[{ required: false, message: 'Ingresa numero exterior' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"numinterior\"\r\n          label=\"Num Interior\"\r\n          rules={[{ required: false, message: 'Ingresa numinterior' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          label=\"Colonia\"\r\n          name=\"colonia\"\r\n          rules={[{ required: false, message: 'Ingresa ' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"estado\"\r\n          label=\"Estado\"\r\n          rules={[{ required: false, message: 'Apellido materno', },]}>\r\n          <Select placeholder=\"Elije tu estado\" showSearch>\r\n            {estados.map(e => <Option value={e}>{e}</Option>)}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"municipio\"\r\n          label=\"Municipio\"\r\n          rules={[{ required: false, message: 'Ingresa tu municipio' }]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"codigopostal\"\r\n          label=\"Codigo Postal\"\r\n          rules={[{ required: false, message: 'Ingresa codigopostal', },]}>\r\n          <InputNumber style={{ width: '100%', }} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"sexo\" label=\"sexo\" rules={[{ required: false, message: 'Selecciona una opcion' }]}>\r\n          <Select placeholder=\"Elije el sexo\" >\r\n            <Option value=\"H\">H</Option>\r\n            <Option value=\"M\">M</Option>\r\n            <Option value=\"Otro\">Otro</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"edad\" label=\"Edad\" rules={[{ required: false, message: 'Ingresa edad' }]} >\r\n          <InputNumber min={1} max={120} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"diagnostico\" label=\"Diagnostico\" rules={[{ required: false, message: 'Ingresa el diagnostico' }]} >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"peso\" label=\"Peso\" rules={[{ required: false, message: 'Ingresa el peso' }]} >\r\n          <InputNumber min={1} max={200} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"talla\" label=\"Talla\" rules={[{ required: false, message: 'Ingresa la talla' }]} >\r\n          <InputNumber min={1} max={200} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"ocupacion\" label=\"Ocupacion\" rules={[{ required: false, message: 'Ingresa ocupacion' }]} >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"estado_civil\" label=\"Estado Civil\" rules={[{ required: false, message: 'Ingresa estado civil' }]} >\r\n          <Select placeholder=\"Elije el estado civil\" >\r\n            <Option value=\"Soltero\">Soltero</Option>\r\n            <Option value=\"Casado\">Casado</Option>\r\n            <Option value=\"Divorciado\">Divorciado</Option>\r\n            <Option value=\"SeparaciÃ³n en proceso judicial\">SeparaciÃ³n en proceso judicial</Option>\r\n            <Option value=\"Viudo\">Viudo</Option>\r\n            <Option value=\"Concubinato\">Concubinato</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"escolaridad\" label=\"Escolaridad\" rules={[{ required: false, message: 'Ingresa escolaridad' }]} >\r\n          <Select placeholder=\"Elije escolaridad\" >\r\n            <Option value=\"Ninguno\">Ninguno</Option>\r\n            <Option value=\"Preescolar\">Preescolar</Option>\r\n            <Option value=\"Primaria\">Primaria</Option>\r\n            <Option value=\"Secundaria\">Secundaria</Option>\r\n            <Option value=\"Medio Superior\">Medio Superior</Option>\r\n            <Option value=\"Superior\">Superior</Option>\r\n            <Option value=\"Posgrado\">Posgrado</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"lugar_de_nacimiento\" label=\"Lugar De Nacimiento\" rules={[{ required: false, message: 'Ingresa el lugar de nacimiento' }]} >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"fecha_nacimiento\" label=\"Fecha De Nacimiento\" rules={[{ required: false, message: 'Ingresa la fecha de nacimiento' }]} >\r\n          <DatePicker />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"ciudad\" label=\"Ciudad de residencia\" rules={[{ required: false, message: 'Ingresa ciudad' }]} >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"fuma\" label=\"Fuma\" rules={[{ required: false, message: 'Ingresa tu universidad' }]} >\r\n          <Switch defaultChecked={false} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"alcohol\" label=\"Alcohol\" rules={[{ required: false, message: 'Ingresa tu universidad' }]} >\r\n          <Switch defaultChecked={false} />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"drogas\" label=\"Drogas\" rules={[{ required: false, message: 'Selecciona una opcion' }]} >\r\n          <Select placeholder=\"Elije una opcion\" >\r\n            <Option value=\"Antes\">Antes</Option>\r\n            <Option value=\"Ahora\">Ahora</Option>\r\n            <Option value=\"Nunca\">Nunca</Option>\r\n          </Select>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"cuales_drogas\" label=\"Cuales Drogas\" rules={[{ required: false, message: 'Selecciona una opcion' }]} >\r\n          <Input />\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"enfermedades_familiares\" label=\"Enfermedades Familiares\" rules={[{ required: false, message: 'Ingresa tu universidad' }]} >\r\n          <Form.List name=\"enfermedades_familiares\" >\r\n            {(fields, { add, remove }, { errors }) => (\r\n              <>\r\n                {fields.map((field, index) => (\r\n                  <Form.Item label='' required={false} key={field.key}>\r\n                    <Form.Item {...field} noStyle\r\n                      validateTrigger={['onChange', 'onBlur']}\r\n                      rules={[{ required: true, whitespace: true, message: \"Ingresa la enfermedad o elimina este campo\" }]}\r\n                    >\r\n                      <Input placeholder=\"Ingresa enfermedad\" style={{ width: fields.length > 1 ? '90%' : '100%' }} />\r\n                    </Form.Item>\r\n                    {fields.length > 1 ? (\r\n                      <MinusCircleOutlined\r\n                        className=\"dynamic-delete-button\"\r\n                        onClick={() => remove(field.name)}\r\n                      />\r\n                    ) : null}\r\n                  </Form.Item>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\r\n                    Agregar Enfermedad Familiar\r\n                  </Button>\r\n\r\n                  <Form.ErrorList errors={errors} />\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"enfermedades_medicas\" label=\"Enfermedades Medicas\" rules={[{ required: false, message: 'Ingresa tu universidad' }]} >\r\n          <Form.List name=\"enfermedades_medicas\">\r\n            {(fields, { add, remove }, { errors }) => (\r\n              <>\r\n                {fields.map((field, index) => (\r\n                  <Form.Item label='' required={false} key={field.key}>\r\n                    <Form.Item {...field} noStyle\r\n                      validateTrigger={['onChange', 'onBlur']}\r\n                      rules={[{ required: true, whitespace: true, message: \"Ingresa la enfermedad o elimina este campo\" }]}\r\n                    >\r\n                      <Input placeholder=\"Ingresa enfermedad\" style={{ width: fields.length > 1 ? '90%' : '100%' }} />\r\n                    </Form.Item>\r\n                    {fields.length > 1 ? (\r\n                      <MinusCircleOutlined\r\n                        className=\"dynamic-delete-button\"\r\n                        onClick={() => remove(field.name)}\r\n                      />\r\n                    ) : null}\r\n                  </Form.Item>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\r\n                    Agregar Enfermedad Medica\r\n                  </Button>\r\n\r\n                  <Form.ErrorList errors={errors} />\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        </Form.Item>\r\n\r\n        <Form.Item name=\"tratamiento_actual\" label=\"Tratamiento actual\" rules={[{ required: false, message: 'Ingresa tu universidad' }]} >\r\n          <Form.List name=\"tratamiento_actual\" >\r\n            {(fields, { add, remove }, { errors }) => (\r\n              <>\r\n                {fields.map((field, index) => (\r\n                  <Form.Item\r\n                    // label={`Tratamiento ${index + 1}`} \r\n                    label=''\r\n                    required={false} key={field.key}>\r\n                    <Form.Item {...field} noStyle\r\n                      validateTrigger={['onChange', 'onBlur']}\r\n                      rules={[{ required: true, whitespace: true, message: \"Ingresa la enfermedad o elimina este campo\" }]}\r\n                    >\r\n                      <Input placeholder=\"Ingresa enfermedad\" style={{ width: fields.length > 1 ? '90%' : '100%' }} />\r\n                    </Form.Item>\r\n                    {fields.length > 1 ? (\r\n                      <MinusCircleOutlined\r\n                        className=\"dynamic-delete-button\"\r\n                        onClick={() => remove(field.name)}\r\n                      />\r\n                    ) : null}\r\n                  </Form.Item>\r\n                ))}\r\n                <Form.Item>\r\n                  <Button type=\"dashed\" onClick={() => add()} icon={<PlusOutlined />}>\r\n                    Agregar Tratamiento\r\n                  </Button>\r\n\r\n                  <Form.ErrorList errors={errors} />\r\n                </Form.Item>\r\n              </>\r\n            )}\r\n          </Form.List>\r\n        </Form.Item>\r\n\r\n        <Form.Item labelCol={{ span: 6 }} wrapperCol={{ offset: 6, span: 16 }}>\r\n          <Space>\r\n            <Button type=\"primary\" htmlType=\"submit\">\r\n              {props.paciente ? 'Guardar' : 'Registrar'}\r\n            </Button>\r\n            {\r\n              props.setAdding && <Button onClick={() => props.setAdding(false)}>Cancelar</Button>\r\n            }\r\n          </Space>\r\n\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport function RegisterModal({ paciente, setIsModalOpen, isModalOpen, getPacientesData }) {\r\n\r\n  // copyng the medic register patient technique \r\n  const handleOk = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n  const handleCancel = () => {\r\n    setIsModalOpen(false);\r\n  };\r\n\r\n  return <Modal width={800} title={paciente ? 'Editar Paciente' : 'Registrar Paciente'} open={isModalOpen} onOk={handleOk} onCancel={handleCancel} destroyOnClose\r\n    footer={[\r\n      // <Button onClick={() => setIsModalOpen(false)}>Cancelar</Button>,\r\n      // <Button type=\"primary\" htmlType=\"submit\" form='register_patient_medic'>\r\n      //   Guardar\r\n      // </Button>\r\n    ]}\r\n  >\r\n    <Register paciente={paciente} setAdding={setIsModalOpen} getPacientesData={getPacientesData} />\r\n  </Modal>\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}